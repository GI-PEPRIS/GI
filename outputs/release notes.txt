
T_0_4_8
1) Update persistent tables;
2) Implementing kinds of properties of one assessment element including GRID input but need better done for records' editions;
3) Add initial GUI prototype for exploration trend and determinsitic volumetric method.

T_0_4_8_Pack
1) refactor GUI about exploration trend and volumetric method
2) add demo records into template DB

2012.3.9: T_0_4_8_pack
1) Fix the persistence issues about element's properties

2012.3.20 T_0_5_000
1) Upgrade the DB schema and fix some table content. new schema contains the property tables of a assessment element and ref_sql_topic etc;
2) Refactor the code about the record list and edition given one table, including order those records, directly skip to the edition panel etc;
3) Perfect the exploration trend calculation method;
4) Refactor the code about edition of properties of one assessment element;
5) Release the initial version of volumetric method;

2012.3.26 T_0_5_100
1) Fix the issue not fixed by above version
2) Add un-completed NPV model
3) Update info output model

2012.4.09 T_05_200
1) Fix the issues mainly from the T_0_05_000 version;
2) Upgrade the "accumulation model analysis" model with kinds of operations against those parallel axises;
3) Implement GUI layout of pool-rank and non-parameter but not be finished yet.

2012.4.12 T_05_300
1) Fix the crash issue when creating new DB. Note: this problem occurs only RELEASE version and not get it yet. JUST ENLARGE THE ID INCREMENT NUMBER!
2) Fix the rollback issue about property set.

2012.4.16 T_05_400
1) Fix "double click" issue when directly edit one table record;
2) Fix "profile" of one element not successfully persisted;
3) Fix commit order when commiting one element: firstly element itself, secondly its components;
4) Redefine field "rockmaxthickness" of info_element_geology
5) Release the initial version of "GSC non parameter" module

2012.4.25 T_06_000
1) Release the initial version about GSC non-parameter and pool-size-by-rank
2) Update the "maturity analysis" module about multiple scoring template

2012.5.8 T_06_100
1) Add new table "ref_assessment_quick_template";
2) Add "weight" field as default weight value in "ref_assessment_risk_factor";
3) Change from "sore" to "quickscore", add "fuzzyscore","role" and "remark"fields in "ref_assessment_element_factor". "role" is usef to hint whehter corresponding
factor plays the positive or negative role; "remark" let user to describe the inference reason; In addition, add "m_isShown" for its memory record;
4) Implement new class "CTopicQueryAnalysis";
5) Fix issues about persistence of scoring schema;

2012.5.16 T_06_300
1) Update "info_assessment_element_volume" table supporting description of non-normal resource parameter;
2) Initial version of setup of scoring system;
3) Fix issues about resource model.

2012.5.21 T_06_300(Updated)
1) fix issues about volumetric module;
2) fix issues about scoring sysytem such as can't update template, delete factors etc.

2012.5.24 T_06_500
1) 修改库表结构，需要更新最新的DEMO数据库：增加“activity_assessment_parameter”用于持久化资评活动的计算参数；增加系列NPV表，但暂未增加字段；变更
“info_assessment_element_exploration”和“info_assessment_element_pool”中的“groupidx”字段为“groupname”字段；调整“activity_assessment_resource”和“activity_assessment_risk”；
2）修复确定性打分规范不能够删除，体积法不确定性CRASH，调整样本数据分析第二页面的右键菜单；
3）增加资评活动持久化机制，即在“CAssessmentAssessor”中增加“GetPracticeCount（）”、“GetPracticeRecord（）”、“GetParameterRecord（）”、“GetResourceRecord（）”等接口，获取资评
活动的相关计算参数；各类资评计算对象中的“ResorcePredication”增加“ToParameterString（）”和“FromParameterString”用于产生计算参数字符串（用于持久化）和反解译相关参数；
4）增加图像COPY到剪切板功能。

2012.5.29 T_06_500_fixed
1) 修改针对油藏规模序列法等不同计算方法，持久化时ACITIVITYIDX不正确等问题；
2）增加油藏规模序列法计算参数中，关于回归线的持久化；即，可以直接从数据库中回复原有的回归线和当初的分组；
3）自然总体概率分布计算参数，增加概率分布变量（原先作为类的成员变量），同时增加该概率分布变量的持久化实现。

2012.6.1 T_06_550
1) 升级库表结构：修改NPV相关参数表；增加资源类型表，用于NPV不同资源投资支出，资源量计算等；修改“info_assessment_element_volume”,增加空间坐标字段；修改“ref_assessment_quick_standard”
增加“scoretype”字段；
2）修复相关缺陷：成熟度因子加载后，层次变乱的问题；修复确定性规则不能更新的问题；基于自然总体分布、体积法计算模块的参数不能持久化以及崩机问题；油藏规模序列法不能增加回复的回归线问题；
概率分布画板不能清空问题；
3）释放第一版本的净现金流底层算法实现。

2012.6.5 T_06_600_alpha
1) 初步解决油藏规模序列法分组计算不合理以及最小方差归为崩机；
2）调整趋势法底层代码结构，暂未解决EXP溢出问题。

2012.6.6 T_06_600_fixed
1) 修复自然总体、非参数以及体积法持久化以及历史记录不能回复的问题；
2）修复新创建模板，不能够更新确定性打分规则的问题；
3）增加资源类型方位接口;
4) 散点图可视化方式，增加连接散点的折线显示。

2012.6.8 T_06_700_alpha
1) 升级“acitivity_assessment_practice”表结构，便于存储不同资评对象的全局计算结果。同时，资评对象增加提取其全部资评活动的接口；
2）概率可视化类增加释放当前分布对象的接口，便于画板清空；
3）所有计算模块增加释放接口，便于回复界面状态；
4）升级针对资评活动信息的提取的接口，用数组返回同一活动ID的所有关联信息。

2012.6.18 T_06_800_alpha
1) 修复FUZZY MEMBER下拉列表重复问题，CRiskQuickScore增加Rollback函数；
2）修复资源模块相关的ISSUE：6.106,6.105,6.100等；
3）完善NPV计算代码。


2012.6.25 T_0_7_000_alpha
1) 修改资评对象的DeleteFactors（）函数，增加模板ID参数，用于指明仅删除所属模板的因子；
2）修复模糊成员函数的持久化问题 （Update，Delete），但目前版本对模糊成员函数的增、删等操作需要优化；
3）修改样本数据分析模块不能持久化问题；
4）初步给出决策树版本。

2012.7.2 T_0_7_500
1) 优化FUZZY MEMBER更新慢，提高GSC非参数持久化的分组数目（但分组数过高，仍不能持久化）；
2）修复趋势法崩机（无样本数据情况）、概率分布直接弹出崩机、MINQ过高，油藏规模崩机等问题；
3）确认样本数据分析时，部分概率分布参数求取不合理。

2012.7.2 T_0_7_600
1) 完成NPV不确定性算法实现；
2）SCATTER MATRIX增加多折线显示效果；
3）初步提交BAYES NETWORK版本。

2012.7.9 T_0_7_800
1) 去除多条折线同时渲染时，坐标轴多次渲染的问题；同时增加不同折线颜色配色；
2）实现、提供NPV计算参数敏感性分析；
3）NPV作为资评对象负责维护的活动对象；
4）提交概率树分析模块;
5) 修复直方图统计在所有样本值一样情况下时的异常处理；
6）修复SCATTER MATRIX不能渲染多条折线的问题;
7) 修复NPV敏感性参数分析模块；
8）完善PROBABILITY TREE可视化模块。

2012.7.13 T_0_8_000_alpha
1) 增加NPV持久化相关接口；增加针对COST_DETAIL不确定性的支持；
2）完善三种“树”的可视化模块。

2012.7.23 T_0_8_500
1) 增加三种可视化树的输入对话框实现；
2）修复FUZZY MEMBER编辑相关的缺陷。

2012.7.25 T_0_8_500
1) 增加LEE发现过程底层算法实现；
2）增加ROV经济评价底层算法实现。

2012.8.6 T_0_9_000
1) 升级库表结构，包括NPV相关表持久化问题的修复、资评活动表的更新等；
2）发布BAYES网络推理、ROV模块。

2012.8.8 T_0_9_000_fixes
1) 体积法计算模块调整，实现支持INPLACE资源量；
2）集成最新LEE发现过程模型算法实现，提升健壮性；
3）修改info_element_factor表，增加iscondition和iscommon两个字段，用于记录不同风险因子的性质；同时，修改CAccumulationFactor对应的持久化相关代码；
4）概率分布面板的缺省拾取显示相关信息；
5）CRiskFuzzyScore增大针对fuzzy standard和fuzzy member的rollback（）函数；


2012.8.21 T_0_9_100
1)丰富完善条件概率的应用（李治昊）：
  .更新CParallelPCADlg
	1)重写该类，使之能够编辑infor_element表中的iscommon\iscondition字段。将数据改用grid输出(原listctrl输出)
  .更新CWorkParallelCanvas
	1)更新SetActive，将m_curElement = curElement提前，防止在CParallelPCADlg::OnClose时找不到父对象(CWorkParallelCanvas)的curElement对象而死机
	2)增加ShowPCADlg：封装点击pca按钮后执行的功能，便于在该类外调用
  .更新CAssessorFrame
	1)更新SetActiveWorkspace，对于平行坐标页面，当CWorkParallelCanvas:: SetActive执行不成功时，直接弹出pca窗口
  .更新CFactorScoringSchemaSetupDlg
	1)更新IsMaturityExecuted，当前树有结点时才与infor_element中内容进行比较
  .更新CConditionProbabilityDlg:重写该类
	1)对于第一个页面,读取当前、以及父结点的边际概率值，并计算；增加提交数据、恢复数据的功能
	2)对于第二个页面
		a)改名为common and condition；
		b)计算当前成藏要素联合条件概率=iscontd！/iscommon！，dry=1-联合条件概率；
		c)当前对象为区带时，仅显示该页面，显示子成藏要素的联合条件概率及干井概率
		d)为driven/dry事件留出了接口
  .增加CConditionProbabilityPracticeDlg：提供条件概率恢复历史记录的功能
  .更新CWorkProbabilityTreeCanvas
	1)更新DoCreateProbabilityLevel:在创建dependence/indenpence的Probability Level前，输入概率值

2）针对关键缺陷的修复（吴博）
   .完成了发现过程的修改
   .体积法：添加了inplace oil选项相关内容并核对了计算结果。
   .全面修改了趋势法界面和计算过程。
   .去除了体积法和不确定性评价的seed，对其他参数取值范围也进行了限制。productionarea列的数据限制放开了。
   .为概率面板添加了Cursor选项
   .增加了对fuzzydlg中 同一member 添加不同 functiontype时的限制。

3)针对底层代码缺陷的修复（盛秀杰）
   .增加删除practice的接口；
   .增加EAT_Bayes资评活动对象，实现对其practice的管理；
   .完成条件概率新增部分对应的底层代码缺陷；
   .GSC非参数的历史记录回复（分组有问题引起）；
   .发现过程界面图形显示不完整等问题；

2012.8.28 T_0_9_200
1) 针对体积法计算模块的完善；
2）底层代码缺陷的修复。

2012.9.23 T_0_9_300
1) 升级库表结构：ref_assessment_risk_factor 增加m_scoreType字段；
2）修复底层代码缺陷：info_element_factor记录不能正常提交；发现过程模型APPLY重复点击以及COMMIT提交死机问题；不确定性体检法死机问题；
3）李治昊修改：
   1.更新CFactorScoringSchemaSetupDlg：
     1)更新IsWeightLegal：sum取4位精度
     2)更新DoDeleteFactor：删除因子后重新插入tree item
   2.更新CFactorUpdateDlg
     1)更新IsWeightLegal，判断条件改为if (leftWeight>0),leftweight精度取4位
     2)更新GetRemainingWeight：sum取4位精度
     3)更新DoCreateFactorInDataView，调用ReloadTree前不需要条件node->m_factor.m_parentid!=-1：解决建立1级因子时weight不刷新的问题
     4)更新DoEditFactorInDataView，调用ReloadTree前不需要条件node->m_factor.m_parentid!=-1：解决建立1级因子时weight不刷新的问题
   3.更新CFactorEvaluationTreeDlg
     1)更新Checkalldatavalid：sum取4位精度
   4.更新CAssessorFrame
     1)更新SetActiveWorkspace：平行坐标tab页面，区分CWorkParallelCanvas与通用平行坐标CParallelCoodinateCanvas对象
   5―12：提供通用平行坐标功能
   5.增加CParallelCoodinateCanvas
   6.增加CParallelCoordinateWizard
   7.增加CParallelCoodinateFactorPage
   8.增加CParallelCoordinateFactorUpdateDlg
   9.增加CParallelCoodinateElementPage
   10.增加CParallelCoordinateFactorOptionDlg
   11.增加CParallelCoordinatePCADlg
   12.增加CParallelCoordinateClusterDlg
4）吴博修改：
   1 替换了activitytree中poolrankbysize的接口函数
   2 maiframe 中新增加了菜单，toolbar及其相关开关函数和风格设置函数，修改了默认的的风格设置函数
  处理了profile在系统数据库的关闭打开时的问题
   3 修改了property新建和重命名是不能重复的问题。
   4 修改了等值线绘制对话框，支持了非确定性算法时的面积计算。
   5 修改了发现过程中界面和图形显示的bug
   6 处理了成熟度分析中分数的读取和有效的判断及其提示
   7 增加了fuzzy在不同数据类型时添加的限制
   8 修改了资源模块中结果分布值的获取和有效性判断
   6 不确定风险分析增加了commit和读取功能。完成了constant的随机值获取方法。
   7 增加了USGS模块的界面
   8 分布模块增加了对鼠标滚动的支持
   9 趋势法进一步完善了界面的信息显示

――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
2012.9.10 T_0_9_400

更新人：盛秀杰
1. 升级库表结构：activity_assessment_practice,增加APPROVED字段；
2. 修复缺陷：627、620、619、617、616、613、611、609、583以及BAYES树、概率树相关缺陷；
3. 修改CProfilePanel获取资评活动错误等问题。

更新人：李治昊
1.更新CWorkListCtrl：修正编辑list item不定位的问题（可能在某次合并中覆盖掉原先代码）
	1)增加OnListSelected：设置m_index为当前选择index
	2)增加OnListDeselected：设置m_index为-1
2.更新CAssessorFrame
	1)更新CreateToolBar：增加workspace对应的工具条
	2)增加tab页菜单对应的enum id，从TB_PARALLEL_Drill_Down到TB_PROFILE_Approved
	3)增加OnTabMenus：tab页菜单对应的enum id的响应函数
	4)增加OnNotebookPageChanged，切换页面时为workspace工具条添加不同菜单
	5)增加SetParallelTabMenus，为平行坐标页面添加工具条菜单
	6)增加EnableParallelTabMenus，设置平行坐标页面工具条中菜单的可用性
	7)增加SetListRecordTabMenus，为list record页面添加工具条菜单
	8)增加SetDecisionTreeTabMenus，为decision tree canvas页面添加工具条菜单
	9)增加SetProbabilityTreeTabMenus，为probability tree页面添加工具条菜单
	10)增加SetBayesNetworkTabMenus，为bayes network页面添加工具条菜单
	11)增加SetProfileTabMenus，为profile页面添加工具条菜单
3.更新CWorkParallelCanvas
	1)添加友元类CAssessorFrame，便于在CAssessorFrame内调用CWorkParallelCanvas的成员变量
	2)针对通用平行坐标修改：合并CParallelCoordinateCanvas的内容
4.更新CConditionProbabilityPracticeDlg
	1)更新GetRiskRecords：改为void型，传入引用参数CAccumulationAssessor::RiskVector &risks
5.更新CConditionProbabilityDlg
	1)更新OnPractice：调用修改的4.1) GetRiskRecords
	2)更新GetTemplateFactors：改为void型，传入引用参数CAccumulationElement::FactorVector &templateFactors，以及对象参数
	3)更新InitCommonGridStyle：m_commonVec仅存入具有common、condition属性的因子，并将这些因子分别存入CBayesConditionInference的对象；另外，在grid中用颜色区分common、condition因子
	4)增加InitTrapData，在InitCommonGridData中调用：初始化区带的data
	5)增加InitTrapAboveData，在InitCommonGridData中调用：初始化区带之上（成藏体系）data
	6)增加SetVerifiedProbability，在InitTrapAboveData，OnRadioBoxSelected调用：设置验证的概率
	7)更新OnRadioBoxSelected：选择Radiobox的值，根据discovery\dry类别调用SetVerifiedProbability
	8)增加AddCommonAndIndividualFactors，在InitCommonGridStyle，SetVerifiedProbability调用：将对应element的因子加入到CBayesConditionInference的对象，以便之后InitTrapData调用，分别得到common\ individual\independent的概率值
6.更新CParallelPCADlg
	1)增加IsRecordLevelLegal：不同级别的因子不能够同时提交
	2)更新Commit：提交因子后，将非当前级别的isCommon、isCondition置0
7.更新CFactorUpdateDlg：解决读取score type错误的问题
	1)更新CreateFactorInDB：创建因子时，同时存入score type
	2)更新EditFactorInDB：更新因子时，同时存入score type
	3)更新UpdateRiskFactor：编辑因子成功后，禁用score type
	4)更新IsFactorRecordLegal：增加检查确定性、非确定性标准数据是否合法if (m_quickStandard- Count>GetFavorabilityInDB().size())
	5)更新InitRuleDefaultValue：不再靠个数确定score type
	6)更新FillScoreType，得到确定性标准后，填入首个标准
8.更新CFuzzyStandardUpdateDlg：提供rollback功能
	1)更新CreateButtonSpacer：增加commit按钮控件
	2)增加OnCommit：提交数据库
	3)更新OnClose：退出时，区分当前是否需要提交数据库：Yes，rollback；No，直接退出
	4)更新DeleteFuzzyStandard：删除标准后，标记为需要提交数据库
	5)更新UpdateFuzzyStandard：更新标准后，标记为需要提交数据库
9.更新CProfilePanel
	1)更新头文件，将OnDataRefresh、OnDataDelete、OnDataApproved设为public
2)更新OnDataDelete：当前行选中情况下，才执行删除
	3)更新OnDataApproved：当前行选中情况下，才执行功能
10.更新CRovManagementOptionsPage：解决最后一年井数出错
	1)更新InitGridData:填写最后一年数据时，由于最后一年数据不存在，因此设置该数据为0
11.更新CNpvEDPBasicRecordPage
	1)更新InitData：解决输入start、year间隔过小无法进入CNpvEDPScheduleRecordPage的问题
12.更新CParallelFactorOptionDlg：针对通用平行坐标功能做出修改
13.删除CParallelCoordinateCanvas、CParallelCoordinateClusterDlg、CParallelCoordinateFactorOptionDlg


更新人：吴博
1 重新调整了usgs模块的界面，完成计算功能和分布面板显示功能，添加了多曲线显示面板功能。
2 完成了活动树的是否可用的控制
3 修改了最新的bug列表的缺陷。成熟度分析的添值的有效性判定问题。
4 maiframe 中新增加了菜单，toolbar及其相关开关函数和风格设置函数，修改了默认的的风格设置函数.
5 修改了等值线绘制对话框，了非确定性算法时的面积计算方式进行了修改。

2012.9.17 T_0_9_500

更新人：盛秀杰
1）增加ref_sys_user表，用于远程数据库登录以及相关用户权限控制；
2）修复scoretype的数据库更新、概率树输入值不能保存、条件概率持久化恢复时不同模板ID的处理；
3）增加IsEnableActivity接口，用于建立业务流程；
4）scatter canvas多曲线颜色显示；
5）本版本修复待复核的缺陷：575、570、557、541、535、534、532、530、522、521、516、515、499、497、487、480、478、457、456、441、438、
437、420、355、353、352、323、267、231、628。

更新人 吴博
1 frame 和 app 增加了login对话框（示例）和新建数据库对话框（仅单机版有效）
2 发现过程模块修改了practice的读取和保存问题
3 成熟度分析对话框checkdatavalid函数增加了对填充的数据有效性的判断
4 fuzzydlg的构造函数中增加对valuetype的限定
5 模特卡罗模块的factortabletree文件中，修改了init初始化函数，和成熟度模块一样可以读取默认profile内容了。取消了load按钮。
6 资源模块增加了结果和分布图的互动（grid双击结果单元格listctrl点击列分布图会有定位显示）
7 usgs增加了计算后默认显示第一个结果的功能，并修改了分布参数的弹出和设置函数。
8 profile增加了对发现过程的支持和题头
9 对topicquery和detailist等模块界面进行了优化，如窗口大小和图片显示和聚焦等。
10 修复缺陷669 665 648 574 565 554 551 618 604 还有部分缺陷因为优先级和底层原因延迟，未列出。
11 处理了当对象添加删除时活动树的可用性实时刷新的问题。


更新人 李治昊
1.更新CAssessorFrame
1)更新SetMenuToolbarEnable：
a)对Recent Files和Clear Recent Files做出例外：这两个菜单常可用
b)对于不同id对应的toolbar给予具体实例，例：toolbar = m_profileToolbar
2)增加模板函数：template<class T>	void CreatePanel，避免创建workspace的panel时编写过多重复代码
3)更新CreateWorkMapPanel，CreateParaCoodPanel，CreateBayesPanel，CreateDecisionPanel， CreateProbabilityPanel：调用1)模板函数重构函数中相似代码
4)增加RefreshListRecord：刷新当前list record页的数据
5)更新SetActiveWorkspace：对于各个页面，workspace不存在时添加页面；存在时在当前存在页前插入页
6)增加GetComparedTabCaption，在SetActiveWorkspace调用：获取需添加tab页的名称
7)增加SetCurrentTabActive，在SetActiveWorkspace调用：页面存在时，刷新后显示
8)增加InsertNewTab，在SetActiveWorkspace调用：同类页面存在时，插入新tab页
9)增加AddNewTab，在SetActiveWorkspace调用：相同页面不存在、同类页面不存在时，增加tab页
10)更新OnNotebookPageChanged：更新部分条件判断为pageName.StartsWith(“”)
11)更新OnTabMenus：根据tab页获取当前canvas，进行工具条操作
12)更新EnableParallelTabMenus，改名为EnableParallelCoordinateToolbarTools
13)增加CreateBaseToolBar，CreateGeneralToolBar，CreateParallelCoordinateToolBar，CreateListRecordToolBar，CreateDecisionTreeToolBar，CreateProbabilityTreeToolBar，CreateBayesNetworkToolBar，CreateProfileToolBar：为不同worksapce页创建独立的工具条
14)更新CreateToolBar，改名为CreateToolBars：调用13)创建的工具条
15)增加EnableToolbarTools：封装toolbar tools可用的功能，调用1)SetMenuToolbarEnable
16)更新OnNotebookPageChanged：对于不同页面分别调用15) EnableToolbarTools，设置工具条的工具可用
17)增加CreateToolBar(wxAuiToolBar * &toolbar, long style) :封装创建各个工具条相同的代码
18)增加RealizeToolBar,封装创建各个工具条相同的代码：为每个工具条添加改变layout按钮
19)增加DoNoteBookPageChanged：封装tab页切换响应函数
20)更新OnNotebookPageChanged：调用19) DoNoteBookPageChanged
21)更新OnTabMenus：响应各个工具条layout按钮，改变layout后，调用19) DoNoteBookPageChanged，设置工具条状态
22)删除SetParallelTabMenus，EnableParallelTabMenus，SetListRecordTabMenus，SetDecisionTreeTabMenus，SetProbabilityTreeTabMenus，SetBayesNetworkTabMenus， SetProfileTabMenus
2.更新CTableTreeCtrl
	1)更新DoListRecord：双击kida表时，重新读取数据库，起到刷新作用
2)更新ShowListPage：增加是否刷新参数,当前tab页index,当前tab页名称参数。在响应CAssessorFrame:: SetActiveWorkspace时，刷新时显示当前表中内容；非刷新时增加list record页
3.更新CElementFactorProfileDlg，解决bugzilla：506
	1)更新CreateDescriptionSpacer：Role的wxCombobox改为只读
4.更新CWorkBayesNetworkProfileDlg，解决bugzilla：485
1)更新SetProbability：设置概率时加绝对值，防止默认数据为-0时更新报错；默认概率值大于1时概率值置为0，剔除非法数据
5.更新CFactorUpdateDlg
1)更新OnScoreTypeComboxSelected：编辑时，切换score type后，如新score type与数据库中数据不符合，则禁用更新rule的按钮；否则，使更新rule的按钮可用
2)更新UpdateRiskFactor：编辑成功后，使更新rule的按钮可用
6.更新CWorkParallelCanvas
	1)更新构造函数：去除最后一个bool型参数，isGeneral
	2)增加SetGeneral：设置成员变量m_isGeneral的值
7.更新CParallelCoodinateElementPage，解决bugzilla：666
	1)更新EnableFactorGrid：刷新时聚焦第一行，更新后聚焦最后一行
	2)增加FocusGridCell：封装聚焦cell功能
8.更新CNpvPolicyRecordPage
1)更新GetNPVPolicyRecord，解决bugzilla：524：切换页面前存储当前irr或pi的值，防止切换后值未设置
9.更新CFactorScoringSchemaSetupDlg
1)更新CreateDataViewCtrlSpacer：将weight列有progress column改为数值输出
10.更新CProbabilitySettingBook
	1)更新SetDistribution：当npv模块调用该类时，禁用histogram、log控件
11.更新CNpvProbabilityCanvasDlg
1)更新InitPage：设置m_canvas->m_iscursorvalid = true，使CProbabilityCanvas的cursor菜单可用
12.更新CNpvProbabilityCanvasDlg
1)更新InitPage：设置m_proCanvas->m_iscursorvalid = true，使CProbabilityCanvas的cursor菜单可用
13.更新CMonteFactorGridTable
	1)更新Init：直接读取模板中weight值，不从成熟度结果中读取。
14.更新CWorkListCtrl
	1)为refresh菜单增加id
	2)更新PopupRBtnMenu：增加refresh菜单
	3)增加OnRefresh：refresh菜单响应函数，调用CAssessorFrame:: RefreshListRecord

2012.9.24 T_0_9_800
更新人：盛秀杰
1）Bayes nework工具条状态控制。但目前版本删除结点和如果没有每一个结点配置概率值，会有崩机出现，需进一步解决；
2）probability和decision tree的内存泄露；
3）修复CProfilePanel关闭崩机；
4）修复决策树最后叶结点计算错误问题；
5）修复待复核缺陷：824、823、821、816、535、534、514、651、641、637、635、686、679、803、800794、790.

更新人 吴博
1）对象树中删除或添加对象，活动树会作出正确响应了。修改了setcurobject函数，增加了resetallimage的函数
   在getimageindex setimageindex 和runactivity函数中添加了对可用性的判断（待验证是否合理）
2）NPV中当遇到practise时增加了在riskpage 和 resourcepage 中对记录是否approved的提示
3）不确定性分析的第三个界面增加了分位数的显示
   修改了迭代次数初始默认值
   增加了取随机数时的等待状态
4）fuzzydlg中限定了valuetype基础上，当初始化fuzzymember为空时，会自动以quickrule来填充
5）mygrid中增加了排序按钮
   具体在样本分析的第一个界面进行了应用
其他bug修复：770 763 755 754 753 733 715 700 698 696 695 

更新人 李治昊
解决bug：762,761,760,759，757，752,750,749,746,744,723,722，714,713,712,711；721--718未复现

1.更新CMyListCtrl
	1)增加成员变量m_isMultipleSelection，标记当前listctrl是否多选
2)更新OnKeyDown：CTRL+A被触发时，当前listctrl为多选时，执行多选功能；反之，不执行
2.更新CWorkListCtrl
	1)更改CWorkListCtrl继承于window(原CMyListctrl)，便于notebook统一添加页面
2)增加InitLayout：将CMyListctrl加入到当前页面，相应的将继承于CMyListctrl的方法用只针对象调用，如m_ctrl->DeleteAllColumns();
3)更新InitVariables：标记当前listctrl为多选，1.1)m_isMultipleSelection = true，可执行多选功能
3.增加CMyNumericTextctrl：封装仅接受数字的textctrl
4.更新CAssessorFrame
1)更新LayoutToolBar：当工具条非浮动时，改layout为竖向时，使之浮动；改变工具条layout为横向时，嵌入工具条空间
	2)更新CreateToolBar：当前toolbar存在时，删除后，再创建新的toolbar
3)增加OnNotebookPageDragDone：响应page拖拽动作；拖出后，调用5. CWorkspacePageFloatingDlg，形成浮动窗口
4)增加RestoreNotebookPage：拖出的page关闭后，重新加入notebook
5)更新CreateListRecordPanel，CreateEditRecordPanel，CreateProfilePanel调用模板函数CreatePanel
重构函数中相似代码
6)更新CreateBayesNetworkToolBar：设置需要鼠标拾取的按钮为wxITEM_CHECK，点击后持续该动作
7)增加ToogleTools：工具条中除当前对象外，其他均设置为未选中
8)更新OnTabMenus：
a)当bayes的工具被点击时，调用7) ToogleTools，并调用13. CWorkBayes CNetworkCanvas:: SetStatus设置工具条点击状态
b)当decision tree的工具被点击时，调用7) ToogleTools，并调用14. CWorkDecisionTreeCanvas:: SetStatus设置工具条点击状态
c)当probability tree的工具被点击时，调用7) ToogleTools，并调用15. CWorkProbabilityTree -Canvas:: SetStatus设置工具条点击状态
d)当parallel coordinate的工具被点击时，调用7) ToogleTools，并调用16. CWorkParallelCanvas
:: SetStatus设置工具条点击状态
9)更新CreateDecisionTreeToolBar：设置需要鼠标拾取的按钮为wxITEM_CHECK，点击后持续该动作
10)更新CreateProbabilityTreeToolBar：设置需要鼠标拾取的按钮为wxITEM_CHECK，点击后持续该动作
11)更新CreateParallelCoordinateToolBar：设置需要鼠标拾取的按钮(scatter)为wxITEM_CHECK，点击后持续该动作
12)增加CreateProgressStatusBar：调用17.CMyStatusBar，在主窗口创建含有进度条的状态栏
13)更新ResetWorkspace：将页面名=="Edit Record"，更新为页面名. StartsWith("Edit Record"):使之能够关闭多页面
5.增加CWorkspacePageFloatingDlg：notebook的page拖出后，将该页面变为浮动窗口
6.更新CWorkEdittingPanel：更改继承于window(原wxPanel)，便于notebook统一添加页面
7.更新CProfilePanel
1)更改继承于window(原wxPanel)，便于notebook统一添加页面
2)增加OnCellLeftClick：cell被点击时，设置当前行选中，并设置当前行
3)增加OnRowLeftClick：行头被选中时，设置当前行
8.更新CWorkBayesNetworkProfileDlg
	1)更新InitProbability，解决750：读取概率由TreeNode的m_priors改为m_settings
9.更新CFactorEvaluationTreeDlg
1)更新DoCommit，解决提交后参数设置没有保存：成熟度计算后，直接提交计算结果；否则，提交因子设置
	2)更新OnCommit：调用1) DoCommit，并设置忙、闲时鼠标图标更替
10.更新CFactorScoringSchemaSetupDlg
	1)更新CreateDataViewCtrlSpacer：权值设置显示仍为进度条
2)增加SetTotalWeightValue，在InitFrame、OnTemplateComboxSelected、DoDeleteFactor以及CFactorUpdateDlg:: UpdateRiskFactor中调用：显示当前模板各因子权值的和
3)更新DoDeleteFactor，解决711,713,714：删除成功后重新读取模板DoInsertTreeItem，传入isRefresh参数为false
11.更新CFactorUpdateDlg
1)更新EnableFuzzyButton，改名为SetScoreTypeAndFuzzyBtnUsable，并增加参数来确定设定哪个控件，解决712：设置scoretype和fuzzy按钮是否可用
2)更新UpdateRiskFactor，UpdateQuickRules，FillRecord：分别调用1) SetScoreTypeAndFuzzyBtn- Usable设置按钮fuzzy的可用性
3)更新FillScoreType，解决723：初始值设为第一个score type值。
12.更新CFuzzyInferenceDlg
1)更新CFuzzyInferenceDlg的构造函数：当显示所有参数时，才相应的禁用value type控件，固定Categorial\Rational
13.更新CWorkBayesNetworkCanvas
1)更新头文件：增加当前状态id，Status_Nothing --- Status_Probability
	2)增加SetStatus：设置当前动作状态
	3)增加DoAction：根据当前状态响应对应功能
4)更新OnLButtonUp：鼠标抬起时调用DoAction
14.更新CWorkDecisionTreeCanvas
1)更新头文件：增加当前状态id，Status_Nothing --- Status_Partial_Map
	2)增加SetStatus：设置当前动作状态
	3)增加DoAction：根据当前状态响应对应功能
4)更新OnLButtonUp：鼠标抬起时调用DoAction
15.更新CWorkProbabilityTreeCanvas
1)更新头文件：增加当前状态id，Status_Nothing --- Status_Remove
	2)增加SetStatus：设置当前动作状态
	3)增加DoAction：根据当前状态响应对应功能
4)更新OnLButtonUp：鼠标抬起时调用DoAction
16.更新CWorkDecisionTreeCanvas
1)更新头文件：增加当前状态id，Status_Nothing --- Status_Scatter
	2)增加SetStatus：设置当前动作状态
	3)增加DoAction：根据当前状态响应对应功能，目前及对应于scatter
4)更新OnLButtonUp：鼠标抬起时调用DoAction
17.增加CMyStatusBar：封装含有progress bar的状态条

2012.9.26 T_0_9_900
更新人：盛秀杰
1) 增加ref_assessment_probability_user用于用户自定义概率曲线存储；
2）NPV崩机增加IsScheduleReady()接口，GUI框架进一步处理；
3）修复因子模板删除、回滚、删除、回滚异常；
4）给出相对完整的BAYESNETWORK版本，进一步测试，增加description存储字段定义；
5）修复ROOT下REGION结点新增、删除不能保存问题；
6）修复待复核缺陷：824、823、821、816、572、535、637、686、679、803、800、798、794、790等。

更新人：吴博
1）制作了新添加的toolbar的图标
2）更换了toolbar的图标
3）修改了fuzzydlg中初始化函数
4）修改了体积法 shaeloil 的计算公式和方法
5）修复bug798 799

更新人：李治昊
1.更新CAssessorFrame
	1)更新OnNotebookPageDragDone：移出page时，sizer中的canvas需与sizer解绑
2)更新RestoreNotebookPage：page的sizer重新加入canvas
3)增加bayes工具条按钮TB_BAYESNETWORK_TREE_Default，相应更新OnTabMenus，DoNoteBookPageChanged，CreateBayesNetworkToolBar，SetMenuToolbarEnable
4)增加probability tree工具条按钮TB_PROBIBABILITY_TREE_Default，相应更新OnTabMenus，DoNoteBookPageChanged，CreateProbabilityTreeToolBar，SetMenuToolbarEnable
5)增加decision tree工具条按钮TB_DECISION_TREE_Default，相应更新OnTabMenus，DoNoteBookPageChanged，CreateDecisionTreeToolBar，SetMenuToolbarEnable
6)增加平行坐标工具条按钮TB_PARALLEL_Default，相应更新OnTabMenus，DoNoteBookPageChanged，CreateParallelCoordinateToolBar，SetMenuToolbarEnable
7)更新AddNewTab，解决793,782：workspace添加页面时，新建相应的对象
8)增加SetWorkspaceViewMenuStatus：根据workspace页面的开关情况，设置该页面在view menu中状态。
9)更新OnNotebookPageClose，OnTabClose，OnTabCloseAllButThis，RemoveAllPages，解决629：调用8) SetWorkspaceViewMenuStatus设置view menu中相应页面状态
2.更新CParallelPCADlg，解决809
	1)更新CreateComponentSpacer：设置初始component值为评价对象的个数
	2)增加OnRadioSelected：切换factors、elements时，切换component的最大值
3.更新CConditionProbabilityDlg, 解决806死机问题
	1)更新UpdateCommonData：分别处理trap、play的数据
4.更新CWorkProbabilityTreeCanvas
	1)更新头文件状态名称Status_Nothing为Status_Default
5.更新CWorkProbabilityTreeCanvas
1)更新DoMouseDownAction：此时不需要条件if (m_status != Status_Default)，因为在Status_Default时需要设置相应动作SetMapOperation(CAnyBayesNetwork::MO_Default)
6.更新CWorkDecisionTreeCanvas
	1)更新头文件状态名称：Status_Nothing为Status_Default
2)更新OnLButtonDblClick：当前节点为有有序分支时，不能改变type为CAnyDecisionTree:: NT_Outcome
7.更新CWorkParallelCanvas
	1)更新头文件状态名称：Status_Nothing为Status_Default
8.更新CFactorScoringSchemaSetupDlg
	1)更新IsWeightLegal：存在节点时，才输出weight相关信息if (!isLegal && m_tree->m_nodesnum>1)
	2)更新CreateTemplateAndBtnSpacer：创建只读模板选择框(wxComboBox)
	3)更新SetTemplateSelection：增加参数isReset，非reset时，模板选择框setselection(-1)
9.更新CFactorUpdateDlg，解决796
	1)更新CreateButtonSpacer：创建只读score type选择框(wxComboBox)
	2)更新FillEditedRecord：score type方法将SetValue(wxT(""))改为SetSelection(-1)
	3)更新FillCreatedRecord：score type方法将SetValue(wxT(""))改为SetSelection(-1)
4)更新CreateRuleSpacer：增加score range提示的控件
5)更新InitRuleDefaultValue：记录score id同时记录score range，并在界面输出
10.更新CTemplateUpdateDlg
1)更新OnCancel：因为模板选择框只读，执行CFactorScoringSchemaSetupDlg::SetTemplateValue(“”)改为执行CFactorScoringSchemaSetupDlg::SetTemplateSelection(false)
11.更新CWorkBayesNetworkProfileDlg，解决485
1)更新OnOK：当每对概率值设置不为一时，提示"Probabilities are not fully prepared!"
12.更新CConditionProbabilityDlg，解决792、791
1)增加ResetMarginalVectorIds：如需读取的记录如不属于当前模板，则替换m_marginalVec数组中风险因子id为新模板中相应因子id
13.更新CConditionProbabilityPracticeDlg
1)更新GetRiskRecords：存取记录模板与当前模板相同时直接读取记录；不同时，调用12.1) ResetMarginalVectorIds重置m_marginalVec数组，切换模板后读取记录
14.更新CNpvRiskRecordPage
1)更新OnPageShow：记录未approved时，询问用户过后，记录置0，将approved状态置为真
15.更新CNpvResourceRecordPage
1)更新OnPageShow：记录未approved时，询问用户过后，将记录置空，approved状态置为真
16.更新CFuzzyStandardUpdateDlg
	1)更新OnCommit：在标准全部删除后可提交，防止弹出Please fill in some records!的错误

2012.9.26 T_0_9_990

更新人：李治昊
1.增加CNpvPracticeDlg：为CNpvRiskRecordPage、CNpvResourceRecordPage数据提供历史记录选择功能
2.更新CNpvRiskRecordPage
1)更新SetDefaultProbabilities，增加参数：初始化读取概率值；在CNpvPracticeDlg中调用，重新读取概率值
2)增加OnCellLeftDClick：双击marginal\conditional的cell弹出1.CNpvPracticeDlg,显示相关element历史记录
3.更新CNpvResourceRecordPage
	1)更新头文件，增加成员变量：m_activityType记录当前资源方法类型
	2)更新OnCellLeftDClick：
a)点击cell(0,0)时，弹出资源方法历史记录
b)双击分布时，传入ShowCanvasProbalityDlg的参数由m_parameters改为新声明的parameters，以便CNpvEvaluator::UpdateParameter传参数为初始值m_parameters
3)增加函数LoadResourceAccumulationLoadResourceAccumulation (AnyPetro::CAccumulationAssessor::ResourceVector &resources,int productionType)：封装设置cell value的功能，便于在1.CNpvPracticeDlg中调用，填入资源量数据
4)更新GetNPVResourceRecordVector，防止CNpvEvaluator::UpdateParameter后，底层NPV_ ResourceRecord删除m_distribution导致本类成员变量m_distribution失效：非确定性时，给NPV_ResourceRecord的m_distribution赋值后，重新初始化CNpvResourceRecordPage的成员变量m_distribution
4.更新CNpvTreeBook
	1)增加IsScheduleReady：调用2)判断时间节点是否合法，防止死机
2)更新OnInitParameter：调用PrepareReserve前判断schedule是否合法，防止死机
5.更新CNpvEDPBasicRecordPage
1)更新InitEDPBasicParameter：调用PrepareReserve、PrepareWell前，利用4.2)判断schedule是否合法，防止死机
2)更新IsRecordLegal：非法时，设置m_treeBook->m_isEdpBasicActive = false，防止进入edpschedule页面生成grid时错误
6.更新CNpvPolicyRecordPage
1)增加ChangeExpiryDate：封装改变edpbasic页面disposal对应cell时间功能
2)更新OnExpiryDateChanged，调用1)
3)更新CanPageChanged，切换页面前调用1)

更新人：吴博
1）处理缺陷 875 874（待测试验证）872 871(不认为应该修改) 870 869 864（未出现）863（未出现）862（未出现）860（未出现）859（需底层配合）857（不认为应该修改）855 852 851（底层已经解决）849（未出现）848 847（未出现）846 842（未出现）

2012.10.22 T_1_0_000

更新人 盛秀杰：
1）修复SQL脚本错误，即不能产生NPV相关参数表；
2）修复、待确认缺陷：803、774、773、771、765、715、637、917、909、904、898、880。


2012.11.13 T_1_0_000_alpha_300
--------------------------------------------------------------------------------------------------------------------
更新人：盛秀杰
1）全面升级资评对象属性对象库，需要全面测试；同期，吴博需要更新最新界面设计；
2）此版本不含缺省数据库，需要根据最新SQL脚本，生成新的数据库，填写自己需要测试的数据内容；同期，彭成、曹晋负责基于DEMO数据库的升级；
3）修复缺陷：1089,1069,1065，未解1108。

--------------------------------------------------------------------------------------------------------------------
更新人：李治昊
1.更新CNpvCostBasicRecordPage，解决1087
1)更新OnCellLeftClick：对于所有列均响应SetCanvas，重置当前概率分布面板
2.更新CNpvCostDetailRecordPage
1)更新OnCellLeftClick：对于所有列均响应SetCanvas，重置当前概率分布面板
3.更新CWorkBayesNetworkCanvas
	1)更新OnContextMenu(海宁)，解决1068：右键时，如当前点击存在结点时，置灰create node按钮
4.更新CAssessorFrame
1)更新OnAuiToolbarBeginDrag(海宁)，注释掉响应该函数的event，解决1067：EVT_AUITOOLBAR_BEGIN_DRAG
5.更新CNpvTreeBook
1)更新OnInitParameter，解决1060,1062：当NPV模块中页面存在非法数据时，阻止切换页面
6.更新CFuzzyStandardUpdateDlg
1)更新IsFuzzyStandardBeingUsed：在favorability相同时，如果因子id属于当前模板时，则标准被占用
7.更新CConditionProbabilityDlg
1)删除ResetMarginalVectorIds：读取记录后，不再重置MarginalVector
2)更新InitMarignalGrid、InitCommonGrid：读取记录切换模板后，根据新数据重置两个grid
	3)增加ReInitGrids，解决1079：调用2)，重置grid并填入新模板数据
8.更新CConditionProbabilityPracticeDlg
1)更新GetRiskRecords，解决1079：读取历史记录，切换模板后，调用7.2)重置grid，之后填入历史数据
9.更新CToolboxSeismicWizard
1)更新构造函数：m_mapView赋值为CWorkMapCanvas中的m_view;增加参数CAnySegyProfile *profile, CAnySegyLayer *layer，便于打开地震文件后传入上述参数，读取之前配置
2)更新析构函数：由于调用CWorkMapCanvas中的m_view，不再删除m_mapView(删除会造成对象消失死机)
3)更新CreateGeothematicTab：删除参数directory，不需要对Geo Map的tab页指定名称；激活Geo Map前，不需要再次调用CreateWorkMapPanel创建CWorkMapCanvas对象
10.更新CToolboxSeismicDataInputPage
	1)增加PaintSegyLines：封装画地震测线的功能，在OnApply、OnWizardChanging调用
2)更新OpenSegyFiles，防止点击出多个文件路径选择框而未全部关闭，在关闭主窗口时死机：调用wxDirSelector时，指定parent为当前类。
11.更新CToolboxSeismicDataInforPage
	1)更新InitData：针对是否读取打开文件配置，决定读取指定的文件信息
12.更新CToolboxSeismicProfilePage
	1)更新InitData：针对是否读取打开文件配置，决定读取指定的文件信息，及地震渲染类型配置
	2)增加SetContentType：读取打开文件的地震渲染类型，并选中指定的控件
3)增加RefreshSeismicCanvas，在OnCheckBox、OnSpinValueChanged、OnSilderValueChanged、OnWizardChanging调用：改变打开地震剖面文件的配置，刷新canvas
13.更新CWorkSeisProfileCanvas
1)更新OnProfile：创建CToolboxSeismicWizard对象，传入CAnySegyProfile、CAnySegyLayer的对象，便于读取打开地震剖面文件的配置信息
14.更新CAssessorFrame：为地震剖面wizard提供Geological Thematic Map的浮动窗口
1)更新IsTabPageVisible：不仅在workspace的tab查找Geo Map的页面，而且在打开的窗口查找地理信息页面是否存在
2)更新DoFloatPage：Geological Thematic Map浮动时，记录其名字为GeoMap
3)更新GetComparedTabCaption：对于地理信息页面，名字返回Geological Thematic Map
4)更新SetCurrentTabActive、AddNewTab：Geological Thematic Map窗口存在时，刷新窗口；不存在时创建tab并浮动为窗口
15.更新CMyStatusBar
1)更新SetProgressValue：当计算出的步长m_step为0时，不在做为除数，防止除0导致崩机
--------------------------------------------------------------------------------------------------
更新人：张桓
Bug 1040
bool CTemplateUpdateDlg::DoCreateTemplate()添加对模板名称长度的判断。
Bug 1039，1101
void CFactorUpdateDlg::UpdateSvalueInFuzzyMember( )中修改Svalue时添加对fuzzymember的同步更新。
Bug1097
	void CFactorUpdateDlg::DoUpdateRules()函数添加在修改Rule时fuzzy member的同步。
Bug 1073
void CFactorUpdateDlg::OnClose( wxCloseEvent &event )修补risk factor修改后,在退出前提示保存。
Bug 1072
bool CFactorUpdateDlg::DoCreateFactor( CFactorTreeNode *node,bool isRoot) 添加对因子名称长度的判断。
Bug1096
void CQuickStandardUpdateDlg::OnClose()增加退出前提示是否保存。
Bug 1095
void CFuzzyInferenceDlg::FreshCanvas()函数当fuzzy member的 lowervalue大于uppervalue时，进行ADD操作前把lowervalue和uppervalue值互换，以保证成功绘图。
Bug1074,1100
void CFuzzyInferenceDlg::OnCommitMember()函数添加不同fuzzy member选择同一favorbility时弹出的提示。
Bug1098
void CFuzzyInferenceDlg::OnRadioFunctionUpdate()函数添加function type必须一致的提示。
Bug1092
bool CFactorScoringSchemaSetupDlg::DeleteFactorInDB()函数添加在删除factor之前增加是否存在依赖的判断。
-------------------------------------------------------------------------------------------------------- 
更新人：彭成
1.bug1041：
修改void CAssessorFrame::LoadDefaultStyle()
2.CMyNumericTextctrl,修改如下几个函数：
void CTrendPredicationInputDlg::OnApply(wxCommandEvent& WXUNUSED(event))
void CDistributionPredicationInputDlg::InitLayout()
void CDistributionPredicationInputDlg::OnApply(wxCommandEvent& WXUNUSED(event))
void CLinearPredicationInputDlg::OnApply(wxCommandEvent& WXUNUSED(event))
void CUSGSMonteCarloInputDlg::OnApply(wxCommandEvent& WXUNUSED(event))
改动的部分在
3.修改petrov字体：
在void CAssessorFrame::PaintLogo( wxAuiManagerEvent &event )中修改，另外将petrovlogo文件夹拷到demos\assessor\bitmaps目录下
5.bug1081:
修改void CTrendPredicationInputDlg::OnListboxCkecked(wxCommandEvent& event)，改动2处，
------------------------------------------------------------------------------------------------------------
更新人：吴博
1.修改了mapcanvas 和 toolboswinzard 的调用方式，并且可以支持3维和2维两种情况了
2 fuzzy修改了updata时判断的bug
3 蒙特卡罗模块去掉了element提交的函数，加快了显示速度
4 处理了分布面板apply无效时Tmin和Tmax取值的设定
5 topiccanvas增加了对probablitycanvas的的支持。
---------------------------------------------------------------------------------------------------------------

2012.11.20 T_1_0_000_alpha_500
更新人：盛秀杰
1.升级SQL脚本，并增加最新DEMO数据库。SQL脚本变更：调整basin type参考表的字段定义，移出source表一个字段，cap表增加一个字段；
2.基于确定性体积法的等值线显示框架，演示HOOK以及MAP的典型地图操作模式，并增加拾取面积功能；
3.修复缺陷：795、774、773、679、678、1110、1117、1133（暂接受）、1089、1078、1108.

---------------------------------------------------------------------------------------------------------------------------
2012.11.20 T_1_0_000_beta_000

李治昊
2012/11/30
Summary：
1.解决Bugs：1260,1272,1273,1223,1230,1238,1247；无问题Bugs：1227,1228,1229,1231,1233,1250, 1252,1255。
2.将主界面进度条放在底部右侧出现
3.工具箱Contour，增加读取打开文件配置的功能
Detail：
1.更新CParallelCoodinateFactorPage
	1)更新DeleteFactorInTemplateVector, DeleteFactorInFactorLine，解决1272,1273：解决删除因子后，还可以进入下一步更新factor、element配置的问题
2.更新CParallelCoodinateElementPage
	1)更新OnWizardChanging：进入前页时，保存设置因子评分值
3.更新CAssessorFrame
	1)更新CreateMainMenu，解决1238：将tool菜单下的子菜单首字母大写，统一风格
4.更新CToolboxScatterMatrixProfilePage
	1)更新LoadSingletonCoordinate：改名为LoadSingletonMulitpleCoordinate，对于multiple模式，让用户确认选择固定的y轴
	2)更新GetMode：当Multiple模式选中时，Pick Ways不加入到mode中
	3)更新SetMode：设置pick ways前，让变量selection=0，防止selection大于pick ways(RadioBox)选择的范围而报错
	4)更新OnWizardChanging，解决1223,1230：点击方向为下一个(此页面为finished)时，调用5.3) IsFinished检查是否有非法条件导致不能完成。如不能完成，则将该页面停留，不关闭wizard
5.更新CToolboxScatterMatrixWizard
	1)增加AddEmelemnts、DoAddElements：封装向CAnyScatterMatrix添加数据的方法
	2)更新OnFinished：更改Multiple模式读取数据的方式，根据singleton\multiple\matrix模式，分别调用1)中函数，传入不同参数。
	3)增加CanBeFinished：封装OnFinished内功能。
6.更新CMyStatusBar
	1)更新ShowProgress：在进度条显示时，设置其位置于整个窗口右边
7.更新CParallelCoordinateWizard
	1)增加CanBeFinished：封装检查平行坐标是否能够执行的功能
8.更新CParallelCoodinateElementPage
	1)更新OnWizardChanging，解决1247：点击方向为下一个(此页面为finished)时，调用7.1) CanBeFinished检查是否有非法条件导致不能完成。如不能完成，则将该页面停留，不关闭wizard
9.更新CWorkMapCanvas
	1)更新OnProfile：点击profile菜单时，打开contour wizard并恢复配置
10.更新CToolboxContourWizard
	1)更新构造函数：增加参数CAnyContour *hook，便于恢复所做的设置
	2)放开LoadSetting：改变参数，只保留const CAnyContour::ContourSetting &setting，恢复所做设置
	3)增加SetSamplesAndSettings：封装读取样本和设置的功能
	4)更新OnWizardPageEnd：点击finish时，区分创建和读取contour
	5)增加RefreshCanvas：读取配置后，当值发生改变时，刷新页面
11.更新CToolboxContourGridPage
	1)增加Notify：当控件值发生改变时，调用10.5)刷新页面内容
	2)增加OnComboBoxSelected、OnRadioBoxSelected、OnSpinChanged：响应控件值发生改变，调用1)Notify
12.更新CToolboxContourParaPage
	1)增加OnSpinChanged：响应isolation interval和interpolation num控件内容变化，调用11.1)Notify
------------------------------------------------------------------------------------------------------------------------
张桓：
2012/11/30
BUG
1271
修改void CFuzzyInferenceDlg::OnClose( wxCloseEvent &event ),避免重复提示关闭.

1274 CQuickStandardUpdateDlg::OnDeleteRow( wxCommandEvent& WXUNUSED(event) )添加	wxString BeingUsedScoreType; 用来记录正在被使用的quick standard

1275
添加bool CFuzzyStandardUpdateDlg::IsAnyFavorSame()
修改bool CFuzzyStandardUpdateDlg::IsFuzzyStandardBeingUsed( wxString &favorability),判断非确定性标准是否正在被使用.

1281
void CFactorUpdateDlg::DoUpdateRules()中添加判断if(fuzVec[i].m_leftlower!=lowerValue),
--------------------------------------------------------------------------------------------------------------------------
王海宁：
2012/11/30
修改了void CProbabilitySettingBook::ShowHiddenComponents()函数，修正了缺陷1279和1280
--------------------------------------------------------------------------------------------------------------------------
鹏程：
2012/11/30
bug1277:void CNonParameterPredicationInputDlg::InitGrid(),将m_grid->SetDragEnable(false);改成m_grid->EnableDragRowSize(false);
bug1239,1243:scattermatrixcanvas.h中增加bool m_iswindowvalid, 在void CSampleSingnificanceTestPage::OnWizardPageshow(wxWizardEvent& event)中设置m_iswindowvalid为false,在CScatterMatrixCanvas::CScatterMatrixCanvas(wxWindow *parent, wxWindowID id)中增加m_iswindowvalid的初始化值为true，在void CScatterMatrixCanvas::OnContextMenu(wxContextMenuEvent& event)初始界面时根据m_iswindowvalid的值决定是否显示window菜单项
bug1268:关掉，从access复制数据时第一行是字段名，粘贴时第一行数据类型不符，所以没有粘贴上形成空白，程序本身没有错误。
bug1244:添加背景色设置功能，void CAssessorOptionDlg::setframe()，CAssessorOptionDlg::CAssessorOptionDlg(wxWindow *parent)
------------------------------------------------------------------------------------------------------
吴博：
2012/11/30
1 修改了activitytree以适应新的poolrank模块
2 修改了poolrank的detail界面显示部分，更适合查看（grid和factor）
3 poolrank支持了分布图形和相关菜单
4 完成了poolrank右键菜单代码，功能实现需要底层支持
5 修改bug：1236 1237 1240 1241 1243 1245（关）1246（关）1249 1283 1284 1285 1287 1286（需底层）

2012.11.20 T_1_0_000_beta_100
盛秀杰:
修复缺陷:油藏规模序列法分段计算,179,1184,1190,1194,1213,1215,1291(暂未解),1295,1300,1301,1306,1308,1312,1315,1319,1329,1330

----------------------------------------------------------------------------------------------------------------------------------------------------------------------
李治昊 2012.12.07
Summary：
1.解决Bugs：1290,1294,1297，1309，1310；1308暂未解决，待盛博底层配合。、

Detail：
1.更新CAssessorFrame
1)更新OnNotebookRightDown，解决有些tab页弹不出右键菜单：取消对名字的对比，对于workspace中的所有tab页均弹出右键菜单
2)更新OpenDBFile、CreateMainMenu、CreateToolBars、ResetFrame：toolbox中的distribution菜单和工具条按钮仅在数据库连接时可用
3)增加ReloadGeoMapLayer：封装刷新layertree后，explorerspace的页面定位到地质数据框架的功能(定义一个成员变量，记录explorerspace的ctrl)；在函数CToolboxSeismicDataInputPage:: OpenSegyFile和CToolboxContourWizard::OnWizardPageEnd中调用，替换直接刷新layer树的代码：((CLayerTreeCtrl*)(hostframe.m_mapLayertree))->LoadTreeItems(true)
4)更新OnChangeToDefaultStyle，解决1310(源代码被更改，原先无问题)：取消对ResetWorkspace的注释。
5)增加DoWindowClose：封装关闭窗口的功能，在OnWindowClose中调用
2.更新CWorkMapCanvas
	1)更新OnContextMenu：在页面中取消contour的profile菜单显示，转为在地质框架中显示
3.更新CLayerTreeCtrl
	1)增加GetView：封装获取2. CWorkMapCanvas的成员变量m_view的功能，在DoLoadTreeItems，
OnItemStateClick，OnRemoveHook中调用
2)更新ShowMenu：contour的hook存在且被勾选时，显示菜单profile，弹出等值线设置的属性的窗口
	3)更新OnItemStateClick：勾选/不勾选叶节点时，调用显示/隐藏该图层的功能
4.更新CToolboxScatterMatrixProfilePage
	1)更新GetMode：当选择柱状图显示时，mode设置不选择拾取方式
5.更新CParallelScatterDlg
1)更新构造函数CParallelScatterDlg，解决1290：设置最小大小，防止窗口过小时散点出现在坐标轴下部
6.更新CNpvPracticeDlg
	1)更新InitLayout，解决1294：将分布类型选择框x大小增加10，防止参数NonParameter显示不全
7.更新CProbabilitySettingBook
	1)更新SetDistribution，解决1297：npv模块对于与三角分布，禁用取对数的勾选框
2)更新SetDistributionComboxValid：npv模块调用CProbabilitySettingBook，禁用分布选择框。原来在初始化函数中禁用分布选择框，但后来别人修改与之冲突，故再次修改。
8.更新CNpvProbabilityCanvasDlg
	1)更新构造函数：对于npv resource模块调用该窗口，设置窗口名称为Triangular Distribution
9.更新CWorkProbabilityTreeCanvas
1)更新OnLButtonUp，解决1309(源代码被更改，原先无问题)：取消注释DoMouseUpAction，鼠标左键抬起后需调用之。
10.更新CWorkDecisionTreeProfileDlg
	1)更新CreateAnotherPropertySpacer：wxComboBox设为只读，防止用户输入非法制
	2)更新CreatePropertySpacer：wxComboBox设为只读，防止用户输入非法制
11.更新CNpvSpiderDiagramPage
	1)更新InitPage：参数wxComboBox选择框设为只读
2)更新DoSetCanvas：底层修改后m_canvas->Refresh()不再调用canvas的OnPaint，更新为m_canvas->m_view->Refresh()手动刷新canvas

--------------------------------------------------------------------------------------------------
王海宁：2012.12.07
缺陷1287：已复核，没问题
缺陷1303：已解
                1. 修改了infotextctrl.cpp, infotextctrl.h
                2. 增加了output区右键option对话框中的Delete box复选框的事件响应，增加了Delete logs按钮置灰的条件判断。
缺陷1305：已复核，没问题

------------------------------------------------------------------------------------------------
张桓：2012.12.07
1.BUG
1299
修改CFactorScoringSchemaSetupDlg::OnDeleteTemplate(), 添加SetTotalWeightValue()。
1325 已解决


2.增加中英文界面:
CAssessorOptionDlg中增加needRestart，getLanguage，OnLanguageChange函数，并增加语言设置功能。

CAssessorApp增加语言加载功能

CAssessorFrame::OnOption增加是否重启的判断。

-------------------------------------------------------------------------------------------------
吴博：2012.12.07
1 完成资源模块和tool是模块的汉化任务
2 增加了通用工具中等值线显示的方式
3 通用查询加入了对 * 的支持
4 修复缺陷 1183（复核） 1312 1314 1319 1320（未出现）1322 1300（复核） 1311（未出现）1329

------------------------------------------------------------------------------------------------------------
鹏程：2012.12.07
1300，1320:void CUnitTreeCtrl::DoDeleteElement(wxTreeItemId &curId)，删除函数要改成bool型，判断是否成功再修改界面。另外CAnyAccessor::RegisterRemoved要commit()一下
1330:void CMonteSimulationPage::PopupFuzzyDlg()中的dlg.GetDefuzzyScore(score, lower, upper);需要正确处理score为1的情况
翻译成熟度分析，样本分析，油藏规模序列，GSC，总体样本模块。

2012.11.20 T_1_0_000_beta_300
盛秀杰:
1) 升级wxwidgets,升级内容详细见升级文档(张桓);
2) 修改缺陷:1130, 1334, 1337, 1338, 1339, 1341, 1342, 1343, 1344.

2012.12.17
王海宁：
1. 修改了inforfind.cpp的 OnFind函数，修复了查找过程中改变光标位置仍会按照先前选中位置继续查找的问题（曹晋）；修复了向下查找到底后马上向上查找失灵的问题（李俊丽）；
2. 修改了probabilitysettingbook.cpp，修复了缺陷1106和1346；
3. 缺陷1348涉及到对个别分布取log时引起的底层Anyvis断言错误，还未修复
--------------------------------------------------------------------------------------------------------------------------

2012.12.17
李治昊：
Summary：
1.解决Bugs：1270,1335,1336,1350,1351,1352。1337无问题。1130，1345,1347待底层修改
Detail：
1.更新CParallelPCADlg
	1)更新IsRecordLegal：grid行数为0时，不能提交个性、共性因子
	2)更新GetItems(double,double,…)：选中for factors时，读取当前因子的m_isCondition、m_isCommon
	3)更新Commit：当前因子未执行成熟度操作时，直接返回。
2.更新CParallelCoodinateElementPage
	1)更新EnableFactorGrid，解决1335：更新后，非isRefresh时，选中当前所选行，如当前点击行不存在(-1)，则选中最后一行
	2)更新OnRemove：删除行后，当前选择行置为不存在(-1)
3.更新CProbabilityCanvas
	1)更新OnSize，解决1270：手动调用OnPaint,解决窗口缩小时绘图不能刷新的问题
	2)更新OnPaint：不再调用m_view->Refresh()强制刷新窗口
4.更新CScatterMatrixCanvas：同3
5.更新CPoolRankCanvas
	1)同3
	2)更新OnContextMenu：注释event.Skip()，防止执行菜单项功能后，再次弹出菜单
6.更新CTopicCanvasDlg
	1)更新OnClose：对于ID_PoolRank进行处理，关闭时，设置窗口打开标识为false
7.更新CAssessorFrame
	1)更新OnChangeToDefaultStyle：恢复默认界面后，重新对信息空间、解决空间的caption赋值，解决中文界面下，执行恢复默认界面上述两个空间名称恢复为英文
--------------------------------------------------------------------------------------------------------------------------

2012.12.17
张桓：
BUG 1275
CFuzzyStandardUpdateDlg::IsRecordLegal()原始判断是否合法的时候，用的是wxstring的比价，现在改为double的比较

CFuzzyStandardUpdateDlg::FillRecord()中SetCellValue()改为mygrid的接口SetGridCellData()

CQuickStandardUpdateDlg::FillRecord()中SetCellValue()改为mygrid的接口SetGridCellData()
--------------------------------------------------------------------------------------------------------------------------

2012.12.17
鹏程
1 增加连接sql数据库的操作，新加connectdatabasedlg.cpp,connectdatabasedlg.h,connectdatabase_config,并在assessorframe.cpp，assessorframe.h将其加入进去

2 系统中使用grid时，float单元格的精度：

3 翻译：samplescatterplotpage.cpp中添加几处_()，assessorframe.cpp，mygridview.cpp,connectdatabasedlg.cpp中添加几处_()并在.po中设置对应翻译

4 修改petrovlogo：添加新图片petrovtest到outputs\logo目录下,并在assessorframe.cpp中选择加载此图片


--------------------------------------------------------------------------------------------------------------------------

2012.12.17
吴博
1 更新了toolboxcontourwinzard 添加了apply按钮，当修改第2，第3页面的参数时时，点击apply才会反映到图形上去
                              构造函数增加了opentype的参数，用来确认打开方式是从工具栏打开还是从图层树中打开
                              loadsetting函数中 增加了绘制模式的选择的恢复判断，改为了6种
  更新了toolboxcontourgridpage和parameterpage的notify函数和控件消息函数，只在其中确定是否修改了参数以使apply按钮可用
        toolboxcontourgridpage 增加了绘制模式的选择，改为了6种
        mapcanvas 中   toolboxcontourwinzard 的构造函数调用增加了 opentype参数 
2 趋势法中 对dogetsamples函数最后计算 相对date时局部变量的初始化，防止全为0时读取可能出现的读取死机
3 USGS中增加了在dogetsample 函数中对分布样本为空的判断和dorefreshcanvas时，样本读取为空的判断，防止出现绘制时可能的死机            4 汉化文件进行了按CPP文件进行的注释划分 增加了basinprofiledlg 和 模糊打分模块的汉化，
  增加了对趋势法 usgs 体积法 toolboxcontour等部分，未完全汉化部分的补充               

2012.11.20 T_1_0_000_beta_500
盛秀杰:
1)升级库表结构:info_assessment_element增加新的字段,用于相关参考值设定;增加新表:info_assessment_element_overall用于类比法计算;
2)修复缺陷:1375,1386,1399.

----------------------------------------------------------------------------------------------------------------------------
2012.12.24
王海宁：
复核无误的缺陷：1369，1370，1371，1393, 1395，1405
修改缺陷1382，1383,1384,1385,1387,1390,1401

1. 修改probabilitysettingbook.cpp, 修改了SetDistribution函数，解决了概率面板相关的缺陷
2. 修改了sampleanalysisdatapage.cpp的部分中英文提示
---------------------------------------------------------------------------------------------------------------------------
2012.12.24
张桓：
BUG1361
CFuzzyStandardUpdateDlg::IsRecordLegal()增加rightupper递增判断

CQuickStandardUpdateDlg::OnDeleteRow()中_(wxT("The standard with score type "))括号位置调整

CFuzzyInferenceDlg::OnShow()中更改ID_BTN_OK标识号
-----------------------------------------------------------------------------------------------------------------------
2012.12.24
李治昊：
1.解决Bugs：1357,1358,1359,1360,1364,1388,1390,1392,1400,1406,1407; 1354无问题
Detail：
1.更新CNpvTaxRecordPage
	1)更新IsRecordFilled，解决1406：对于油和气，inflation取表格中不同字段。
2.更新CRovManagementOptionsPage
	1)更新OptionToAbandon、OptionToExpand：更改返回类型为bool
3.更新CRovDlg
1)更新OnOK，解决1407：调用2.1)的两个函数，同时为真时，画出决策树，否则提示错误
4.更新CActivityTreeCtrl
1)更新DoRunRov：此时不显示决策树页面，改为3.1)画出决策树时才显示
5.更新CMyStatusBar
1)更新ShowProgress：设置status bar的长度为主窗口的大小。解决底层wxwidgets升级后，进度条显示不完全的问题
6.更新CNpvResourceRecordPage
1)增加DoFillInAccmulationRecord：封装获得分布的meanQ, stdQ, p90,p50,p10值的功能
2)更新FillInAccmulationRecord，解决1358,1359：调用1)，不符合三角分布的资源量给出提示
7.更新CConditionProbabilityDlg
	1)更新OnPractice：不再用dlg->ShowModal()==wxID_OK，防止窗口无法关闭
	2)更新LoadPractice：封装填写读取数据的功能
8.更新CConditionProbabilityPracticeDlg
	1)更新InitLayout：创建OK按钮时，使用自定义id，不再用wxID_OK，防止窗口无法关闭
	2)增加OnOK，解决1388：选中记录时调用7.2)读取历史记录；未选中时给与提示
9.更新CWorkspacePageFloatingDlg
1)更新构造函数：将风格由wxDEFAULT_DIALOG_STYLE改为wxDEFAULT_FRAME_STYLE，提供窗口最大化、最小化功能
10.更新CFactorEvaluationTreeDlg::OnContextMenu、CWorkScatterMatrixCanvas::OnContextMenu、CWorkSeisProfileCanvas::OnContextMenu、CLayerTreeCtrl::ShowMenu的_(wxT("&Profile"))为_(wxT("&Profile "))，防止中文名被设置为查看活动，此处翻译为属性
11.更新CAssessorFrame
1)更新OpenDBFile，解决清除使用的文件后，再打开文件最近使用文件菜单不可用的问题：成功打开文件后，如果菜单recent file、clear recent file不可用，将之置为可用。
---------------------------------------------------------------------------------------------------------------------
2012.12.24
鹏程
1 补充了样本分析的翻译
2 制作了数据库登录相关的界面和程序
	config文件放到demo/assessor目录下
	connectlogo放到outputs目录下
	sql20121219.txt随便放
connectdatabasedlg 和 registeruserdlg
------------------------------------------------------------------------------------------------------------------------
2012.12.24
吴博
修复：1365 1367 1368 1376 1375（待复核）1378 1380 1381 1392 1394 1396 1397 1398 1400 1402 1404 1408 1409 1410
1 完成了趋势法和体积法未翻译完整的部分。
2 发现过程在rest函数中加入了清空N值的函数。
3 补充了新建资评对象中未翻译的语句
4 修改了通用查询不太合适的翻译内容
5 修改了GSC未翻译的Detail按钮
6 增加了样本分析中分组点数小于3时的限制，并修复了重置的问题。
7 修改了趋势法限制参数和峰值的翻译（参考范围和峰值范围），
  使之更适合当前对限定值的判定，以免发生误解
8 修复了趋势法中对1#.QNANO的非法判断。
9  完成了mygridview的翻译
10 完成了对usgs模块中reset函数对界面的重置为默认值，并去掉了m_parameter不必要的初始化。并补充了
   usgs 结果列表的列头的翻译
11 解决了底层升级导致的fuzzydlg无法关闭的问题，将OK的ID由默认的wxID_OK,改为自定义的ID_BTN_OK
12 暂时在界面上关闭了等值线绘制中不支持的surface grid 和 surface grid+face
13 发现过程间隔数和N值方法未恢复属于底层未保存正确问题，已提交底层，重要度放低。
14 样本分析类似resourcetypeid枚举类型的列去除了isenumcol的判断将直接显示类型数值，且在setgriddata中增加了设置不参与分析列的底色。
15 在体积法第二个页面volumetricdatapage.cpp中增加了不确定性分析对样本为同一个相同值的判断函数      CheckSamplesifAllSame(samples,number)。
   并在非确定性初始化函数中InitNonDetermingridData()中使用，若相同则使用constant分布。
16 调整了poolsizebyrank初始化函数中setsize函数位置位置，防止初始化出现样本无效时，对话框大小发生变化
17 修改了自然总体样本分布的函数，增加maxp和maxn 相公的界面代码，添加了概率图版。
   调整了非参数法和油藏规模序列法和pool rank的构造函数 和commit函数，以及相关成员变量等。
   底层还需要配合（poolrank部分 和 distribution 部分的底层的predication缺少minq avgq 和maxq定义）
   commit 和 practice 部分暂未修改

2012.1.6 T_1_0_000_beta_800
盛秀杰:
1) 底层代码更新资评对象提交顺序:删除时,子对象先提交相关事务,如果不成功,父对象不做动作;其它操作,则相反;
2) 修改缺陷:1184,1414,1424(未重现),1440,1456(暂未解),1459(需要核对数据库表),1464.

张桓：
BUG 1412 CQuickStandardUpdateDlg::OnDeleteRow()中添加
		if(selectedRows.Count()>1){
if(wxMessageBox(_(wxT("Attention: You are deleting multiple rows! Continue or not?")),_(wxT("Attention")),wxYES_NO)!=wxYES){
				return;
			}
		}

BUG 1413 CQuickStandardUpdateDlg::IsRecordLegal( int row )中增加数值连续的判断
if((prescoreType==scoreType && preupperScore!=lowerScore) || (nextscoreType==scoreType &&nextlowerScore!=upperScore) ){
		errMsg+=_(wxT("Record "))+wxString::Format("%d ",row)+_(wxT("should be continuous!\n"));
		isLegal=false;
	}

BUG1431 CQuickStandardUpdateDlg::OnCommit()中将wxYESNO改为wxOK

BUG1445 关闭时取出询问“您是否要退出”对话框

BUG 1451 CFuzzyInferenceDlg::OnCommitMember() 先对添加的fuzzymember进行提交

BUG 1453 修改表格列宽度
BUG 1464 CFactorScoringSchemaSetupDlg::DeleteFactorInDB() 增加删除quickrule动作

BUG 1468 更改PO文件
------------------------------------------------------------------------------------------------------------------------------
2013.1.5
李治昊：
Summary：
1.解决Bugs：1025,1309,1411,1416,1419,1421,1434,1437,1438,1455,1463,1465；1130,1345, 1440,1466待底层更新；1430,1439,1443无问题
2.对于菜单中有放大缩小功能的图画，增加鼠标滚轮放大缩小画布的功能

Detail：
1.更新CWorkProbabilityTreeCanvas
	1)更新OnLButtonUp，解决1309(源代码被更改，原先无问题)：取消注释DoMouseUpAction，鼠标左键抬起后需调用之。
	2)更新OnMouseWheel：鼠标向上滚放大，向下滚缩小
2.更新CAssessorFrame
	1)更新PaintLogo，解决1421：根据当前窗口大小确定图片渲染位置
	2)―5)解决1419
	2)增加DockPage：停靠最后拖出的浮动tab页面到workspace
	3)更新OnWindowMenus：菜单点击Dock时，调用2)停靠浮动页面
	4)更新DoFloatPage：tab浮动后，将Dock菜单置为可用
	5)更新RestoreNotebookPage：没有浮动窗口后，将Dock菜单置为不可用
	6)更新LoadDefaultStyle：更新defaultStyle的字符串
3.更新CToolboxScatterMatrixProfilePage，1)b),3),4)解决1437
	1)更新SetMode：
		a)解决1434，调用check选择fitting类型时，对应序号+4
		b)解决1437，当scatter模式为柱状图或多例时，禁用pick ways控件（不需拾取点）
	2)更新RefreshScatterCanvas，解决1438：读取设置时，调用AddFittingLine在画图中加入拟合线
	3)更新OnRadioBoxSelected：选中多例时，禁用pick ways控件（不需拾取点），选中poly lines并禁用style控件；选中柱状图时，禁用pick ways控件（不需拾取点）
	4)更新InitPage：初始状态下禁用pick ways控件
4.更新CToolboxSeismicProfilePage
	1)更新OnCheckBox，解决1455：选择curve或sharp时，仅2者同时选中时，base振幅滑动条才可用
	2)更新InitProfileFocusSizer，解决1455：初始情况下，设置base振幅滑动条不可用
5.更新CParallelFactorOptionDlg
	1)更新InitLayout，解决1465：将控件直接加入到当前类（this），不在加入到panel中，再嵌入到this
6.更新CWorkDecisionTreeProfileDlg
	1)更新CreateButtonSpacer：用ID_BTN_Ok代替wxID_OK，防止点击ok、cancel都执行ok的功能
	2)增加成员变量m_isOkClicked：标记ok按钮是否被点击
	3)更新OnOK：出错时直接返回；值合法时标记m_isOkClicked为真，并关闭窗口
7.更新CWorkDecisionTreeCanvas
	1)更新OnCreateNode：不再判断dlg->ShowModal() == wxID_OK，用条件dlg->m_isOkClicked替代，用完之后调用dlg->Destroy()销毁窗口
	2)更新OnLButtonDblClick：不再判断dlg->ShowModal() == wxID_OK，用条件dlg->m_isOkClicked替代，用完之后调用dlg->Destroy()销毁窗口
8.更新CWorkProbabilityTreeProfileDlg
	1)更新CreateButtonSpacer：用ID_BTN_Ok代替wxID_OK，防止点击ok、cancel都执行ok的功能
	2)增加成员变量m_isOkClicked：标记ok按钮是否被点击
	3)更新OnOK：概率值非法时直接返回；值合法时标记m_isOkClicked为真，并关闭窗口
	4)更新InitGridData，解决1493：将英文Total用宏括起来，便于英文显示
9.更新CWorkProbabilityTreeCanvas
	1)更新DoCreateProbabilityLevel，解决1411：不再判断dlg->ShowModal() == wxID_OK，用条件dlg->m_isOkClicked替代，用完之后调用dlg->Destroy()销毁窗口
	2)更新OnLButtonDblClick：不再判断dlg->ShowModal() == wxID_OK，用条件dlg->m_isOkClicked替代，用完之后调用dlg->Destroy()销毁窗口
	3)更新OnMouseWheel：鼠标向上滚放大，向下滚缩小
10.更新CWorkSeisProfileCanvas
	1)更新OnMouseWheel：鼠标向上滚放大，向下滚缩小
11.更新CWorkMapCanvas
	1)更新OnMouseWheel：鼠标向上滚放大，向下滚缩小

------------------------------------------------------------------------------------------------------------------------------
2013.1.5
吴博：
1 添加了对象属性对话框的overall界面和basic页面补充页面（overall界面底层可能不对，其他待复核）
2 修改了propertysheet修改时切换页面死机的bug
------------------------------------------------------------------------------------------------------------------------------
2013.1.5
鹏程：
编写体系架构文档用例图说明；完成开机对话框；access数据库转sql方法及sql脚本生成说明;修改petrov标志可拖动；状态栏添加显示itemtree是否为空；设置grid内容对齐方式；修改通用查询模块在c/s模式下的BUG

2013.1.14 1.0.0_beta_1000
-----------------------------------------------------------------------------------------------------------------------------------------
盛秀杰
1) 修改自然总体\发现过程等资源模块底层代码,配合界面调整;
2) CAnyViewHook增加Clone接口,配合画板复制;
3) AnyVis包补充等值线、决策树类。  

吴博 
资源模块：
1 listctrl 中avgQ 改为 median Q
2 listctrl 增加 SampleQ 
3 listctrl中所有计算结果只保留1位小数
4 自然总体模块 MaxN的求取方法中poolsizebyrank 改为 发现过程法。
5 自然总体模块 图形右上图形纵坐标取对数log，detail对话框则exp取原始值
6 自然总体模块 右下角设置菜单中弹出的分布设置对话框只有最后分位数页面可用，前三个页面内容禁用。
7 缺陷：
   1479，1481（转底层），1489（转底层），1497（未发现），1498，1501，1506，1508，1510，1512，1514（转底层），
   1524，1527，1532
   ps：poolsizebyrank 和usgs 和 发现过程 相关缺陷延至下周
------------------------------------------------------------------------------------------------------------------------
李治昊：
Summary：
1.	解决Bugs：1488,1493,1494,1495,1515；1491,1492,1496问题待确认；1529无问题（不确定性，每次产生值不同）
Detail：
1.更新CAssessorFrame
	1)更新RealizeToolBar：设置wxAuiPaneInfo的TopDockable(false).BottomDockable(false)，防止纵向layout后出错
	2)更新DoFloatPage：调用GetStartPosition设置弹出窗口位置，防止拖出窗口重叠
	3)更新CreateGeneralToolBar：layout工具条时，根据样本数据菜单项可用性设置工具条中样本数据tool的可用性
	4)增加ResetToolBarLayout：将所有竖向排列的工具条置为横向
	5)更新OnChangeToDefaultStyle：点击Default Style菜单时，调用LoadDefaultStyle前先调用4)，防止出错
	6)增加成员变量m_workingDirectory：记录初始工作目录
	7)更新构造函数：用6) m_workingDirectory记录初始工作目录
2.更新CNpvPolicyRecordPage
	1)更新CreateCashflowSpacer，解决1515：设置浮点数的检查器wxFloatingPointValidator<float>，防止应填入数字的控件填入其他值；设置整形检查器wxIntegerValidator<int>防止日期内填入非法字符即日期
3.更新CWorkProbabilityTreeCanvas
	1)更新DoCreateProbabilityLevel，解决1494：点击菜单independence/dependence时，当canvas不存在节点时，不弹出概率输入窗口
4.更新CAssessorOptionDlg
	1)更新构造函数，解决打开地震剖面文件后再点击CAssessorFrame的Option菜单死机的问题：先设置当前工作目录为初始工作目录，读取language_config后恢复当前工作目录


------------------------------------------------------------------------------------------------------------------------
张桓：
BUG 1516
修改CFactorUpdateDlg::DoEditFactor,当CTemplateUpdateDlg返回值为取消的时候，不更新因子的值。

2013.1.30 t_1_0_0_beta_2000
--------------------------------------------------------------------------------------------------------------
盛秀杰:
1)升级库表结构:info_assessment_element增加字段,相关字段说明:calibration(是否是刻度区),reliability(地质资料可靠性),maturity(地质评价结果),resource(资源量结果),npv(经济评价结果),exploration(勘探把握程度),economic(经济综合因素),engineering(工程因素).
新增表:info_assessment_segment,用于segment对象.
2)对应上述库表结构的底层代码调整;
3)AnyMath增加CAnyFittingStrategy类;
4)CAnyPetroObject的Commit接口返回类型;

李治昊
1.	解决Bugs： 1601,1603,1604,1605,1613,1618,1619,1620,1621,1624,1591,1536
不是问题Bugs： 1622,1623,1633(wxGrid对中文支持不好)，1634,1637
待解决Bugs： 1491,1492,1496
Detail：
1.更新CAssessorFrame
1)更新OnGeneralParallelCoodinate，解决1603：为node.m_name = _("Current Factors")增加宏，便于翻译
2.更新CToolboxSeismicDataBinPage
1)更新InitTextSizer，解决1601：将wxSpinCtrl最小值设为0
3.更新CToolboxSeismicDataInputPage
1)更新OnWizardChanging：为wxMessageBox的参数增加宏_(wxT("Error"))，便于翻译
4.更新CToolboxScatterMatrixProfilePage
1)更新AddFittingLine，解决1605：未勾选的FittingLine如果hook中存在，移除之
5.更新CParallelCoodinateFactorPage
1)更新OnDeleteFactor，解决1604：因子全部删除后，清除CAssessorFrame:: m_polylines
6.更新CConditionProbabilityDlg
1)更新InitMarginalFacorVector，解决1613：当前单元未做成熟度分析时，设置概率默认值为0
7.更新CNpvPolicyRecordPage
1)更新CreateCashflowSpacer，解决1618：阈值向左拉长，使得中文内部收益率显示完全
8.更新CWorkDecisionTreeCanvas
1)更新OnContextMenu，解决1620：NPV模块决策树不显示 【清除、生成决策树、创建节点、移除节点、重置、显示决策路径】的菜单
9.更新CAnyDecisionTree
1)更新DoMakeLayout，解决1621：m_root为空时返回，不执行功能
10.更新CNpvPracticeDlg
1)更新InitLayout，解决1624：types.Add(_(wxT("Distribution ")))的翻译改为【自然总体样本分布】，增加wxComboBox的大小，使得【自然总体样本分布】能够显示完全
11.更新CWorkScatterMatrixCanvas
	1)更新OnReset，解决1591：分别设置坐标选中状态为false
2)增加友元函数的声明CToolboxSc

atterMatrixWizard
12.更新CRovManagementOptionsPage
	1)更新OptionToAbandon：Abandon未勾选的情况下，返回真
13―15 解决1536
13.更新CToolboxScatterMatrixSourcePage
	1)增加bool OpenFile(const wxString &path)：封装打开文件功能
	2)更新OnSelectFile，OnReload：调用1)
3)更新SetGridData：设置完data后，设置窗口大小
4)增加void SelectCol(const wxString &colName)：根据绘图中坐标轴名称，恢复grid中所选的列
14.更新CToolboxScatterMatrixProfilePage
	1)更新OnWizardChanging：读取记录时，不再阻止回退到上一个页面（文件选择页面）
2)更新SetMode：根据CAnyScatterMatrix::GetFilePath得到绘图中文件的路径，恢复文件选择页面，包括所选grid的列、设置X\Y坐标选择的可用性
	3)增加成员变量bool m_isLoadedData：记录是否是恢复的数据，在构造函数中初始化为true
	4)更新OnWizardPageshow：读取记录时调用SetMode恢复记录，否则设置X\Y坐标选择的可用性
5)更新RefreshScatterCanvas：直接调用CToolboxScatterMatrixWizard:: OnFinished，重新添加数据，不再直接刷新画图
	6)增加OnComboxSelected：坐标选择框的响应函数，直接调用RefreshScatterCanvas
7)更新LoadSingletonMulitpleCoordinate：增加参数bool isDataLoaded，其值为true时，重新加载grid中数据列，否则显示\隐藏坐标选择sizer
15.更新CToolboxScatterMatrixWizard
1)更新OnFinished：恢复场景时先清除已加入到视图中的数据，之后重新添加数据，存储X\Y轴的名称(调用CAnyScatterMatrix::SetDimX\SetDimY)并刷新。


鹏程
str) const将默认值从-1改为0；
bug1500:
	此版本无问题
bug1521:
	此版本无问题（处理bug1462时已改过）

资评树相关：
	unittreectrl.cpp修改：
		void CUnitTreeCtrl::DoLoadChildren(wxTreeItemId &parentId, int depth, CAccumulationElement *itr),取消变蓝的操作；
修改记录：
bug1513:
	factorUpdateDlg.cpp修改：
		bool CFactorUpdateDlg::UpdateRiskFactor()，增加对上下限值设置的约束。
bug1614:
	factorevaluationtreedlg.cpp修改：
		void CFactorEvaluationTreeDlg::SetCurSelection(wxDataViewItem &item)，取消掉数值型时的setfocus
bug1502:
	factorevaluationtreedlg.cpp修改：
		void CFactorEvaluationTreeDlg::LoadFactors( CFactorTreeNode::FactorVector &factors, int level,long parentId)加载m_score时取消对f_value和m_value的为空判定
bug1628:
	basinprofiledlg.cpp修改：
		void CBasinProfileDlg::OnOK(wxCommandEvent& event)注释掉对象树内容为空变蓝的操作；
	anydistributionstrategy.h修改：
		void ToString(string &

张桓
BUG 1516
上一个版本中已修复
BUG 1625
改变 CFactorUpdateDlg::OnClose()，在点击不保存是仍然判断是否合法。
BUG 1612
添加翻译到po文件

海宁
修改文件：probabilitysettingbook.cpp，解决了概率面板相关bug。（1519和1373需肖晔在anymath包进行修改）
1.修改了OnComboBoxDistributionUpdate函数，当combox切换分布类型时初始化截断值，log框和游标框的勾选状态
2.修改了OnCheckHistogram函数，当样本数为0时显示无样本提示，避免了(2-0)的问题
3.修改了OnCheckTruncation函数，当勾选/取消截断框时，初始化tmax和tmin的值
4.修改了FillParameters函数，当样本数为0时显示无样本提示
5.修改了SetDistribution函数，对样本分位数进行矫正，并对histogram类型分布进行特殊处理
6. 修改了ShowHiddenComponents函数，对0样本数据进行提示

吴博
1 Poolsizebyrank：
   .位置参数与形态参数写反了，要调换位置，且不可直接编辑。
   .并加入discovery按钮，利用makepredication函数获取lamda（形态参数1）和alpha（位置参数4.5）且与右        侧分布图形联动。
   .修改了页面布局，迭代因次数和样本数参数去掉，增加了predication by discovery的按钮功能。
2 .发现过程界面布局修改，调整了控件位置大小。
  .合并了listctrl。
  .暂时去掉了poolsizebyrank的按钮。
  .直方图取log后显示恢复正常。 
3 .油藏规模序列增加了分组数的参数
  .右上方图的详细菜单增加了新的 油藏资源量对比页面（底层有误，结果有误）
4 .资源模块所有面板的listctrl都增加了sampleQ的选项列
  .所有模块中有设置菜单选项的概率图形 弹出的设置面板均隐藏了前三个页面
  .在面板中切换资源类型或practice等需要复位的操作时，独立弹出的window显示对话框将自动关闭
5 修改缺陷 1597 1599 1600（需要底层协助） 1609 1610 1611 1616 1628（底层查错）1631 1639（需要底层函数  ） 1640 1641  1484 1517（practice 都暂时不可用）1526 

2013.2.1 t_1_0_0_beta_2000
--------------------------------------------------------------------------------------------------------------
盛秀杰:
1)升级库不结构:info_assessment_segment新增thickmultiplier
2)对应库表结构的代码调整;
3)新增圈闭合\目标评价活动类接口定义.

2013.2.20 t_1_0_0_beta_20130220
--------------------------------------------------------------------------------------------------------------
盛秀杰
1)升级库表结构: info_accessment_element增加share字段,用于存储共享概率;activity的COST参数表增加data二进制块字段;
2)修改油藏规模序列法,体现分组计算结果的合理性;
3)体积法预测类中的参数准备增加了关于等值线描述的字段信息。

李治昊
Detail：
1.更新CNpvCostBasicRecordPage
1)声明成员变量m_cusRecords：记录参数表
2)更新InitGrid：
a)声明NPV_Cost_BasicRecord record(true)，初始化默认参数表m_records，并赋值给1) m_cusRecords
		b)插入行数为1) m_cusRecords的大小m_cusRecords.size()
3)更新InitParameters：根据1)m_cusRecords参数表中内容，初始化grid，包括名称、单位、数值(mean，min、max)
4)更新InitData：根据1)m_cusRecords参数表中内容，设置grid中数值(mean，min、max)
5)更新GetNPVCostBasicRecord：将表格中数值给予m_cusRecords[i].m_value，并新建对象new NPV_Cost_BasicRecord(m_cusRecords)
lizhihao(李治昊) 10:15:40
，将m_cusRecords赋予NPV_Cost_BasicRecord中的m_records
2.更新CNpvCostDetailRecordPage：
同1

2013/2/4 C 2013/2/8
Detail：
1.更新CNpvCostBasicRecordPage
1)声明宏变量ID_BTN_PARAMETER：作为按钮Parameter Management的ID
2)更新InitPage：增加按钮Parameter Management，用于弹出自定义参数管理界面
3)增加OnParameterManagement，弹出自定义参数管理界面
4)更新InitGridData：增加参数bool isUpdated，当isUpdated为true时，根据重新m_cusRecords的大小在grid中重新插入rows
2.更新CNpvCostDetailRecordPage：
同1
5)增加InitGridData(无参数)：更改参数后，调用4)InitGridData(wxGrid *grid, bool isUpdated)更新grid
3.增加CNpvCustomizedDlg，为NPV模块添加自定义参数功能，包括添加、更新、删除参数，目前只提供CNpvCostBasicRecordPage、CNpvCostDetailRecordPage的自定义参数

吴博：
1 增加了活动树中prospect analy的部分，对应新增加了分析的向导界面。界面逻辑部分已经完成，尚未与底层结合
2 对象树增加了segment节点，并添加了对应的添加删除属性等功能及其界面等。
3 缺陷修复1426 1563 1672 1676 1683 1691 1694 1708 

王海宁：
修改文件：probabilitysettingbook.cpp，解决了概率面板相关bug。
1. 修改了OnCheckLogAxis函数，当分布异常时进行状态回滚，log框和cursor框的置灰
2. 修改了OnCheckHistogram函数，当样本为0时，禁掉log功能
3. 修改了InitLayout函数，在各tab页加载后进行刷新
4. 修改了FillParameters函数，在分布显示之后获取统计值（待肖晔矫正）
5. 修改了GetParameters函数，修正了截断值的读取问题
6. 修改了SetDistribution函数，当样本为0时提示用户，并禁掉log功能
7. 修改了ShowHiddenComponents函数，当样本为0时提示用户，并禁掉log功能

修改文件toolBoxDistributionPlotPage.cpp
1. 修改了CToolBoxDistributionPlotPage函数，修正了概率排序时的bug

修改文件probabilityCanvas.cpp
1. 修改了OnDistributionSetting函数，修正了弹出概率面板会死机的指针bug

修改文件sampleSingnificanceTestPage.cpp
1. 修改了OnWizardPageshow函数，修正了概率面板的拾取方式

2013.3.4 t_1_0_0_beta_20130304
------------------------------------------------------------------------------------------
盛秀杰
1)升级库表结构:修改ref_assessment_resource_type为ref_assessment_resource_kind用于存储油气资源类型;增加新表ref_assessment_reosurce_class用于资源量计算结果的评级;修改actvity_assessment_resource表(去掉resourceid,增加
kindname,typename,classname),用于存储资源量计算结果的评级.
2)AnyPetro增加CAccumulationResourceManager类,用于资源类型\评级等信息的获取;
3)暂未修改上一软件版本缺陷;

王海宁
1)提交AnyVis的最新版本:	log坐标轴\坐标网格线\本地放大\缩小等;


彭成: fuzzy打分模块调整到底层代码;
riskfuzzyscore.h修改：
	增加void DoMonteSimulate();
	增加void DoGetRandoms(CGeoPoint<double> *samples, int iterations, string &mode, double lower, double mid, double upper);
	增加RowVector m_rows;
	增加int m_seedType;
	增加long m_seedValue;
	增加long m_iterations;
	增加long m_fractiles;
	增加int m_curRow;
	增加int m_curCol;
	增加std::vector<string> parentNames;
	增加CGeoPoint<double> *samples;
	增加CAnyDistributionStrategy::DistributionParameters parameters;
	增加CAnyRandomGenerator *generator;
	增加CAnyDistributionStrategy **parentDistributions;
	增加int iterations;
riskfuzzyscore.cpp修改：
	增加void DoMonteSimulate();
	增加void DoGetRandoms(CGeoPoint<double> *samples, int iterations, string &mode, double lower, double mid, double upper);

张桓：
accumulationelement.cpp增加：
 CAccumulationElement::DeleteChildren()函数，用于在析构dummy前，先清空它的孩子，避免删除野指针。

李治昊：NPV模块最新版本
为获得响应NPV_Cost_BasicRecord/BasicRecord中m_records的大小GetFldCount，应分别获取内存中相应对象(应对自定义参数的改变)
NPV_Cost_BasicRecord *basicRec = dynamic_cast<NPV_Cost_BasicRecord >(m_parameters[NPV_PRT_Cost_Basic][0]);
	int count = basicRec->GetFldCount();
NPV_Cost_DetailRecord *detailRec = 
dynamic_cast<NPV_Cost_DetailRecord *>(m_parameters[NPV_PRT_Cost_Detail][0]);
count = detailRec->GetFldCount();

1.更新npvparameterrecord.h
	1)更新结构NPV_Cost_BasicRecord：增加参数m_parameters，记录要保存于数据库自定义参数
	2)更新结构NPV_Cost_DetailRecord：增加参数m_parameters，记录要保存于数据库自定义参数
2.更新CNpvEvaluator
	1)增加const string GetParametersToInsert(NPV_Cost_BasicRecord *costBasicRec = 0,NPV_ Cost_DetailRecord *costDetailRec = 0)：根据两个record中的m_records得到要保存于数据库自定义参数字符串
	2)增加void DoInsertBlobFieldRecord(CAnyAccessor &accessor, const string &tableName, long practiceId, const string &parameters)：将自定义参数字符串存入表中blob字段
	3)更新DoInsertCostBasicRecord：调用1),2)
	4)更新DoInsertCostDetailRecord：调用1),2)
	5)更新DoLoadCostBasicRecord，增加参数const string &sql：读取blob字段内容，赋值给结构NPV_Cost_BasicRecord的m_parameters
	6)更新DoLoadCostDetailRecord，增加参数const string &sql：读取blob字段内容，赋值给结构NPV_Cost_ DetailRecord的m_parameters

t_1_0_0_beta_20130312 ------------------------------------------------------------------------------------------
盛秀杰
1）升级库表结构：info_assessment_element增加字段：rsourcename(油气资源类型),irr（内部收益率）,recovery（采收率）；修改info_assessment_element_exploration（pool），resourcetypeid字段改为resourcename。
2）新增与树持久化相关的3张表。

20130308彭成：
修改.po文件
CFactorEvaluationTreeDlg增加delphi计算，单个因子delphi计算，单个因子打分历史显示，修改commit函数
CScatterMatrixCanvas添加友元类CFactorEvaluationTreeDlg，取消m_isintegratedanalysis参数
CScatterMatrixCanvasDlg添加友元类CFactorEvaluationTreeDlg
CTrapIntegratedAnalysisResult修改canvas初始化可否弹出菜单设置
CWorkParallelCanvas修改可否弹出菜单的参数名称

20130308李治昊：
Summary：
1．更新NPV资源模块的类型名称匹配；更新条件概率窗口，使commit按钮对两个页面均可用
2.  解决Bugs：1739,1751,1755,1757,1759,1777
	无问题Bugs：1758
3. 修改.po文件
Detail：
1.更新CNpvResourceRecordPage
	1)更新DoLoadResourceAccumulation：读取资源量历史记录时，由于底层接口更新，此方法中用资源名称匹配代替资源类型匹配(resources[i].m_kindName == m_resName)确定当前资源的资源量
2.更新CWorkParallelCanvas，解决1751,1759（平行坐标不弹出菜单问题）
	1)更新OnContextMenu：成员变量m_isintegratedanalysis为true时，不执行弹出菜单动作。
	2)更新构造函数列表：m_isintegratedanalysis初始值给false
3.更新CNpvEDPScheduleRecordPage
1)更新SetTotalWellAndReserve，解决1739：资源量比率=计算储量/资源量。资源量为0时，资源量比率 = 0，防止0作为除数出错
4.更新CConditionProbabilityDlg
	1)更新OnCommit：将因子个性、共性因子的值设置给ElementRecord
	2)更新InitLayout：对于区带，取消commit按钮的隐藏
	3)更新OnNotebookChanged：取消对commit按钮的逻辑控制
	4)更新InitButtonSpacer：sizer添加practice、commit按钮时，边界值取变量border的值(代替常量5)
5.更新CNpvCustomizedDlg
	1)更新InitButtonSpacer：增加保存按钮，用以保存修改的参数
	2)增加DoSave：封装保存参数的功能
	3)增加OnSave：点击按钮Save时，调用2)DoSave存储参数
	4)更新OnClose：对话框询问后，选择保存参数时，调用2)DoSave存储参数
6.更新CToolboxScatterMatrixProfilePage，解决1777
	1)更新LoadSingletonMulitpleCoordinate：切换为单例时，根据Y轴选择的坐标确定X轴的坐标，保证X、Y不重复

20130308 吴博：
1 修改了资源模块的界面 ，添加了resource type 和 resource class选项
2 修复了底层petrov的commit 和 practice 的代码。目前资源模块的practice模块均可用
3 修改了activity的图标获取和对应方式
4 prospect 取消了第三个页面，在第一页面加入了iteration

<<<<<<< .mine
=======
-------------------------------------------------------------------------------------------------------------------
20130313彭成：

1.实现贝叶斯，决策树，概率树存取的接口算法:
	增加bayesnetwork.cpp，bayesnetwork.h，decisiontree.cpp，decisiontree.h，probabilitytree.cpp，probabilitytree.h；
	函数包括存树，读树，读记录，存结点；
2.实现贝叶斯，决策树，概率树存取的界面:
	修改workbayesnetworkcanvas.cpp，workbayesnetworkcanvas.h，workdecisiontreecanvas.cpp，workdecisiontreecanvas.h，workprobabilitytreecanvas.cpp，workprobabilitytreecanvas.h；
	增添了右键菜单存取的选项，以及onSave, onLoad事件响应；
3.修改template.mdb和sql.txt：
	增加贝叶斯结点，决策树结点，概率树结点，贝叶斯边，决策树边，概率树边6个表
4.修改mygridview.

cpp,mygridview.h,basinprofiledlg.cpp
	增加点击表格左上角实现全选，修正粘贴数据不能自动新增行的问题

20130314 张桓：

1 修改factorupdatedlg.cpp 添加点击更新按钮后，窗口自动关闭的功能

-------------------------------------------------------------------------------------------------------------------
t_1_0_0_beta_2031325


20130320 王海宁：

1.更新scattermatrixcanvas
	1）增加了MoveMode，PickMode，Grid右键菜单和对应的函数实现
	2）更新了OnReset函数，当重置时清空拾取点
	3）更新了OnSize函数，修正了m_base的值
2.更新CSampleScatterPlotPage
	1）构造函数中对scatter进行mode设置
	2）更新了Update函数，调用底层scatter类的Reset函数
	3）更新了OnWizardPageshow函数，调用底层scatter类的Reset函数
3.更新CProbabilitySettingDlg
	1）更新了OnBtnCancel函数，进行SetDistribution(false)
4.更新CLinearPredicationInputDlg
	1）更新了InitLayout函数，对右上角的canvas进行双log显示
-------------------------------------------------------------------------------------------------------------------

20130320彭成：

1.将贝叶斯，决策树，概率树持久化的三个类合并成一个类：
	删除bayesnetwork.cpp，bayesnetwork.h，decisiontree.cpp，decisiontree.h，probabilitytree.cpp，probabilitytree.h；
	增加treereadwriter.cpp, treereadwriter.h；
2.贝叶斯，决策树，概率树新添删除数据库记录的函数，按指定用户加载记录的函数：
	函数添加到treereadwriter.cpp, treereadwriter.h中；
	workbayesnetworkcanvas.h, workbayesnetworkcanvas.cpp, workdecisiontreecanvas.h, workdecisiontreecanvas.cpp, workprobabilitytreecanvas.h, workprobabilitytreecanvas.cpp添加相应界面；
3.添加活动树设置的功能：
	assessoroptiondlg.cpp, assessoroptiondlg.h添加活动树设置界面；
	assessorframe.h, assessorframe.cpp添加判断是否已经连接到数据库的参数isdatabaseconnected；
	unittreectrl.cpp修改鼠标点击资评对象的响应，每次都重新加载活动树；
	activitytreectrl.cpp修改CreateTree函数，添加从活动树设置表中读取数据并加载活动树的功能；
4.修改.po文件
5.修改mygridview.h：
	将SetFitColSize(int col)，SetFitRowSize(int row)设置为public；
6.底层添加活动树设置相应接口：
	accumulationassessor.h添加ActivityRecordSettings结构，添加GetActivityTreeSettings，CommitActivityTreeSettings，GetActivityTreeSettingsFromRefTable，CompareActivitySettingsRecord函数；
	accumulationassessor.cpp实现相应函数
7.修改数据库文件：
	sql.txt, template.mdb添加表ref_assessment_activity_settings；
8.修改factorevaluationtreedlg.cpp，CFactorEvaluationTreeDlg::SetCurSelection，修正bug1802中显示文字过长问题
-------------------------------------------------------------------------------------------------------------------
20130320 吴博：
1 修改了资源模块的界面 ，添加了resource type 和 resource class选项
2 修复了底层petrov的commit 和 practice 的代码。目前资源模块的practice模块均可用
3 修改了activity的图标获取和对应方式
4 prospect第二个页面修改了列名和数据获取方式
5 修改了趋势法的界面（合并grid，去掉权重等）,需要继续调整
6 修改底层practice代码，恢复了数据库commit语句
7 修复了basinprofiledlg的重复显示缺陷 和 体积法计算结果不合理的缺陷
8 体积法等值线图形无法操作，死机？
>>>>>>> .r1234

-------------------------------------------------------------------------------------------------------------------
20130320 李治昊，增加scatter“子图”模式：
1.更新CToolboxScatterMatrixProfilePage
	1)更新InitModeSpacer：增加Marked Multiple模式选择
	2)更新GetMode：当Mode选择Marked Multiple时，mode |= CAnyScatterMatrix::SVM_View_Multiple|CAnyScatterMatrix::SVM_View_Multiple_Marked;
	3)更新SetMode：恢复场景时，增加恢复SVM_View_Multiple_Marked的场景
	4)更新OnRadioBoxSelected：mode为Marked Multiple时，选择polyline模式，并禁用拾取功能
	5)更新LoadSingletonMulitpleCoordinate：当Mode选择Marked Multiple时，禁用X坐标选择
2.更新CToolboxScatterMatrixWizard
	1)更新CanBeFinished：增加对Mode选择Marked Multiple时Y坐标的判断
	2)更新OnFinished：Mode选择Marked Multiple时，记录X\Y坐标的选择
-------------------------------------------------------------------------------------------------------------------

>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
版本号：outputs_for_win7_1_0_1_beta_20130407

20130403 彭成：
CActivityTreeCtrl：
	修改CreateTree,CleanTree,GetImageindex,SetNormalImage,DoRunActivity函数，主要是生成树及其图标的处理；
CAssessorOptionDlg：
	实现活动树设置的功能；
CBasinProfileDlg：
	添加了对汉字输入的grid响应；
CElementFactorProfileDlg：
	添加了加载数据库Blob字段到界面图片，界面图片存成blob数据，从文件加载图片的功能；
CFactorEvaluationTreeDlg：
	修改OnContextMenu，OnProfile函数，添加SaveBitmap函数；
	
myGrid：
	添加DoGridCellLeftDClick，处理双击单元格；
CTrapIntegratedAnalysisWizard：
	修改OnHelpCommit，添加未选中任何数据时弹出提示对话框；
添加nopicture.bmp到bitmaps目录下；
修改.po文件；
修改sql文件和template.mdb，info_assessment_element_factor添加remarkdata的image字段，ref_assessment_activity_template添加m_unitfor及m_isvalid字段；
CAccumulationAssessor：
	修改GetActivityTreeSettings，DoInitActivityPlayRecords，GetInuseActivityTreeSettings，CommitActivityTreeSettings，DoInitActivityTrapRecords，主要是对新加的m_isvalid字段的处理；
	新加DeleteAllTemplate函数
CAccumulationFactor：
	新加LoadRemarkImage，SaveBitmap函数接口用于成熟度中blob图片的存取；
CTrapIntegratedAnalyzer：
	修改一系列排序的函数；
添加文件activity相关流程到docs\use cases目录下；
-------------------------------------------------------------------------------------------------------------------


-------------------------------------------------------------------------------------------------------------------
20130407 张桓：
1 修复BUG1752 在CAssessorFrame::OnClose()将上次操作记录置为空
2 添加完整类比模块
  resource model中添加 analogpredicationinputdlg.cpp和analogpredicationinputdlg.h两个文件
	assessorapp.cpp：m_activityable添加类比相关内容
	activitytreectrl.cpp： 增加analog图标，DoRunAnalogPredication()函数 以及DoRunActivity()中添加对DoRunAnalogPredication()的调用代码
	assessorframe.cpp：添加wxMenuItem *setup8= new wxMenuItem(m_ResourceModeMenu,MENU_Resource_Analog,_(wxT("&Analog Estimate Resource")));
-------------------------------------------------------------------------------------------------------------------
20130407 李治昊：
2013/3/25 C 2013/3/29
Summary：
1.	增加双曲线的画布
2.	解决Bug1772,1791,1704,1822,1824,1827,1829,1831
Detail：
1.增加CHyperbolaCanvas，调用底层CHyperbolaGraphPlot，将双曲线画入画布
2.增加CHyperbolaDlg，测试CHyperbolaCanvas， 
3.更新CNpvCostBasicRecordPage
	1)更新InitGrid：改变CLightGrid大小wxSize(-1,250)，防止不确定性时概率面板不显示
4.更新CNpvSummaryRecordPage，解决1772
	1)更新DoSetSummaryData：删除改变鼠标状态的代码
	2)更新InitGridData：调用SetSummaryData前后，增加鼠标状态改变的代码
5.更新CToolboxSeismicProfilePage，解决1791
1)更新GetContentType，增加参数bool isLoaded = false：读取记录时(isLoaded = true)，仅profile刷新页面时不提示渲染类型为空
2)更新RefreshSeismicCanvas：调用GetContentType(true),传入参数不提示渲染类型为空
6.更新CToolboxSeismicDataBinPage
1)更新DoApply：仅CAnySegyFile::SurveyInfo合法时(surveyInfor.IsValid()),才绘制地质主题题图：wizard->m_seismicDataInputPage->PaintSegyLines()
7,8：解决1704地质主题地图双击地震测线后，地震剖面页面也变成一条直线的bug
7.更新CAssessorFrame
	1)增加void ActivateSeismicTab(const wxString &name)：根据当前文件名称激活地震剖面tab页面
8.更新CWorkMapCanvas
1)更新OnLButtonDblClick：获取hook时 改为m_view->GetHook(i+1)；当前hook为地震剖面测线时，选择相应地震剖面tab页并调用CAssessorFrame::ActivateSeismicTab激活
9.更新CWorkBayesNetworkProfileDlg
1)更新InitGrid，解决1824：设置gird中浮点数精度为3位，m_grid->SetColFormatFloat(1,-1,3)，与CAnyBayesNetwork显示节点概率精度一致
10.更新CWorkBayesNetworkOutcomeDlg
1)更新InitGrid：设置gird中浮点数精度为3位，m_grid->SetColFormatFloat(2,-1,3)
2)更新InitGridData：读取节点posterior概率时，精度取3位：Format("%.3f",node->m_posteriors[i%2])
11.更新CWorkBayesNetworkCanvas，解决1822
1)更新OnCreateNode，解决：将创建的节点名称默认设为“node”
	2)更新zh.po：增加node的翻译：“节点”
12.更新CWorkDecisionTreeCanvas
1)更新OnContextMenu，解决1831：根据节点选中状态确定菜单（上一级、下一级、移除节点）的可用性
2)更新OnSolvingTree，解决1827：调用m_hook->SolvingTree()前，检查没有孩子的节点是否是结果点(outcome)，若非结果点提示错误
13.更新CWorkParallelCanvas，解决1829
	1)增加CloseOptionDlg：封装销毁因子选择对话框的更新
2)更新OnDrillDown、OnRollUp：执行因子上下翻动前，调用CloseOptionDlg关闭因子选择窗口，防止不同层级因子公用一个因子选择窗口后操作产生的死机
2013/4/1 C 2013/4/5
Summary：
1.	增加CDepthAreaCanvas的画布
Detail：
1.增加CDepthAreaCanvas，调用底层CDepthAreaGraphPlot，将图画入画布
2.增加CDepthAreaDlg，测试CDepthAreaCanvas， 

-------------------------------------------------------------------------------------------------------------------
20130407 王海宁：
1. 更新CUSGSMonteCarloInputDlg
	1）更新OnComboBoxFieldSize函数，修正了点击设置死机的bug
2. 更新CSampleSingnificanceTestPage
	1）更新OnWizardPageshow函数，从第二页面获取样本
	2）更新DoGetCurrentDistribution函数，从前一页面获取分布类型
3.更新CSampleScatterPlotPage
	1）将m_number和m_samples移动至public
4.新增Sampleprobitgraphplotpage
5.更新CSampleDistributionPlotPage
	1）增加了GetDistribution函数，便于向下一页面传递distribution
	2）更新OnWizardPageshow函数，设置第四页面的显示与否
	3）更新SettingDistribution函数，向下一页面传递distribution
6.更新CSampleAnalysisWizard
	1）增加了CSampleProbitGraphPlotPage *m_forthPage成员变量，在概率模块插入了一个probit页面
7.更新CSampleAnalysisWizard
	1）更新了构造函数CSampleAnalysisWizard，插入了新页probitgraphplot
	2) 更新了函数OnWizardPageChanging，设置了切换页面时进行distribution的erase
8.更新CResourcePredicationDetailListDlg
	1）更新了DoListDistributionpredication_Singnificance函数，修正了坐标显示错误的缺陷
9.新增了probitgraphsettingdlg
10.新增了probitgraphplotsettingbook
11.新增了probitgraphplotcanvas
12.更新了CProbabilitySettingBook
	1）新增了m_ifLogApplyed变量，并在构造函数中进行初始化
	2）更新了GetParameters函数，修正了概率设置面板连续点apply时重复取log的缺陷
	3）更新了SetDistribution函数，修正了参数获取的准确性
	4）更新了ShowHiddenComponents函数，修正了右键点击弹出面板死机的缺陷
13. 更新了CDistributionPredicationInputDlg
	1）更新了OnComboBoxDistributionUpdate函数，修正了combox在切换到user分布时崩机的缺陷
14.更新了CBasinProfileDlg
	1）更新了OnOverAllCellDBClick，修正了类比总览面板双击打开窗口，关闭时grid出现乱码的情况
----------------------------------------------------------------------------------------------
2013.4.08 吴博
1 底层增加了对于resourcename和traptype枚举字段的判断
2 修改了发现过程 自然总体样本 趋势法 gsc 油藏规模序列 体积法底层数据结构的定义（增加修改release reset拷贝构造函数等函数）和数据获取方式以及持久化保存的内容增加resourceclass resourcetype等
3修改了activitytree 图标和活动类型获取的方式
4属性对话框增加了对枚举类型的支持，去除内存泄漏
5体积法等值线对话框优化了显示效果和界面操作方式
6 对 发现过程 自然总体样本 趋势法 gsc 油藏规模序列 体积法 数据获取方式（dogetsamples）界面显示进行了修改和代码的规范化，配合底层去除了内存泄漏和部分隐藏bug
7对canvas（除npv）增加了边框增加美观
8prospect增加了选择element直接打开某个对象下的segment进行分析的功能
9prospect geoscene增加了右键对scattercanvas 设置回归线的支持
10 prospect 结果页面增加了结果分位数的显示
11 详细信息对话框增加对prospectanaly的支持
12 详细信息对话框listctrl显示改为2位有效数字
13 scattercanvas 和 scattercanvasdlg增加了对prospect模块的支持

----------------------------------------------------------------------------------------------
2013.4.27 张桓
1 activitytreectrl.cpp/.h 增加CActivityTreeCtrl::DoRunReport()函数等自评报告相关入口
2 analogpredicationinputdlg.cpp增加对成熟度分析模块没有添加分数，直接commit而造成数据库中存在的错误数据情况的判断
3 profilepanel.cpp conditionprobabilitypracticedlg.cpp npvpracticedlg.cpp npvpracticepage.cpp resourcepredicationdetaillistdlg.cpp把年月日精确到年月日时分
4 factorcanvas.h 把view hook变量更改为public用于自评报告对canvas转BMP的调用。
5 factorevaluationtreedlg.cpp 增加OnSelectionChanged函数中光标自动聚焦，小数点精确后三位，没有快速规则直接打分不报错。
6 factorscoringsetupdlg.cpp/.h  factorupdatedlg.cpp/.h 没有快速规则直接创建打分因子不报错。
-------------------------------------------------------------------------------------------------------------------
201304010彭成：
修改.po文件；
数据库：
	修改sql脚本及数据库，将info_assessment_element表enpv字段改为emv；
底层：
	修改AnyPetro添加CAccumulationElement::LoadTrapElements函数，用于圈闭/预探井加载数据；
	修改CAccumulationElement::Commit函数中的sql语句,适应enpv字段改成emv的变化；
	修改CAccumulationAssessor增加CompareActivitySettingsRecordByActivityId函数；
界面层：
	修改CActivityTreeCtrl::DoRunActivity中ST_Value_Trap类型的事件响应；
	修改assessorframe圈闭/预探井相关界面及事件；
	修改CAssessorWorkspace添加WSP_Integrated_Analysis_Grid类型；
	修改CFactorEvaluationTreeDlg添加打分输入的响应，修改打分输入框style为可接受回车键及回车后聚焦回factor；
	修改CHyperbolaCanvas增加拖拽后改变关联grid的函数，增加判断是否为初始右键点击的参数；
	修改CHyperbolaDlg修改相关参数为public,取消initdata函数；
	新增integratedanalysisdlg.cpp和.h用于圈闭/预探井优选；
	修改myGrid添加圈闭/预探井的setActive及右键单击弹出响应，修改右键点击单元格粘贴选项为可用；
	修改CSampleAnalysisDataPage的Initcombox，补全各种类型的初始化combox；
	修改CAssessorOptionDlg数组越界，OnElementtypeChange对activitysettings排序函数；
	增加bitmap文件夹到outputs目录；
-------------------------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------
2013.4.15 李治昊
Summary：
1.更新NPV模块，使资源量计算模块与其无缝衔接
Detail：
1.更新CNpvPolicyRecordPage
	1)更新CreateProductionSpacer：隐去气体废弃类型，从数据库读取资源类型名称（原先是写死的）
2.更新CNpvResourceRecordPage,解决1856
	1)更新InitGridData(int productionType)：根据当前所选资源类型，成员变量m_resName直接赋值为resourceNames[productionType]（原来仅有油、气两项）
	2)更新GetPracticeIdx：读取最近记录时，同时判断记录中资源类型是否与当前所选资源类型相同
	3)更新GetNPVResourceRecordVector：直接将当前资源类型赋值入资源记录（resRecord->m_type = m_curProductionType）
3.更新CNpvPracticeDlg
	1)更新InsertRows(short type)：当type为资源量计算时（type != AccumulationElement::EAT_ Maturity），判断记录中资源类型是否与当前所选资源类型相同，只在listctrl中插入匹配的记录
4.更新CNpvEDPScheduleRecordPage
	1)更新SetParameters：对于不同资源类型，显示不同单位。油：[1e6 STB]，气：[1e9 SCF]
5.更新CNpvCostDetailRecordPage，删除多余grid，只保留一个grid操作
	1)更新DoSetGirdByCalculationType：cell恢复为可编辑时（readonly = false），重新设置列的格式，防止列原先格式失效m_curGrid->SetColFormatFloat(2)
6.更新CNpvCustomizedDlg，根据底层变化，增加对records[i].m_isBusiness与records[i].m_isEconomic	的判断
7.更新CNpvCommitPage
	1)更新Commit：提交数据库后，将当前element经济评价相关数据写入内存
8.更新CAssessorFrame
	1)更新SetActiveWorkspace：函数结尾调用HideWorkspace，当前notebook ctrl没有页面时，隐藏notebook ctrl
	2)更新SetCurrentTabActive，InsertNewTab，解决平行坐标一个因子死机问题：只有curElement存在时，给予用户提示

----------------------------------------------------------------------------------------------
2013.4.17彭成：
修改RegisterUserDlg,ConnectDatabaseDlg,CSampleAnalysisDataPage添加msado15.dll,anyadobasic的import；
修改CSampleAnalysisDataPage::InitGrid()添加excel导入功能；
修改CIntegratedAnalysisDlg完善圈闭优选相关功能；
修改myGrid::SetActive；
修改CActivityTreeCtrl内存释放相关Bug，添加pre-drill活动,解决根节点死机BUG；
修改CSampleScatterPlotPage和Excel相关的处理；
修改CAssessorOptionDlg活动树模板相关Bug，添加pre-drill的图片；
修改CTopicQueryInputDlg,CActivityTreeCtrl将通用查询设为有效；
修改CAssessorFrame添加pre-drill活动响应
修改unittreectrl.cpp添加右键删除element活动的功能；
添加workedittinggrid.h,workedittinggrid.cpp用于以表格形式修改数据库；
----------------------------------------------------------------------------------------------
2013.4.25彭成：
修改CAssessorFrame增加文件的新建和另存为功能，增加生成报表的workspace；
修改CAssessorWorkspace增加生成报表的enum类型；
修改CIntegratedAnalysisDlg将排序算法由冒泡改成快排；
修改myGrid::PasteText增加isreadonly的判断；
增加reportgrid.cpp,reportgrid.h用于实现报表生成；
修改CTableTreeCtrl增加生成报表的功能；
修改CTrapIntegratedAnalysisFactor构造函数，取消element树的Load；
修改CTreeReadWriter::loadDecisionTree，树结点读取后进行一次排序；
修改CUnitTreeCtrl::SetItemName，同步更新树结点和标题栏的名称变化；
修改CActivityTreeCtrl::SetNormalImage增加elementtype为-1的处理；
修改CWorkEdittingGrid，增加升降序的快排，外键值设置，列所有值统一设置；
修改myGrid::SetFitRowSize，myGrid::SetFitColSize可自定大小；
修改CUnitTreeCtrl，新增GetElementById，GetElementByName，SearchElementById，SearchElementByName；
修改CActivityTreeCtrl::CleanTree,CActivityTreeCtrl::CreateTree删除activitysettings解决内存泄露问题；
----------------------------------------------------------------------------------------------
2013.4.27李治昊：
2013/4/15 C 2013/4/19
Summary：
1.	将条件概率模块分割：当前活动为条件概率、钻后验证时，调用不同界面
Detail：
1.更新CNpvResourceRecordPage
1)更新初始化列表，默认活动类型为体积法：m_activityType(CAccumulationElement::EAT_Predicator_Volumetric)
2)更新LoadResourceAccumulation：检查当前活动类型是否是体积法，如是则设置当前历史记录的名称为Volumetric：m_practiceTypeName = _(wxT("Volumetric"));
2.更新CNpvPracticeDlg
1)更新构造函数活动类型默认参数为体积法：short activityType = CAccumulationElement:: EAT_Predicator_Volumetric
2)更新InitLayout：ComboBox增加地质多场景（Prospect Value）的选项
3.更新CConditionProbabilityDlg
1)更新构造函数参数，将wxWindowID id改为bool isConditional：isConditional为true初始化条件概率界面；false时，初始化钻后验证界面
2)增加成员变量bool m_isConditional：记录构造函数传入的isConditional
3)更新InitLayout：根据m_isConditional值初始化界面：true时，初始化条件概率界面；false时，初始化钻后验证界面
4)更新InitButtonSpacer：m_isConditional为false时，添加Conformable打钩选择控件
	5)更新InitCommonGrid：当前对象存在子对象时，显示子对象数据
6)更新SetVerifiedProbability：注释掉成熟度未计算的的语句
7)增加SetElementRecord：封装设置element record功能
8)增加DoCommit：封装提交数据库功能，并调用SetElementRecord
9)更新OnCommit：根据m_opentype决定是否调用7)DoCommit提交数据
10)更新InitMarginalGridData：有历史数据，直接读取最近记录，并调用7)SetElementRecord设置当前对象记录
4.更新CActivityTreeCtrl
1)更新void DoRunConditionAnalysis(bool isConditional = true)：增加参数bool isConditional，将之传入CConditionProbabilityDlg dlg(X, X,isConditional);
2)更新DoRunActivity：双击条件概率活动时，调用DoRunConditionAnalysis (true)；双击钻后验证活动时，调用DoRunConditionAnalysis (false)
2013/4/22 C 2013/4/28
Summary：更新NPV模块

Detail：
1.更新CNpvCustomizedDlg
1)更新InitPropertySpacer：设置成本参数单位为[1e4 RMB]（万元）
2.更新CNpvTreeBook
1)增加吨油成本页面的成员变量CNpvCostOilRecordPage *m_costOilPage，以及宏变量NPV_COST_OIL_RECORD
2)更新InitBook：
a)将节点Cost Basic、Cost Detail的名称分别改为Investment Cost、Per Well Cost，并更新po文件
b)初始化CNpvCostOilRecordPage
c)交换参数页面位置：edpbasic、edpschedule调至summary前；其他输入参数置于在edpbasic、edpschedule之前
3)更新OnPageShow、OnInitParameter：点击\离开吨油成本页面时，执行相应功能
3.更新CNpvPolicyRecordPage
	1)更新CreateCashflowSpacer：隐去显示irr的控件
2)更新CreateProductionSpacer：读取的资源类型以wxComboBox形式显示；增加油气商品率输入控件
	3)更新ResetRecord：新建记录时，设置起止年份为2013―2028，默认贴现率为12%，膨胀率为0%
	4)更新GetNPVPolicyRecord：隐去m_irr、m_pi的获取，增加商品率的获取
4.增加CNpvCostOilRecordPage：对应底层NPV_Cost_OilRecord
5.更新CNpvPracticePage：增加npv保存记录为模板
	1)增加void ResetCostOilRecord (bool isLoaded)：重置/恢复吨油成本页面数据
	2)更新ResetRecords：调用1)ResetCostOilRecord，重置/恢复吨油成本页面数据
	3)更新InitListCtrl：增加Element Name的列InsertCols(_(wxT("Element Name")),1)
	4)更新InsertRows：增加记录时区分当前对象和其他对象模板
6.更新CNpvSummaryRecordPage：按油田部要求更改指标
7.更新CNpvCommitPage
1)更新Commit：区分提交方式，提交并存为模板？仅提交？根据选择设置底层CNpvEvaluator的m_isCommitAsTemplate
8.更新CNpvTaxRecordPage：按年份显示税率
----------------------------------------------------------------------------------------------
2013.04.27
吴博
1 底层prospect增加了对持久化的支持和Q有效性的判断
2 底层修改了 发现过程 的内存泄漏 和资源量提交函数。 自然总体样本 油藏规模序列 发现过程的数据结构增加  了swasonq 并持久化。油藏规模序列增加了reset和release等函数。
3 prospect第二个页面增加了回归线列，第三个页面的element的Q值持久化和其他一些缺陷的修复，以及界面显示  的效果支持
4 lightgrid 增加了对粘贴的支持，修复了原有拷贝功能bug的修复
5 修改美化了油藏规模序列的界面，修复了一些细节显示效果
6 属性对话框增加了overall和segmentpage的创建显示保存方式 增加了basic页面油田部项目需要的控件
  修改了资源类型保存方式
7 增加了deptharea对话框功能
8 增加了油藏规模序列 自然总体样本 发现过程对swasonQ的支持。修改了发现过程minmaxavgQ 的值得获取。对全    部资源量计算模块的概率图去除了密度线和点
9 体积法修改了分布参数获取方式 增加了对deptharea的支持
----------------------------------------------------------------------------------------------
2013.05.07
张桓
1 修改factorevaluationtreedlg.cpp 支持一级因子直接进行成熟度分析
----------------------------------------------------------------------------------------------
2013.5.6
彭成：
anypetro\report下增加reportgridtemplate.cpp,reportgridtemplate.h，anypetro工程属性--build events--post build Event下添加copy此文件到includ目录中的命令；
anypetro增加CAccumulationElement::DeleteAllElementInfoXXData()；
数据库脚本增加一个表 ref_assessment_report_grid_template；
修改assessorframe，assessorworkspace增加topic query结果的workspace显示功能；
修改CActivityTreeCtrl::DoRunActivity添加对elementtype == -1的处理；
修改CFactorEvaluationTreeDlg::OnSelectionChanged解决成熟度分析右面图不刷新的bug；
修改CHyperbolaCanvas::ChangeGridColor调整表格分类的颜色更浅一些；
修改integratedgrid添加提交时同时修改内存中的elementrecords功能；
修改myGrid析构函数避免内存泄露；
修改reportgrid增加报表结构的持久化功能,where条件设置功能；
增加topicquerygrid.cpp,topicquerygrid.h用于topic query的workspace形式显示；
修改CTopicQueryInputDlg::InitLayout解决内存泄露,修改CTopicQueryInputDlg::OnApply,用于topic query的workspace形式显示；
修改unittreectrl增加删除element所有相关数据的功能；
修改CAssessorFrame::OnSaveAs，OnOpen，OnNew将默认文件路径设为recentfile的第一条；

----------------------------------------------------------------------------------------------
2013.05.08
张桓
1 修改fuzzystandardupdatedlg.cpp 增加fuzzystandard的排序函数，用于按照lowerscore从小到大显示。对grid多余的空白行不再做判断。
2 修改assessorframe.cpp OnRecnet()函数增加将操作记录清空的代码
3 修改factorupdatedlg.cpp 修复因子名称已存在bug
4 修改analogpredicationinputdlg.cpp analogpredicationinputdlg.h 修复选择方法时输入参数切换的bug，另外针对打分模板不建立打分规则直接成熟度分析的新功能，在类比法中添加对原始打分数据不存在的检测
----------------------------------------------------------------------------------------------
2013.5.10
彭成：
修改AnyDB:CAnyKeyGenerator::Commit去掉begintrans和committrans；
修改AnyPetro:CAccumulationAssessor中和资评对象树模板持久化相关字段名称，将m_xxx数据库字段去掉m_前缀；
修改AnyPetro:CReportGridTemplate中和自定义报表模板持久化相关字段名称，将m_xxx数据库字段去掉m_前缀；
修改sql脚本及数据库，ref_assessment_activity_template，ref_assessment_report_grid_template两个表字段去掉m_前缀；
修改integratedgrid.h,reportgrid.h，workedittinggrid.h的enum字段；
修改CReportGrid自定义报表相关内容；
修改CSampleAnalysisDataPage::Initcombox()，CSampleAnalysisDataPage::InitGrid()，解决加载excel和不同地质类型相关的bug；
----------------------------------------------------------------------------------------------
2013.5.13
吴博
1 底层修改了发现过程的数据结构，方便存储和持久化，增加了swasonQ等。
2 底层修改了GSC的数据结构和release等函数，修复了隐藏的bug和缺陷，增加了swasonQ等持久化。
3 修改了deptharea的代码和界面
4 修改了发现过程的界面，优化了代码，加入swasonQ等。
5 修改了自然总体样本分布的界面，优化了代码。
6 修改了GSC的界面和代码，修复了隐藏缺陷，优化了代码和界面，引入了swasonQ等。
7 修改了体积法的界面代码，引入了Graph plot，优化了代码结构
8 lightgrid支持全选
9 修改了油藏规模序列，usgs，详细对话框，topicdlg等模块的bug
----------------------------------------------------------------------------------------------
2013.5.13
李治昊：
2013/5/1 C 2013/5/10
1.更新CNpvEDPScheduleRecordPage
	1)调整界面：grid中增加气产量显示（输入）
2)更新GetNPVEDPScheduleRecordVector(int proType)：增加参数int proType，为0时返回油产量数组；1时返回气产量数组
3)增加SetReserves：调用两次2)GetNPVEDPScheduleRecordVector分别返回油气产量数组，再调用底层CNpvEvaluator::SetReserves分配各年油气产量
2.更新CNpvTreeBook
1)更新MakeEvaluation：执行底层m_evaluator->MakeEvaluation前，调用1.3) CNpvEDPScheduleRecordPage:: SetReserves分配各年油气产量
3.更新CNpvPriceRecordPage：仅创建一个grid，可同时设置油气价格
4.更新CNpvResourceRecordPage：不管是否非确定性方法，都显示P90、P50、P10等
1)增加void DoSetReserves(int row ,int col)：封装设置每列（P90、P50、P10、mean等）产量的功能
2)增加bool IsReserveLegal( int row,int col ):检查数据合法性（min<mean<max）
3)更新OnCellChanged：调用2)IsReserveLegal检查数据的合法性；之后调用DoSetReserves(row,col)设置产量，对于mean和p50列，使之资源量相等
2013/5/13 C 2013/5/17
1.更新CNpvEDPScheduleRecordPage
1)更新InitEDPScheduleParameter：将油气资源量都保存为数组放入底层map中（原来只存储一个资源量）
2)更新ResetRecord：读取数据库循环恢复数据时时，当前index%duration==0时，将当前列标恢复为0
2.更新CNpvPolicyRecordPage
	1)更新CreateProductionSpacer：用checklisbox显示资源类型（替代combobox）
3.增加CNpvProfitPage：显示项目利润分配表
----------------------------------------------------------------------------------------------
2013.5.14
张桓：
1 成熟度打分模块修改专家分数过高的bug，把所有record.m_quickScore = lower->m_score*lower->m_weight中的weight去掉。
2 按照新需求，重新调整类比法
----------------------------------------------------------------------------------------------
2013.5.20
彭成：
数据库：
ref_assessment_risk_factor增加字段iscommon byte；
ref_assessment_quick_rule增加字段remarkdata memo；
info_assessment_element删去字段reliability，resource，pmaturiry，pengineering，irr，npv，emv，strategy，istrapcandidate，iswellcandidate；
activity_assessment_npv_tax增加字段data image；
activity_assessment_npv_summary增加字段npvtax float,irrtax float,pc float,pe float,pcres float,peres float,emv float,emvtax float；
增加表ref_assessment_report_grid_header_template；
增加表ref_assessment_report_grid_header_where_condition_template；
增加表info_assessment_element_integrated_analysis；
增加视图info_assessment_element_integrated_analysis_view；

界面：
CActivityTreeCtrl增加活动Report_Header；
修改integratedanalysisdlg,integratedgrid；
增加reportheadergrid；
assessorframe增加reportheadergrid的活动，修改activeworkspace参数type类型为Long；
CAssessorOptionDlg增加reportheadergrid的图标；
CAssessorWorkspace增加reportheadergrid类型；
hyperbolacanvas去掉参数isfirstrightclick；
----------------------------------------------------------------------------------------------
2013.5.23
彭成：
数据库：
添加表ref_assessment_report_grid；

outputs：
bitmaps目录添加maturity.bmp；

界面层：
bitmaps目录添加maturity.bmp；
修改CActivityTreeCtrl::SetTreeImagelist()；
修改CAssessorOptionDlg::SetTreeImagelist()；
修改assessorframe菜单和工具条；
修改elementfactorprofiledlg去掉正负role；
修改factorevaluationtreedlg添加成熟度图片及打分结果显示；
修改integratedgrid添加特尔非法；
修改CMonteSimulationPage::OnWizardPageshow；
修改CSampleAnalysisDataPage::InitGrid()；
修改treereadwriter,CWorkBayesNetworkCanvas,CWorkDecisionTreeCanvas,CWorkProbabilityTreeCanvas存储模板时名字为空和重名的处理；
修改CUnitTreeCtrl::DoActivity()，DoDeleteElement，Activity；
----------------------------------------------------------------------------------------------
2013.5.23
张桓：
1 增加remark字段及界面
2 增加iscommon字段及界面
3 资评报告活动绑定模块
----------------------------------------------------------------------------------------------
2013.5.24
彭成：
修改CActivityTreeCtrl::DoRunActivity；
修改assessorframe，CIntegratedAnalysisDlg，CFactorEvaluationTreeDlg，IntegratedGrid一些活动的英文名称；
修改CUnitTreeCtrl::DisplayActivityPath， CUnitTreeCtrl::OnSelChanged；
----------------------------------------------------------------------------------------------
2013.5.27
李治昊：
2013/5/15 C 2013/5/17
1.更新CNpvCostOilRecordPage
1)增加InitDeprciationSpacer：增加折旧方法选择及折旧年限输入控件
2)更新InitPage：将1)InitDeprciationSpacer产生的加入控件到该页面sizer中
3)增加OnComboboxSelected：选择年限折旧方法显示年份输入控件；选择产量折旧方法隐藏年份输入控件
4)更新OnPageShow：页面显示时设定年份输入控件的范围，如[0,15]
5)更新IsRecordFilled：增加对于年份输入控件是否有值的判断
6)更新InitCostOilParameter：离开当前页面时，将当前选择的折旧方法及折旧年份设置入底层

7)增加void SetCostYearly(bool isShowDlg = false)：设置每年的成本参数
8)增加void OnCostDetail：响应Detail按钮，调用3. CNpvCostOilDetailDlg弹出窗口更改每年的成本参数
	9)更新ResetRecord：新增恢复每年的值cusRecord.m_valueYear.push_back(value);
2.更新CNpvResourceRecordPage
	1)更新GetNPVResourceRecordVector：存储min、mean、max的reserve
3.增加CNpvCostOilDetailDlg：显示、更新每年详细成本
4.更新CNpvPolicyRecordPage
	1)更新ResetRecord：恢复油气商品率，例wxString::Format("%f",record->m_oilCommodityRate*100)
	2)增加成员变量m_isEdpBasicNeedToChange、m_isEdpScheduleNeedToChange：记录评价项目剖	面是否需要改变
3)更新InitPolicyParameter：
a)更新policy数据前判断日期是否改变，将之赋予m_isEdpBasicNeedToChange、m_isEdpScheduleNeedToChange
		b)调用6.1)SetBuildupExpiryYear设置时间点
4)删除ChangeExpiryDate
5.更新CNpvEDPBasicRecordPage
1)增加void SetBuildupExpiryYear(bool isBuildup = true)：根据项目起止时间设置时间点，isBuildup为true时，设置建产时间点；为false时设置废弃时间点
2)更新InitEDPBasicParameter：调用CNpvCostOilRecordPage:: CanPageChanged，防止年份不统一带来的死机（数组越界）
2013/5/20C 2013/5/24
1.更新CNpvPracticePage
1)更新void ResetTaxRecord(bool isDefault = true)：增加参数isDefault，将之传入税率页面的函数CNpvTaxRecordPage::ResetRecord(bool isDefault)，新建或读取数据
2)更新ResetRecords：有历史记录时调用1)ResetTaxRecord(false)读取数据，新建数据时调用1) ResetTaxRecord(true)

3)―5)防止读取错误的记录
3)增加m_realPracticeIds：记录填入listctrl中记录的practiceid
4)更新InsertRows：添加合法记录时，m_realPracticeIds增加一个practiceid
5)更新ResetRecords：当前practiceIdx = m_realPracticeIds[index]
2.更新CNpvTaxRecordPage
1)更新void ResetRecord(bool isDefault = true, NPV_TaxRecord *record = 0)：
a)增加参数NPV_TaxRecord *record，isDefault为false时，重置m_cusRecords,并将值重新写入grid
b)将原先读取数据库数据的代码用3.1) CNpvCostOilRecordPage:: DoResetRecords代替，避免重复代码
2)更新OnCellChanged：当改变第一年数据时，提示用户是否改变所有年份的数据
3.更新CNpvPolicyRecordPage：增加增值税的写入，读取
	1)更新CreateProductionSpacer：增加增值税输入框
	2)更新GetNPVPolicyRecord：设置输入框中增值税税率
	3)更新IsRecordFilled：增加判断增值税是否填写
	4)更新ResetRecord：增加恢复增值税
4.更新CNpvPracticeDlg防止读取错误的记录
1)增加m_realPracticeIds：记录填入listctrl中记录的practiceid
2)更新InsertRows：添加合法记录时，m_realPracticeIds增加一个practiceid
3)更新ResetRecords：当前practiceIdx = m_realPracticeIds[index]
5.更新CNpvTreeBook
	1)增加成员变量：各个页面数据是否提交的标志，如m_isTaxActive、m_isPriceActive等
	2)更新InitPagesFlag：初始状况下，各个页面数据是否提交设定为false
	3)更新OnInitParameter：各页面提交数据后，将数据是否提交设定为true
4)添加IsReady：各页面提交数据以及底层代码m_evaluator->IsReady()为false时，提示用户数据没准备完成
5)更新OnPageShow：对于树形结构Summary下面的页面，显示前调用4)IsReady，检查数据是否准备完毕
6.更新CNpvCostOilRecordPage
1)增加bool DoResetRecords(NPV_CustomizedOilRecords &records, wxString &parameters)：封装读取数据功能，读取成功返回true，失败为true
2)更新ResetRecord：将原先读取数据库数据的代码用1)DoResetRecords代替，避免重复代码
3)增加枚举变量ID_COST_CALCULATION_METHOD、和成员变量wxComboBox *m_costOilTypeBox：记录生产成本计算方法
	4)更新InitDeprciationSpacer：增加生产成本计算方法的选择框
5)更新InitCostOilParameter：离开当前页面时，将当前选择的生产成本计算方法设置入底层；并调用13)ResetRelatedRecords(m_lastCalSelection)将当前m_cusRecords写入对应数组
6)增加void SetGridByCalculationMethod(int selection)：根据生产成本计算方法(selection)切换表格中内容
7)更新OnComboboxSelected：根据Combobox的id选择响应折旧方法，或是响应生产成本的计算方法(调用4)SetGridByCalculationMethod)

8)更新InitGrid，InitGridData：调用调用6)InitCalulationRecords，初始化参数。不再初始化单一默认参数：
		int num = m_treeBook->m_evaluator->GetEvaluation().m_duration;
		NPV_Cost_OilRecord record(NPV_IT_Key_Element,num);
		m_cusRecords = record.m_records;

9)增加InitCalulationRecords：初始化简单法、要素法、生产过程法的默认参数
	10)增加ReleaseCaluationRecords：释放简单法、要素法、生产过程法的默认参数的内存
11)增加void DoReleaseCaluationRecords(NPV_CustomizedOilRecords &records)：具体执行释放内存的功能函数
	12)更新析构函数：调用ReleaseCaluationRecords，释放默认参数申请的内存

13)增加void ResetRelatedRecords(int calType)：根据calType将当前m_cusRecords写入对应数组
14) void ResetControllerStatus(int decriptionType = 1, int calType = NPV_IT_Key_Element, int decriptionYear = -1)：根据数据库读出数据，恢复折旧方法选择与生产成本计算方法的选择；之后调用13)ResetRelatedRecords

15)增加void ModifyOperationTotalCost(int row, int col, wxGrid *grid)：如更改operation cost的子项，将所有子项值相加，并赋值于operation cost
16)更新OnCellChanged：调用15)ModifyOperationTotalCost
7.更新CNpvCostOilDetailDlg
	1)更新InitGrid：设置表格中cell的颜色，以及当前行是否可更改
2)更新OnCellChanged：调用6.15)ModifyOperationTotalCost；当改变第一年数据时，提示用户是否改变所有年份的数据
----------------------------------------------------------------------------------------------
2013.5.27
彭成：

底层：
CAccumulationElement增加resource00字段及相关读存；
修改CAccumulationFactor的factor record两个字段类型m_isCommon，m_isCondition；
更新anybridge工程文件，补充post-build的copy命令；
界面：
assessorframe修改三种树菜单为checkmenuitem；
CFactorEvaluationTreeDlg增加打分规则显示和共性因子设置；
CFactorUpdateDlg增加为成熟度模块显示的界面形式；
CIntegratedAnalysisDlg增加resource10,90,00三项；

----------------------------------------------------------------------------------------------
2013.5.29
王海宁：
1 增加IntegratedGrid的OnStick接口，用于圈闭评价模块右键弹出棒状图
2 更新CScatterMatrixCanvasDlg的构造函数，增加了ID_USAGE_HYPERBOLASCENE枚举变量，用于在圈闭评价模块隐藏底部的2个按钮
3 更新CIntegratedAnalysisDlg的InitData接口，调整了对话框初始状态的hyperbola值
4 增加了CIntegratedAnalysisDlg的OnSetHyperbola接口，用于调整双曲线的形状
5 更新了CHyperbolaCanvas的OnLButtonUp接口，用于鼠标拖动双曲线时，对话框中的hyperbola值自动变化

----------------------------------------------------------------------------------------------
2013.5.30上午
李治昊：
1.更新CActivityTreeCtrl
	1)增加void DoRunConditionProbabilityTree (bool isRealityChecked)：isRealityChecked为true，执行事实校验模块：4. CRiskRealityCheckDlg；false时，执行多层油气概率分析模块（调用概率树）
	2)更新DoRunConditionAnalysis (bool isConditional)：参数isConditional为true，调用1) DoRunConditionProbabilityTree(true)，执行多层油气概率分析模块（调用概率树）
2.更新CWorkProbabilityTreeCanvas
	1)增加void SolvingTree：封装底层SolvingTree的功能
	2)更新OnSolvingTree：调用1) SolvingTree
	3)增加成员变量m_common：记录条件概率值
3.更新CWorkProbabilityTreeProfileDlg
	1)更新InitGrid：增加statement、Pcommon列
2)更新InitGridData：增加获取节点名称及节点pshared概率值，以及CWorkProbabilityTreeCanvas:: m_common
	3)更新CalculateTotalProbability：增加计算pshared概率下的边际概率值
	4)更新CreateButtonSpacer：增加全选的checkbox
	5)增加void SelectProbabilities( bool isChecked)：根据选择，将grid中条件全选或反选
	6)增加OnCheckBox：响应4)增加的checkbox
	7)增加OnCellValueChanged：对于Pcommon列非法值，警告用户
4.增加CRiskRealityCheckDlg：风险模块事实校验模块
5.更新CConditionProbabilityDlg：更新钻后评估模块
	1)更新InitVariable：改名为InitInference
	2)更新InitButtonSpacer：钻后验证模块不显示commit按钮
	3)更新InitTrapAboveData：对于当前element的子对象分别获取对应的CBayesConditionInference * inference，并存入相关element，以及common以及conditional的因子（factor）
	4)更新SetVerifiedProbability：对象发现概率设为element->GetRecord().m_pmaturity
----------------------------------------------------------------------------------------------
2013.5.31
彭成：
anydb:
anyaccessor增加函数:GetAllForeignKeys,GetAllPrimaryKeys,LoadSchema;
anyaccessorimpl、anyadoaccessorimpl增加函数：GetAllForeignKeys,GetAllPrimaryKeys；
anyadoconnection修改CreateField，GetFieldDesc，GetAnyFieldType，增加GetAdoFieldType，GetAllForeignKeys,GetAllPrimaryKeys；
anyadorecordset修改GetFieldDesc；

anypetro:
CAccumulationAssessor修改InitActivityRecords；
CAccumulationElement修改commit，GetMariginalRisk，GetWellDelphiScore；

界面：
assessorframe修改主菜单，工具条等相关函数；
CAssessorOptionDlg修改应用后刷新活动树；
修改CFactorEvaluationTreeDlg::OnShowChart,OnScoreRules,InitFrame,DoCreateTreeCtrl,CreateInforOutputSpacer,CreateButtonSpacer；
修改CFactorRemarkInfoUpdateDlg::CreateButtonSpacer，增加OnlyForShow；
修改CIntegratedAnalysisDlg::OnFilter；
修改IntegratedGrid::SetActive，OnIntegratedAnalysis，OnRclickCell，OnRclickLable，CreateGridFromTrapelements，OnDelphi；
修改CSampleAnalysisDataPage::InitGrid；
修改treereadwriter中概率树结点增加一个nodelevel字段；

数据库：
activity_assessment_probability_tree_node 增加nodelevel字段；
----------------------------------------------------------------------------------------------
2013.5.31
李治昊：
1.更新CNpvPriceRecordPage
1)更新OnAppendRow：根据上一行资源类型，增加一行同时自动填写相同类型。如果当前有选择的行，则在之后增加一行；如无，则在最后增加一行（由调用wxGrid的AppendRow改为InsertRow）
2.更新CActivityTreeCtrl
1)更新DoRunConditionProbabilityTree为bool DoRunConditionProbabilityTree(bool isRealityChecked = false, bool isSolvingTree = false)：弹出概率树成功时返回true；isSolvingTree为true，仅执行CWorkProbabilityTreeCanvas::SolvingTree
3.更新CWorkProbabilityTreeCanvas
	1)更新SolvingTree：CWorkProbabilityTreeProfileDlg改为无模式窗口显示
2)增加成员变量m_element：区别多层含油气性评价或标准模式
	3)更新OnClear：重置参数；如果solving tree窗口打开，则关闭之
4.更新CWorkProbabilityTreeProfileDlg：
针对多层含油气性评价调整界面：显示Marginal probability列，窗口名称为父对象的名称，增加提交按钮，将1个为true的结果提交入内存
1)增加成员变量m_element：区别多层含油气性评价或标准模式
2)更新InitLayout：多层含油气性评价模式下，改变窗口名称为父对象的名称
3)更新CreateButtonSpacer：多层含油气性评价模式下，添加commit按钮
4)更新OnOK：多层含油气性评价模式下，执行commit功能
5.更新CRiskRealityCheckDlg
	1)增加成员变量m_probability：记录当前评价单元钻井成功率
	2)更新CreatePropertySpacer：钻井成功率textctrl填入m_probability的值
6.增加CLiteFactorEvaluationDlg，对区带快速评分，替换之前CConditionProbabilityDlg的功能
7.更新CProspectAnalyBasicPage：
1)更新OnCellDBClick，OnRisk：调用6. CLiteFactorEvaluationDlg，替换之前CConditionProbabilityDlg
----------------------------------------------------------------------------------------------
2013.6.3
李治昊：
1.更新CNpvCostOilRecordPage
1)更新ResetControllerStatus，防止恢复记录后无法切换其他方法：恢复生产成本计算方法的选择时，将恢复的方法赋值于m_lastCalSelection
2.更新CNpvPolicyRecordPage：增加油气转化系数输入
	1)增加ID_Oil2GasRatio,ID_Gas2OilRatio：用于标识油气转化系数的控件
	2)更新CreateProductionSpacer：增加油气转化系数的textctrl控件
3)更新CreateCommoditySpacer：id为ID_Oil2GasRatio或ID_Gas2OilRatio时，允许输入小数位数为4，其他状况下为3
	4)更新GetNPVPolicyRecord：获取油气转化系数，存入底层
	5)更新IsRecordFilled：判读油气转化系数控件是否为空
	6)更新ResetRecord：恢复历史记录中的油气转化系数
3.更新CNpvProfitPage
	1)更新SetSummaryData：将0.1255替换为NPV_PolicyRecord:: m_gas2oilRatio的值
----------------------------------------------------------------------------------------------
2013.6.4--6.17
李治昊：
6/4C 2013/6/9
1.更新CNpvPracticeDlg
	1)更新InitLayout：资源选择框暂时保留体积法、地质多场景、类比法
	2)更新OnTypeChoice：根据选择框中资源方法对应底层对应活动id
	3)更新InsertRows：当前资源类型为类比法时，暂时不显示其历史记录（底层未完成）
2.更新CNpvCostBasicRecordPage
1)增加void SetCostYearly(bool isShowDlg = false)：设置每年的投资参数
2)增加void OnCostDetail：响应Detail按钮，弹出窗口更改每年的投资参数
3)更新GetNPVCostBasicRecord：写入记录时调用1)写入每年投资成本
4)增加void DoResetRecords(NPV_CustomizedRecords &records, wxString &parameters)：封装读取数据功能
5)更新ResetRecord：新增恢复每年的值cusRecord.m_valueYear.push_back(value)；将原先读取数据库数据的代码用4)DoResetRecords代替，避免重复代码
3.更新CNpvCostOilDetailDlg
1)更新构造函数CNpvCostOilDetailDlg(wxWindow *parent, int duration, int start,bool isCostOil = true, const wxString &type = wxEmptyString)：增加参数bool isCostOil，区分生产成本和投资成本；增加wxString &type区分投资成本和商品率、税率
	2)增加成员变量m_isCostOil：记录构造函数传入的bool isCostOil
3)增加成员变量wxString m_type：记录构造函数传入的wxString &type， 区分投资成本和商品率、税率
4)更新OnCellChanged、DoSave、InitPage、InitGrid、IsRecordChanged：根据m_isCostOil分别应对生产成本和投资成本；根据m_type，区分投资成本和商品率、税率
4.更新CNpvPolicyRecordPage
	1)增加成员变量：NPV_CustomizedRecords m_cusRecords，存储每年的增值税税率、商品率
2)更新CreateProductionSpacer：
a)初始化m_cusRecords，调用NPV_PolicyRecord:: InitRates
		b)隐藏商品率、增值税税率输入框
		c)增加按钮Rate Settings：点击后在弹出窗口输入每年的商品率、增值税税率
		d)增加油气转换方法选择
3)增加void SetRateYearly(bool isShowDlg = false)：设置每年的增值税税率、商品率
4)更新GetNPVPolicyRecord：调用3) SetRateYearly，之后调用NPV_PolicyRecord:: SetRates将每年的增值税税率、商品率写入底层
5.更新CNpvCostDetailRecordPage
1)更新ResetRecord：将原先读取数据库数据的代码用2.4)DoResetRecords代替，避免重复代码
6.更新CParallelCoordinatePCADlg，解决bug1786
	1)更新OnClose：调用canvas->SetActive(false)，不再重新获取因子状态
7.更新CToolboxScatterMatrixProfilePage，解决bug1985
1)更新GetMode：将SVM_Regression_Whole改为SVM_Regression_Group，使得回归线不再首尾相连
8.更新CWorkProbabilityTreeCanvas，解决bug2034
	1)更新OnContextMenu：点击右键时，当前有点时才将删除概率分支可用
2013/6/7C 2013/6/9
1.更新CNpvSpiderDiagramPage
	1)更新InitEvaluationType：根据中石化/通用模板，插入相应“基准平衡分析”类型到combobox
	2)更新DoSetCanvas：根据中石化/通用模板，调用相应的“基准平衡分析”函数
2.更新CRovTechniqueUncertaintyPage
	1)更新InitGridData：根据中石化/通用模板，插入相应“基准平衡分析”类型到grid中
3.更新CNpvPriceRecordPage
	1)更新DoSetCanvas：将油气价格均填入画板显示
4.更新CNpvResourceRecordPage，数据库中值非法，需要手动更改数据
	1)更新FillInAccmulationRecord：数据库中读取资源量min\max为0时，手动其值在avg的左右
2013/6/13C 2013/6/14
1.增加CNpvModeSelectionDlg，提供财务分析的模板选择功能（通用模型、中石化模型）
2.更新CActivityTreeCtrl
	1)更新DoRunNpv：先调用1. CNpvModeSelectionDlg选择财务分析模型，之后启动财务分析界面
3.更新CNpvTreeBook
	1)更新InitBook：根据模型，初始化不同页面
2)增加void GetSinopecSelection(int &selection)：获取中石化模型下，各页面的id号。防止初始化部分页面时，id不匹配的问题
	3)更新OnPageShow、OnInitParameter：调用2) GetSinopecSelection，获取页面id号
4)更新IsReady：通用模型，所有页面需激活；中石化模型下，risk、resource、cost detail、edp basic不需要激活
3.更新CNpvPolicyRecordPage
	1)更新CreateCalculationTypeSpacer：中石化模式时，仅可使用确定性方法
4.更新CNpvDecisionTreePage
	1)更新SetParametersForDecisionTree：区分通用/中石化模式时的决策树
5.更新CNpvEDPScheduleRecordPage
1)更新SetTotalWellAndReserve：通用模式时，读取资源页面资源量；中石化模型，（不读取）直接显示资源量加和
6.更新CNpvCustomizedDlg
1)更新构造函数：CNpvCustomizedDlg(wxWindow *parent,const wxString &name, int mode = CNpvEvaluator::NCT_General)：增加参数int mode
	2)增加成员变量int m_mode：记录构造函数传入的mode
	3)更新InitTypeSpacer、DoUpdateParameter、LoadParameterData：根据不同财税模型，更新界面
7.更新CNpvCostBasicRecordPage
	1)更新OnParameterManagement：创建窗口CNpvCustomizedDlg时，传入参数m_treeBook->m_mode
----------------------------------------------------------------------------------------------
2013.6.17
张桓：
1 完善自评报告模块
2 修改类比法bug
3 修改打分模板bug templateupdatedlg.cpp quickstandardupdatedlg.cpp
----------------------------------------------------------------------------------------------
2013.6.17
彭成：
修改CActivityTreeCtrl::DoRunActivity，DoRunTrapAnaly，DoRunPreDrillAnaly；
修改CAssessorFrame::ResetLayout()，SetWorkspaceViewMenuStatus；
修改ConnectDatabaseDlg::OnConnect；
修改CFactorEvaluationTreeDlg::OnMaturity，OnDelphi，OnFactorDelphi，CreateDataViewCtrlSpacer，CreateButtonSpacer，DoCommit；
修改integrated；
修改CReportHeaderGrid；
----------------------------------------------------------------------------------------------
2013.6.20
李治昊：
2013/6/17C 2013/6/18
解决bug2290,2284，2285,2362,2319,2139,2142,2141
1.更新CNpvEDPBasicRecordPage
1)增加void SetReadOnlyCell(int row, int col = 2, const wxString &str = "0")：设置row，col对应cell只读，并且设为浅灰色
2)更新InitData：中石化模式时，单元1) SetReadOnlyCell，将井相关单元格设为只读
2.更新CNpvEDPScheduleRecordPage
	1)更新OnPageShow：中石化模式时，将井相关单元格设为只读
3.更新CVolumetricWizard
1)更新OnCommit：提交数据内存时，同时提交p10、swansonQ、p90对应的资源量，便于类比法调用
4.更新CNpvProfitPage
	1)更新InitGrid：多增加2行（油、气收入），AppendRows
	2)更新SetParameters：增加油、气收入的名称
	3)更新SetSummaryData：填写油、气每年的收入
5.更新CNpvCostOilRecordPage
	1)更新ModifyOperationTotalCost：传入参数row为-1时，直接计算当前列的operation cost
6.更新CNpvCostOilDetailDlg
1)更新DoSave：生产成本时，先计算operation，然后保存数据（防止赋值数据出错）
7.更新CNpvCustomizedDlg
1)更新InitTypeSpacer：中石化模板，增加探井阶段
2)更新DoUpdateParameter：中石化模板，选择探井阶段，需要设置探井类型为0（默认为-1）
3)更新LoadParameterData：中石化模板，如记录是勘探阶段+探井，则下拉框选择探井阶段
8.更新CWorkParallelCanvas
1)更新SetActive：非通用工具产生的平行坐标，
a)element存在时，同时检测对应factors是否存在，解决仅一级菜单，仍可向下的问题
		b)显示失败时，恢复备份的polylines，解决bug2139
2013/6/19C 2013/6/21
解决bug1986
1.更新CNpvPracticeDlg
	1)更新InsertRows：对于风险记录，判断factorid为0时的记录，才读取入listctrl
2.更新CNpvRiskRecordPage
	1)更新DoLoadProbilities：仅记录factorid==0的风险记录id，并读取该id对应的风险值
3.更新CParallelPCADlg
	1)更新GetItems( ***)：因子模式时，根据是否是模板中的因子决定‘提交’按钮是否可用
	2)更新OnRadioSelected：切换因子、评价单元时，直接执行Apply按钮的功能

4.更新CWorkBayesNetworkCanvas，删除记录后，如果当前界面是读取的记录则清空
5.更新CWorkDecisionTreeCanvas，删除记录后，如果当前界面是读取的记录则清空

6.更新CWorkProbabilityTreeCanvas，
1)删除记录后，如果当前界面是读取的记录则清空
	2)增加CloseSolvingDlg：封装关闭结果对话框的功能
	3)更新OnClear、DoCreateProbabilityLevel、OnLButtonDblClick：调用2) CloseSolvingDlg
7.更新CActivityTreeCtrl
1)更新DoRunConditionProbabilityTree：创建窗口前，先调用6.2) CloseSolvingDlg关闭结果对话框，防止活动切换后结果页面不更新
2)更新DoRunActivity，解决bug：多层含油气分析，合理性校验不改变树节点图标，防止节点暂时消失
8.更新CAssessorFrame
	1)更新RemovePage：关闭三种树的tab页前，清空当前页面
9.更新CNpvCostOilDetailDlg
	1)更新DoSave：保存前，生产要素法需要计算运营成本，简单估算法不需要保存；
10.更新CWorkMapCanvas，解决1992
	1)更新OnLButtonDblClick：地震测线hook时，获取当前gate成功后，才获取filename，防止死机
11.更新CNpvPracticePage
	1)更新ResetRecords：通用模型时，读取cost detail数据
	2)更新InsertRows：根据当前财税模型，读取相关模型记录
2013/6/20C 2013/6/21
1.更新CNpvCostOilDetailDlg
	1)更新DoSave：保存前将每年数据加和
2.更新CNpvCostOilRecordPage
	1)更新SetCostYearly：弹出窗口关闭后，将每个参数值重置
3.更新CNpvCostBasicRecordPage
	1)更新SetCostYearly：弹出窗口关闭后，将每个参数值重置

----------------------------------------------------------------------------------------------
2013.6.21
彭成：
info_assessment_element_integrated_analysis增加字段traprank，wellrank，去掉表ref_table_version;
修改CAssessorFrame::OnOpen，OpenDBFile，PaintLogo；
修改CAssessorOptionDlg::SetTreeStateImagelist()；
修改ConnectDatabaseDlg::ConnectDatabaseDlg；
修改CElementFactorProfileDlg::CreateDescriptionSpacer(wxSizer *sizer)；
修改CFactorEvaluationTreeDlg::CreateCanvasSpacer；
修改IntegratedGrid::OnCommit，ApplyElementRecords，OnStick；
修改CReportGrid::PrintValue；
修改CReportHeaderGrid；
修改CWorkEdittingGrid::SetActive，PrintValue；
修改CWorkEdittingPanel::PrintValue；
修改CWorkListCtrl::DoInsertItem；
----------------------------------------------------------------------------------------------
2013.7.4
李治昊：
2013/6/21C 2013/6/21
1.更新CWorkProbabilityTreeCanvas
1)更新DoCreateProbabilityLevel：创建节点前，设置mapport。防止多层含油气概率模块执行过后，再创建节点的位置在屏幕外
2013/6/24C 2013/6/28
1.更新CNpvResourceRecordPage：解决读取记录后手动调整参数不刷新的问题
1)增加bool ResetParameter：封装设置分布参数功能
2)更新SetCanvas：调用1) ResetParameter，成功设置完分布参数后刷新图板
2.更新CWorkProbabilityTreeProfileDlg
1)更新OnCellValueChanged：非条件概率为1时，不限制修改；其他情况，概率修改范围是[非条件概率，1]；修改条件概率后，刷新probabilitytree底图
2)更新OnOK：提交评价单元打分结果时，父亲评价单元的pshare=子评价单元的pshare（表格中边际概率的值）
3.更新CNpvCostOilRecordPage
	1)更新OnPageShow：中石化模型，确定性，禁用总和列单元格
4.增加CTrapEvaluationDlg：多层含油气性分析，对于圈闭-圈闭结构，不再弹出概率树；改为弹出当前评价单元下所有子单元的评价值，选一个子单元的评价值作为当前评价单元的评价值
5.更新CActivityTreeCtrl
1)增加IsProbabilityTreeMode：判断多层含油气性分析是否能够用概率树分析。圈闭-圈闭模式，返回false；其他情况，返回true
2)更新DoRunConditionProbabilityTree：多层含油气性分析时，调用1) IsProbabilityTreeMode，非概率树模式时，调用4.CTrapEvaluationDlg
6.更新CWorkProbabilityTreeCanvas
1)更新构造函数：设置CAnyProbabilityTree的m_sampleStr、m_probabilityStr分别为_("Sample Point")、	_("Probability")，使得底层渲染时输出中文
2)更新DoCreateProbabilityLevel：将输出名称由"Prospect"改为_("Prospect")，使得底层渲染时输出中文；root节点的概率值设为1
7.更新CNpvPriceRecordPage，默认列出所有年份价格
	1)更新InitGrid：调整列宽；将参数名、日期、单位设为只读；调用5)ReInitGridData(grid)设置表	格内容
	2)更新InitParameters、SetParameter：区分油气的参数
	3)删除InitColors，InitUnits：其功能合并入InitParameters内
4)更新InitData：区分油气价格，年份
5)更新ReInitGridData：默认插入年份2倍的行数（油气）
6)更新InitPage：隐去Add、Remove按钮
7)更新CanPageChanged：注释掉DeleteEmptyRows(m_grid);
8.更新CNpvDecisionTreePage
1)更新GetDevCost：中石化模型时，获取开发投资
2)增加GetWellExpCost：获取探井投资
3)更新SetParametersForDecisionTree：更新中石化模型时的决策树
9.更新CNpvTreeBook
	1)增加void LoadPagesData()：读取数据后，自动将每一页面数据存入底层
10.更新CNpvPracticePage
1)更新ResetRecords：读取数据时，调用9.1) LoadPagesData，自动将每一页面数据存入底层。使得读取数据后，用户不必依次点击树的节点
2013/7/1C 2013/7/5
1.更新CNpvSpiderDiagramPage
	1)更新DoSetCanvas：确保变化量包括“0”点[variables，x轴]
2.更新CNpvPracticePage
	1)增加OnItemRClick：右击listctrl，弹出菜单
	2)增加OnDelete：调用CNpvEvaluator:: DeleteNPVPracticeRecord删除对应id记录
	3)增加OnEdit：弹出编辑记录名称、备注的窗口;修改备注后，将备注更新入数据库
4)更新InsertRows：修改检查财务分析模型的代码；输出净现值（替代原先user类）
3.更新CNpvCommitPage
	1)更新Commit：存数据时，弹出输入框，让用户输入备注
4.更新CWorkProbabilityTreeProfileDlg
1)更新InitGrid：增加非条件概率列
	2)更新InitGridData：每行设置非条件概率值：条件概率*边际概率
	3)更新OnCellValueChanged：改变编辑概率后，重新计算并在表格中更新非条件概率值
5.更新CNpvPolicyRecordPage，将生产成本页面（6. CNpvCostOilRecordPage）中折旧成本选择框移动到该页面
6.更新CNpvCostOilRecordPage，隐藏折旧成本选择框、折旧年份数值
----------------------------------------------------------------------------------------------
2013.7.15
张桓：
在assessorapp中添加崩机回调函数
增加概率分布重复添加检测的回调函数
添加reportheadergrid的打印功能
----------------------------------------------------------------------------------------------
2013.7.15
李治昊：
1.更新CNpvSpiderDiagramPage
	1)更新DoSetCanvas：
		a)增加参数bool isDirect：true，刷新图板；false，不刷新（仅获取纵轴范围）
		b)确保纵轴变化范围不变
		c)根据情况设置是否显示图例
	2)增加void RefreshCanvas(bool isDirect = true)：封装刷新图板的功能；参数bool isDirect：true，刷新图板；false，不刷新（仅获取纵轴范围）
	3)更新OnComboboxSelected、OnRefresh：调用2)RefreshCanvas
	4)更新OnPageShow：页面显示时刷新图板
----------------------------------------------------------------------------------------------
2013.7.15
彭成：
数据库：添加表activity_assessment_resource_detail，ref_assessment_report_grid_header_dimcol_template，修改ref_assessment_report_grid_header_template添加字段orderbyprior；

修改CAssessorFrame::OnSaveAs，~CAssessorFrame()；
修改CAssessorOptionDlg::OnDelTemplate；
修改CReportHeaderGrid；
修改CUnitTreeCtrl::DoDeleteElement，DoAddElement；
myGrid添加导出Excel；
reportHeaderGrid添加字段维度挖掘；
CUnitTreeCtrl增加结点拖拽；
----------------------------------------------------------------------------------------------
2013.7.18
彭成：
修改CAssessorFrame增加MergeTableData，OnMergePartData；
修改CUnitTreeCtrl::OnBeginDrag，OnEndDrag；
修改CAssessorFrame合并数据库相关函数；
-------------------------------
wb 7.22
1 增加了线性回归对回归线的调整设置（底层需要再验证）
2 多场景的自动恢复上一次设置的场景
3 历史记录恢复增加了地质多场景和图形的查看
4 多场景增加了鼠标点击（左右键）查看对象资源量和概率，并在第二个页面中自动排序
5 增加了对地质风险依赖顺序的判定
6 修复了概率显示对话框读取的bug
7 增加了场景设置和风险依赖的快捷键
8 增加了单位和曲线的平滑程度
9 怎加了查看直方图的对话框
----------------------------------------------------------------------------------------------
2013.7.23
李治昊：
2013/7/15C 2013/7/19
1.更新CNpvSpiderDiagramPage
1)更新InitPage：canvas风格增加显示图例，并且年份轴刻度为整数
	2)更新DoSetCanvas：删除调用CAnyScatterMatrix::SetLegendRendered的相关代码
2.更新CNpvPriceRecordPage
	1)更新InitCanvas：canvas风格增加显示图例，Y最小值从0开始，并且年份轴刻度为整数
3.更新CNpvSummaryRecordPage
	1)更新InitCanvas：canvas风格增加Y轴过0点，并且年份轴刻度为整数
4.更新CNpvEDPScheduleRecordPage，2)--3)解决年份错乱的问题
	1)更新InitCanvas：canvas风格增加Y轴过0点，并且年份轴刻度为整数
	2)增加long GetRealCol(long year)：根据年份获取年份的当前列
	3)更新ResetRecord：调用2) GetRealCol，将record填入相应列内
5.更新CNpvPracticePage,防止未用真实索引导致数据出错（误删）
	1)增加wxArrayLong m_realIndexes：记录真实索引
	2)更新InsertRows：用m_realIndexes存储真实索引
3)更新OnEdit：获取ActivityPracticeRecord时，根据真实索引(m_realIndexes[m_curIndex])得到相关record
6.更新CNpvTreeBook
	1)更新InitBook：所有模式下均加入resource页面
	2)更新GetSinopecSelection：加入resource页面后，调整页面id
	3)更新LoadPagesData：中石化结束id加1(加入resource页面)
7.更新CNpvPracticeDlg
	1)更新ResetRecords：读取资源量前，设置practiceid和activitytype，以便恢复直方图样本数据
8.更新CNpvResourceRecordPage
1)增加CGeoPoint<double> * GetSamples(int &count, AnyDistributionStrategy::DistributionParameters &parameters)：直方图分布时，获取样本数据
2)更新DoFillInAccmulationRecord：调用1)获取样本数据，之后生成分布
3)更新ShowCanvasProbalityDlg：调用1)获取样本数据，之后生成分布
4)更新ResetParameter：调用1)获取样本数据，之后生成分布
5)更新GetNPVResourceRecordVector：调用1)获取样本数据，之后生成分布
6)增加short GetActivityId(short activityType)：根据活动类型，获取活动id，在1) GetSamples中调用
9.更新CNpvSummaryRecordPage
	1)更新SetSummaryData：增加输出油的pc、pe
----------------------------------------------------------------------------------------------
2013.7.25
彭成：
修改CActivityTreeCtrl::InsertTreeItem；
修改assessorapp.h新加宏定义；
修改assessorframe增加区带版界面；
修改数据库合并相关函数；
新增selectmergedatabasedlg.cpp, selectmergedatabasedlg.h放到connect db目录下；
修改CUnitTreeCtrl::DoActivity()；
---------------------------------------------------------------------
wb 7.29
1 修改了圈闭各个资源模块的界面显示，去掉了资源分类和资源类别选择，
部分功能增加了数据设置按钮
2 修改了部分资源模块的翻译
3 多场景增加了右键弹框查看对象资源量和风险功能
4 修改了保存提交函数的响应
--------------------------------------------------
----------------------------------------------------------------------------------------------
2013.7.29
彭成：
grid添加对单引号的处理；
修改主界面；
修改数据库合并功能；
添加数据库升级功能；
----------------------------------------------------------------------------------------------
2013.8.1
李治昊：
2013/7/22C 2013/7/26
1.更新CNpvTreeBook
	1)更新IsReady：中石化模型，需要判断资源页面数据不为空
2.更新CNpvPriceRecordPage
	1)更新ResetRecord：重构恢复数据代码，防止底层读出的数据未按年份排序
2013/7/29C 2013/8/2
NPV模块图中文字均用中文输出
1.更新CNpvCostOilDetailDlg
	1)更新构造函数：增加参数bool isSpecialReadonly，指定特别收益金对应的行是否可读
2)增加成员变量bool m_isSpecialReadonly，记录特别收益金对应的行是否可读
	3)更新InitGrid：m_isSpecialReadonly为true，设置该行单元格只读
2.更新CNpvCostOilRecordPage
	1)增加ChangeUnits：油转气时，参数单位设为[元/千方]；气转油，参数单位设为[元/吨]
	2)增加ChangeSpecialRevenue：油转气时，特别收益金置0
3)更新OnPageShow： 调用1),2)设置参数单位，以及特别收益金的数值
4)更新SetGridByCalculationMethod：切换参数模板后，调用2) ChangeSpecialRevenue，油转气时将特别收益金置0
5)更新SetCostYearly：调用1.CNpvCostOilDetailDlg，传入特别收益金只读的参数（油转气时只读）
3.更新CNpvEDPBasicRecordPage
	1)更新IsRecordLegal：中石化模型，直接返回true
	2)更新IsRecordFilled：中石化模型，直接返回true
	3)更新GetNPVEDPBasicRecord：中石化模型，如果NPV_EDP_BasicRecord参数非法，重置参数
4.更新CNpvTreeBook，中石化模型，隐去edpbasic页面
	1)更新InitBook：中石化模型，隐藏edpbasic页面
2)更新GetSinopecSelection，增加参数bool isEdpBasic = false：中石化模型，更新edpschedule之后页面id；isEdpBasic为true时，不改变edpbasic页面的id
	3)更新LoadPagesData：中石化模型，结束id为9（edpschedule的id）
4)更新OnInitParameter，增加参数bool isEdpBasic：中石化模型，显示EDPSchedule页面前，先执行EDPBasic页面的操作；isEdpBasic传入GetSinopecSelection
5)更新OnPageShow，增加参数bool isEdpBasic：isEdpBasic传入GetSinopecSelection;显示commit页面时，先询问用户是否提交，如是，则计算净现值，之后保存数据
6)更新OnClose：先询问用户是否需要保存数据，如是，则计算净现值，之后保存数据
5.更新CNpvResourceRecordPage
1)同时读取油气资源量
	2)增加void EraseDims(CNPVScatterCanvas *canvas)：删除canvas中的坐标轴数据
6.更新CNpvPracticeDlg
1)更新ResetRecords：根据5. CNpvResourceRecordPage的改变，区分读取油、气场景
7.更新CNpvCommitPage
	1)增加void DoCommit(int choice)：封装提交数据功能
	2)更新void Commit为int Commit()：返回用户选择（是/否/取消）
----------------------------------------------------------------------------------------------
2013.8.2
彭成：
assessorframe添加自动修复数据库功能，同名区域盆地自动合并功能；
lightgrid新增ctrl+E快捷键导出Excel功能；
----------------------------------------------------------------------------------------------
2013.8.2
李治昊：
1.更新CNpvEDPScheduleRecordPage
	1)更新OnPageShow：中石化模型，隐藏最后一列；重新绘制grid后，填入最近产量
	2)更新DoSetCanvas：不读取最后一列的数据
2.更新CNpvSummaryRecordPage，同1
3.更新CNpvProfitPage，同1
4.更新CLiteFactorEvaluationDlg
	1)更新DoCommit：概率值设置非法时，不提交数据
2)更新OnCommit：概率值设置非法时，多层资源量的含油气模块是否已做不打钩
3)更新InitMarginalGridData：内存数据存在时（含油气概率、边际概率），直接读取内存数据
5.更新CProspectAnalyBasicPage
	1)更新SetCheckbox，增加参数bool isChecked：为true时打钩，false不打钩
6.更新CNpvTaxRecordPage
	1)更新OnPageShow：根据模型，给以税率取值给予提示
7.增加CNpvResourceRecordPage
	1)增加void ReleaseDistribution(CAnyDistributionStrategy *distribution)：释放distribution内存
2) ~CNpvResourceRecordPage、DoFillInAccmulationRecord、ResetParameter：隐去调用ReleaseDistribution，防止死机
----------------------------------------------------------------------------------------------
2013.8.5
彭成：
圈闭预探井优选中对参与筛选一列增加全选/取消全选；
自定义报表调整输出小数精度以及更改面积系数的获取方式；
调整数据库合并及升级功能；
----------------------------------------------------------------------------------------------
2013.8.13
李治昊：
2013/8/5 C 2013/8/9
1.更新CNpvResourceRecordPage：
1)历史记录有样本数据，创建直方图分布；无样本数据，创建三角分布
2)改变资源布局：油气切换选择
3)增加void DoResetRecord(long practiceId, short activityType, bool isOil)：封装读取资源量记录的函数
4)增加wxString GetActivityName(short activityType)：根据活动类型activityType得到活动名称
5)增加void ResetRecord(NPV_ResourceRecord *record)：根据record，读取历史记录
2.更新CNpvProbabilityCanvasDlg
1)更新构造函数CNpvProbabilityCanvasDlg(wxWindow *parent, const string &disType = "")：增加分布类型const string &disType，根据disType确定窗口名称
3.更新CNpvPracticeDlg
	1)更新ResetRecords：读取资源量历史记录时，调用1.3)DoResetRecord
4.更新CNpvPracticePage
1)更新void ResetResourceRecord(bool isLoaded = true)：增加参数isLoaded，为true时读取记录，false时新建记录
2013/8/12 C 2013/8/16
1.更新CNpvTaxRecordPage
1)更新InitGridData：根据生产成本计算方法，初始化不同参数。简单估算：城建和教育附加税（一个参数）；生产要素法：城建税、教育附加税（两个参数）
2.更新CNpvTreeBook、CNpvPolicyRecordPage、CNpvCostBasicRecordPage：恢复原先NPV界面（参照geox界面）
------------------------------------------------------------------------------
wb 8.15
底层
1 usgs底层加入了对usgs详细计算的结果保存和在记录读取对话框中详细信息的查看。
2 各个资源模块均加入了对备注信息和m_mean（swanson）的的保存和修改。
3 poolrank 和gsc 支持对计算结果表格的保存和恢复。poolrank增加了对a lamda maxn的持久化（增加了Assessor的接口）。
界面
4 usgs样本增加了dummy样本，和从0开始的起始样本点
5 修改了油藏规模序列中结果详细图中信息错误的问题
6 修改了记录读取对话框中详细信息查看对话框初始化的问题
7 多场景增加了第二个页面分别对sengment和forth trap 的分别排序
8 修改了Pmarturity判断非法后的单元格置空操作（全部置空），修改了四级圈闭成熟度判断不能相等的bug
9 多场景第一个页面默认盆地设置为当前盆地，不再列出所有盆地，且避开了重名问题
10 GSC增加了总计和差值列，方便查看。
11 各个资源模块均可在页面中直接调出basinprofile修改样本数据。
12 在poolrank中调用发现过程，当发现过程计算结果错误，但a lamda N 有效时仍返回值给poolrank
----------------------------------------------------------------------------------------------
2013.8.16
李治昊：
1.更新CNpvTaxRecordPage，解决不能恢复老版本价格的问题
1)更新ResetRecord：老版本参数，重建为新模板的参数（简单估算，城建和教育附加税是一个）
2.更新CNpvPriceRecordPage
1)更新ResetRecord：老版本参数，直接恢复（可能仅有油、气）；新版本参数需处理（油气均有且与各年份对应）
----------------------------------------------------------------------------------------------
20130821
彭成
layertreectrl移除图层时增加删除相应内存的操作；
CShplayerSelectionDlg中geometry改为智能指针；
----------------------------------------------------------------------------------------------
2013.8.26
李治昊：
1.更新CNpvResourceRecordPage：
1)更新ResetRecord：参数合法时才弹出分布窗口
2.增加CWorkScatterDetailDlg：
显示scatter的拟合线信息：显示一条拟合线时，隐去其他拟合线；退出时，恢复所有拟合线的显示
3.更新CWorkScatterMatrixCanvas
	1)更新OnContextMenu：有拟合线时弹出详细信息
	2)增加OnDetail：调用2. CWorkScatterDetailDlg显示拟合线信息
4.更新CParallelScatterDlg
1)更新构造函数：设置mode由SVM_Regression_Whole改为SVM_Regression_Group，使得回归线收尾不相连

activitytree修改gis树的图标，点线面；
layertree修改gis树的图标，点线面；
修改圈闭优选，添加相关功能；
修改CMyStatusBar::operator()；
IntegratedGrid增加直方图
----------------------------------------------------------------------------------------------
20130906
张桓
1 增加USGS多线程
2 修改概率分布面板相关
----------------------------------------------------------------------------------------------
20130906
彭成
修改sql脚本及template数据库；
CActivityTreeCtrl修改树项背景颜色相关；
assessorframe修改数据库合并相关；
CImportSeismic2DLineDlg增加判断文件是否合法；
CImportSeismic3DGridDlg增加oncancel响应；
圈闭优选增加油田名的使用；
修改layertree选中含子项的树项时的操作；
修改CMyStatusBar；
修改CShplayerSelectionDlg对话框模式；
修改workmapcanvas鼠标双击响应；
----------------------------------------------------------------------------------------------
20130913
张桓
增加单独线程的发现过程，避免死机
CPP test检测修复，涉及fuzzyinferencedlg，factorcanvas等文件
factorscoringsetupdlg.cpp修复打分模板BUG
probabilitysettingbook.cpp修复概率面板BUG
workparallelcanvas.cpp 修复平行坐标子节点没有做成熟度分析死机的BUG
activitytreectrl.cpp修复只有一级因子做不确定分析出错的BUG
----------------------------------------------------------------------------------------------
20130913
彭成
修改CAssessorFrame::OnNo
tebookPageClose；
修改CImportSeismic2DLineDlg::OnOK；
修改CLayerTreeCtrl::DoLoadTreeItems；
修改CLayerTreePropertyDlg；
修改CLayerTreeRootPropertyDlg；
增加CUnitTreeCtrl::OnDataExport；
修改CWorkMapCanvas::OnLButtonDblClick；
修改CWorkSeisProfileCanvas::OnProfile；
----------------------------------------------------
wb 2013.9.16
1 底层修改了propertyrecord 和 set 增加了traprecord 和 trapexploration project等3表的读取访问修改接口
2 界面完成了读取图层属性表的模块的主要功能
3 basinprofile增加了trap相关的属性页（针对新加的三张表）
4 增加了数据批量导入导出功能。
----------------------------------------------------------------------------------------------
20130918
彭成
重构界面的layertree,gis,地震剖面，workmapcanvas：
	修改activitytreectrl加载GIS部分；
	修改CAssessorFrame::OnClose，OnNotebookPageClose关于GIS的处理；
	修改CImportSeismic2DLineDlg::OnOK；
	修改CImportSeismic3DGridDlg；
	重写layertreectrl；
	修改CLayerTreeRootPropertyDlg；
	scattermatrixcanvas增加友类；
	修改CShpLayerProfilePage；
	修改workmapcanvas；
	修改CWorkSeisProfileCanvas；
----------------------------------------------------------------------------------------------
20130918：升级scatter模块
李治昊
2013/8/26 C 2013/8/30
1.更新CToolboxScatterMatrixSourcePage
	1)增加typedef std::map <int,double> ValueMap：用于恢复场景时，记录element的id、value
	2)更新结构ColumnRecord：增加成员变量，ValueMap m_idMap
2.更新CToolboxScatterMatrixProfilePage，设置mode时，分tab页面设置
	1)更新SetMode：恢复场景时，记录element的id、value，将map对应取值存入列数组
3.更新CToolboxScatterMatrixWizard
	1)更新OnFinished：增加列数据排序功能
	2)更新DoAddElements：多例模式时，处理加入到底层坐标轴名称
4.更新CWorkScatterMatrixCanvas
	1)删除OnOrder，该功能集成于3.1) OnFinished
2013/9/16 C 2013/9/20
1.更新CToolboxScatterMatrixSourcePage：可读取excel、mdb、txt文件中的数据
1)更新OpenFile( const wxString &path, int selection)：根据数据类型的选择，打开对应文件（*.txt,*.xls,*.mdb）
2)增加static bool OpenExcelOrDBFile(wxWindow *parent, const wxString &path, CLightGrid *grid, short type)：根据文件path，读取相应文件数据。声明为static，便于其他类调用
3)增加AddDefIndexCol：在数组中添加一列DefIndex，便于0：n模式调用
4)增加GetDefIndexCol：找到DefIndex在数组中的下标
5)更新结构ColumnRecord：增加成员变量m_color、m_symbolStyle、m_lineColor、m_lineStyle、m_isShown，记录点颜色、子图，线的颜色、风格，以及该样本点是否显示
6)更新IsRecordLegal：默认添加所有列数据，不再进行列选择
2.更新CToolboxScatterMatrixProfilePage
1)重新设计界面样式，包括布局、功能改变。界面变为4个book页：交会分析、拟合分析、统计分析、显示配置
3.更新CToolboxScatterMatrixWizard
1)更新void AddEmelemnts(CAnyScatterMatrix *hook, int skipOrder = -1, bool isIntersection = true)：增加参数isIntersection，是否为交会模式
2)更新void DoAddElements(CAnyScatterMatrix *hook, int order, const wxString &changedName = wxEmptyString, unsigned char asixOrder = 'a',bool isIntersection = true)：增加参数isIntersection，是否为交会模式；添加样本点到底层时记录线形、线颜色、是否显示、子图的信息
	3)更新OnFinished：选择0：n模式时，将默认index列数据作为x轴，其他列作为y轴数据
	4)增加RefreshCanvas：读取绘制的scatter后，不再添加数据进入底层，直接重新刷新
----------------------------------------------------------------------------------------------
20130925：升级scatter模块；解决scatter模块升级后，部分部分图版显示不正常的问题；解决NPV模块衔接资源量计算结果仅有3种的问题
李治昊
2013/9/22 C 2013/9/25
1.更新CToolboxScatterMatrixSourcePage
1)增加共有成员变量ColorSymbolMap m_colors，ColorSymbolMap m_symbols：记录数值对应的颜色、子图
2)增加GetColValuesForSelection：得到所有列的不重复的值供选择（m_colors、m_symbols），根据这些值设置默认颜色、子图
	3)更新IsRecordLegal：添加数据后，调用2)赋值默认颜色、子图
4)增加void SetColumnName(const std::string & name, const std::string & colName)：根据列名（name）设置被依赖的列名（colName）
5)增加std::string GetColumnName(const std::string & name)：根据列名（name）返回被依赖的列名（colName）
2.更新CToolboxScatterMatrixProfilePage
1)更新SetMode：用底层的m_colors、m_symbols恢复界面层的m_colors、m_symbols

2)―4)确保手动修改坐标信息在切换模式（auto）后不丢失
2)更新EnableAxisProperties：isAutoMode（自动坐标信息）为true，设置前一个axisInfo为当前坐标信息；为false，设置当前axisInfo为前一个坐标信息
3)更新SetAxisProperties：重置坐标轴时，设置当前axisInfo为前一个坐标信息；反之设置前一个axisInfo为当前坐标信息
4)更新LoadAxisProperties：设置当前axisInfo为前一个坐标信息
3.更新CToolboxScatterMatrixWizard
1)更新OnFinished：设置底层的m_colors、m_symbols

4―6解决scatter升级后，部分图版显示不正常的错误
4.更新CProspectAnalyResPage
	1)更新InitExceedcanvas：增加设置超概率曲线的颜色
5.更新CVolumetricResultPage
	1)更新InitRiskPage：增加设置超概率曲线的颜色
6.更新CUSGSMonteCarloInputDlg
	1)更新DoRefreshCanvas：增加设置曲线的颜色CAnyScatterMatrix::ScatterElement::m_lineColor

7―8解决NPV模块衔接资源量计算结果仅有3种的问题，详见--区带资源评价完善关键事项追踪表（20130924）
7.更新CNpvPracticeDlg
	1)更新InitLayout：读取资源量时，根据版本不同，区分可读资源方法
8.更新CNpvResourceRecordPage
	1)更新GetActivityName：根据活动类型获取活动名称
	2)更新GetActivityId：根据活动类型获取活动id
	
	----------------------------------------------------------------------------------------------
20130926：
张桓
1 prospectintegratedanalysisrespage.cpp prospectintegratedanalysiswinzard.cpp增加单独线程实现的地质多场景
2 volumetricresultpage.cpp volumetricdatapage.cpp增加区带、圈闭判断，以区别是否显示探井成功率
3 usgsmontecarloinputdlg.cpp distributionpredicationinputdlg.cpp 修改个体分布死机等相关bug
4 samplescatterplotpage.cpp 分组无法带到分布的bug
5 sampleanalysiswizard.cpp 样本数据分析的持久化
6 sampleanalysisdatapage.cpp 汉化
7 probabilitysettingbook.cpp 概率面板相关BUG
8 montefactorgridtable.cpp 修改不确定分析BUG
9 mygridview.cpp 修改枚举设置BUG
10 basinprofiledlg.cpp 修改类比信息汉化和默认显示
11 analogpredicationinputdlg.cpp 改变界面名称
----------------------------------------------------------------------------------------------
20130926
彭成
修改CActivityTreeCtrl::SetTreeImagelist()；
修改CAssessorOptionDlg::SetTreeImagelist()；
修改地震测网导入界面；
修改GIS属性页面；
修改CWorkMapCanvas::OnPickByPoint;
----------------------------------------------------------------------------------------------
20130930
李治昊
2013/9/25 C 2013/9/30
增加坐标轴Log设置；对于scatter图版，提供自定义坐标轴信息窗口
1.更新CToolboxScatterMatrixProfilePage
	1)更新InitDisplaySettingsPanel：坐标轴设置页面，增加对数坐标Log选择的属性

2)增加static int IsSubModeExist(unsigned int mode, unsigned int subMode)：mode包含subMode，返回1；否则，返回0
3)增加static void SetSubMode(unsigned int &mode, unsigned int subMode, bool isAdded)：根据参数isAdded，增加subMode

4)更新LoadAxisProperties：调用2) IsSubModeExist，判断tick是否整数显示、是否对数坐标显示
5)更新SetAxisProperties：调用3) SetSubMode，设置tick是否整数显示、是否对数坐标显示

6)增加static bool SetLogValue(unsigned int mode, unsigned char & axisOrder,double &val, bool isLog = true)：根据参数，对val取log或exp，val<=0时返回false；其他情况返回true

7)更新SetMode：当前值合法时element[j].m_isValueLegal，调用6) SetLogValue，得到该值取指数的值：SetLogValue(mode,element[j].m_axisOrder,element[j].m_value,false)
8)更新OnScatterPropertyChanged：点击Log时，刷新图版

9)增加成员变量CToolboxScatterMatrixWizard *m_wizard：在构造函数中赋值为当前类父对象，以便该类中调用，防止频繁调用CToolboxScatterMatrixWizard *wizard = dynamic_cast<CToolboxScatterMatrixWizard*>(GetParent())
10)更新SetMode：根据是否通用场景恢复数据（和/或）设置
11)更新GetMode：根据是否通用场景设置数据
12)更新RefreshScatterCanvas：通用场景时，直接改变底层数据的值及属性；非通用场景时，读取设置后，重新添加数据
2.更新CToolboxScatterMatrixWizard
1)更新DoAddElements：调用1.6) SetLogValue，将返回值赋：elment.m_isValueLegal = CToolboxScatterMatrixProfilePage::SetLogValue(mode,asixOrder,elment.m_value,true)
2)更新构造函数CToolboxScatterMatrixWizard(wxWindow *parent, CAnyScatterMatrix *hook = 0, CAnyView *view = 0 ,bool isGeneral)：增加参数CAnyView *view，将view赋值于成员变量m_view，以便坐标轴设置后直接调用m_view->Refresh()刷新scatter图版；增加bool isGeneral，区分是否scatter图版通用属性设置
3)增加成员变量bool m_isGeneral：记录构造函数传入的isGeneral，区分是否scatter图版通用属性设置，初始化不同界面
4)更新RefreshCanvas：直接调用m_view->Refresh()，替代先获取父对象m_view，再刷新图版
3.更新CToolboxScatterMatrixSourcePage
1)更新GetColValuesForSelection，改名并添加参数void SetDefaultColValuesForSelection
 (CAnyScatterMatrix::ColorSymbolMap &map, bool isReset = true)：isReset为false，并且map不为空，直接返回；isReset为true，设置默认的列选择值
4.更新CScatterMatrixCanvas
	1)更新OnContextMenu：增加属性按钮m_menu->Append(ID_Menu_Profile,_(wxT("&Profile ")));
	2)增加OnProfile：点击属性按钮后，弹出scatter通用设置窗口
---------------------------------------------------------------------
wb 2013.10.09
完成了最新的key issuse
1 底层无偏推测 增加了自由分组的设定。
2 gsc增加了分组类型的变量
3 增加了play+trap版本的logo图片
4 支持在poolrank和无偏等方法下调用发现过程可直接读取已有记录获取a 和 lamda
5 无偏推测法支持自定义分组进行计算和结果显示等
6 GIS数据管理目录增加了新的图形属性页面和属性设置。
7 完善了属性数据读取面板，可以支持分页，查找，高亮显示，跳转等功能。
8 资源量模块第一次启动时会自动寻找适合的资源类型进行样本数据读取。取最小Q时，自动按样本最小值给。
9 在油藏规模序列模块中实现了图形的整数刻度和轴名的自定义设置。计算结果可以自定义分组查看。
10 gsc增加了新的分组设置方式，更适合使用。
11 增加了自定义列导入导出对话框，支持自动和自定义两种导入excel数据方法
12 usgs等模块持久化时可以支持分布参数持久化
---------------------------------------------------------------------
彭成 2013.10.11
修改成熟度右下角图片；
----------------------------------------------------------------------------------------------
20131011
李治昊
2013/10/10 C 2013/10/12
1.更新CToolboxScatterMatrixSourcePage
1)更新OpenExcelOrDBFile：通过按钮打开excel、access文件弹出sheet/table选择窗口；重新读取文件时不再弹出窗口。
2.更新CActivityTreeCtrl
1)增加pair结构和其数组、迭代器：typedef std::pair<int,double> Pair;  typedef std::vector<Pair> PairVec;	typedef std::vector<Pair>::iterator PairItr
2)增加比较函数static bool CompareProbability(const Pair &first, const Pair &second)：按概率从大到小排列
3)更新DoRunConditionProbabilityTree：多层含油气分析，先将节点按概率大小排序，之后插入节点
3.更新CWorkProbabilityTreeCanvas
1)更新bool CloseSolvingDlg，返回类型从void改为bool：如果关闭窗口执行，返回true；否则，返回false
2)更新OnLButtonDblClick：新增功能：双击第一个节点，更改边际概率值
4.更新CPoolRankCanvas
	1)更新RenderBoxes：设置坐标信息
----------------------------------------------------------------------------------------------
20131017
张桓
1 probabilitycanvasdlg.cpp修改点击确定后析构对话框的错误。
2 basinprofiledlg.cpp 创建对象树的时候增加指针为空的判断
3 reportrichtextpage.cpp资评报告 图片清晰度调整

----------------------------------------------------------------------------------------------
20131022
张桓
1 sampleanalysisdatapage.cpp 修正中文翻译
2 scattermatrixcanvas.cpp 网格显示问题
3 analogpredicationinputdlg.cpp类比优化
4 probabilitysettingbook.cpp 修复多场景调用时的BUG
5 usgsmontecarloinputdlg.cpp USGS的BUG
---------------------------------------------------------------------
彭成 2013.10.23
修改CActivityTreeCtrl::DoRunSHPlayer，DoRunTrapAnaly,DoRunPreDrillAnaly;
修改CAssessorFrame::OnSaveAs；
修改测网加载；
优选决策增加区带类型；
地质图层框架增加测网的存取数据库；
修改CUserDefineColourText颜色名称；
修改CPropertySelectionPanel::InitLayout；
修改CShpLayerProfilePage属性相关；
修改CWorkMapCanvas从数据库加载测网部分；
增加Importwell.h, .cpp倒入测井数据；
增加seismicpropertydlg.h,.cpp配置测网属性；
修改GIS属性页中字段页的设置；
----------------------------------------------------------------------------------------------
20131025
张桓
1 factorevaluationtreedlg.cpp 修改模糊设置无效BUG
2 montesimulationpage.cpp 不确定性评价整数截断，默认三角分布，没有不确定性标准右键死机BUG
3 activitytreectrl.cpp 添加不确定性评价没有二级因子的判断
4 templateupdatedlg.cppfactorupdatedlg.CPP 打分模板缓存提交的BUG，现在直接提交，避免用户连续操作时可能产生的BUG。
----------------------------------------------------------------------------------------------
20131025
李治昊
2013/10/21 C 2013/10/25
1.更新CToolboxContourWizard
1)增加成员变量CAnyView * m_view：以便直接调用m_view->Refresh()刷新图板
2)更新构造函数CToolboxContourWizard(wxWindow *frame, CAnyContour *hook = 0, CAnyView * view = 0)：
a)增加参数CAnyView *view，将view赋值于成员变量m_view，以便坐标轴设置后直接调用m_view->Refresh()刷新图版；增加bool isGeneral，区分是否是contour图版通用属性设置
	b)非通用图板时，隐藏“上一步”按钮
3)更新LoadContourSetting：
a)恢复数据时，如果没有文件路径调用2.1) ResetGridData重新设置grid数据
b)调用7.4),7.5)，恢复slider控件的角度值，并设置其是否可用
	4)更新SetContourSetting：设置slider控件的角度值到底层
2.更新CToolboxContourSourcePage
1)增加void ResetGridData(const CGeoPoint<double> *samples, int number, const CAnyContour::ContourSetting &setting)：根据读取的等值线数据，重新填写grid数据
3.更新CContourCanvas
	1)更新OnContextMenu：添加“属性“按钮
	2)更新OnSetting：弹出等值线属性设置窗口
4.更新CContourCanvasDlg
1)更新DoApplyData：绘制等值线时，需要设置ContourSetting的X,Y,Z列、文件路径，防止弹出时通用等值线配置窗口，应用后出错
5.更新CToolboxScatterMatrixProfilePage
	1)更新InitStatAnalysisPanel：直方图增加风格选项，叠加或独立显示
	2)更新LoadOtherProperties：读取直方图分位数、显示风格
	3)增加void SetHistogramProperties(CAnyScatterMatrix::HistogramInfo &info)：设置直方图信息
	4)更新OnStatPropertyChanged：直方图控件style，值更改后刷新图版
	5)删除GetHistogramFractile：功能由3)包含
	6)更新InitDisplaySettingsPanel：对于样本，增加“标注”是否显示选择
	7)更新GetColorAndSymbol：增加参数bool isGettingLabelShown，该条件下获得标注是否显示
	8)更新LoadPlotAndLineProperties：读取标注是否显示
	9)更新OnScatterPropertyChanged：设置标注显示与否
6.更新CToolboxScatterMatrixWizard
	1)更新OnFinished：直方图模式，调用5.3)SetHistogramProperties，设置直方图信息
7.更新CWorkParallelCanvas，解决平行坐标分支在可视范围外的bug
	1)更新DoRenderParallel：得分存入底层时，不再除以权重（当前quickscore不需结合权重）
8.更新CToolboxContourGridPage
	1)增加wxStaticBoxSizer * InitCameraAngleSizer(wxWindow *parent)
2)增加wxSizer * DoInitCameraAngleSizer(wxWindow *parent, short sliderId, short txtId, const wxString &label)
	1)―2)3D模式下增加x、y、z轴角度旋转的界面

	3)增加void SetSliderValue()：根据slider的值，设置显示的值
	4)增加void DoSetSliderValue(int id) ：根据id对应slider的值，设置显示的值
5)增加void EnableSliders()：根据显示模式选择，当为面网格时，设置slider控件可用；反之，不可用
6)增加void OnSilderValueChanged(wxCommandEvent& event)：响应角度滑动条的动作，根据控件id，调用4) DoSetSliderValue，设置显示的值
----------------------------------------------------------------------------------
wb 2013.10.28
1 底层增加对usgs最大最小资源量的持久化
2 底层accumulation增加通过名称获得对象ID的函数
3 重新制作了数据导入模块，取消了原来的elementdatainput导入
4 修复了有偏和无偏方法计算结果错误却仍可绘制出错误图形的问题
5 修改了有偏和无偏方法柱状图显示和卡方查看
6 修改了资源量对比图的显示方法（坐标为分组显示）
7 usgs也可以进行资源量图对比了
8 修改了shp属性页显示模式
9 修改了通用查询对话框，增加了圈闭查询对话框（界面，未完成）
----------------------------------------------------------------------------------
张桓 2013.10.29
1 修改USGS的伪样本，从5个增加到20个
---------------------------------------------------------------------------------
wb 20131101
1 底层增加根据类型获取element的函数
2 底层发现圈闭信息不能保存问题
3 底层查询语句保存接口长度不够
4 底层体积法predication拷贝未复制样本问题
5 通用数据导入只针对具体的导入对象了
6 无偏结果图与列表一致
7 图形树增加了导入mapgis文件功能（实现读取，未写入）
8 修改了通用查询对话框，并实现了圈闭查询功能
9 数据导出excel增加了圈闭数据三张表
10 修改了数据库结构，ref_topic_query,字段类型为备注，保存超长文本
----------------------------------------------------------------------------------------------
20131108
李治昊
2013/10/28 C 2013/11/1
1.更新CAssessorFrame
	1)更新ReloadGeoMapLayer：暂时注释读取layertree节点的代码，防止弹出等值线等tab页时出错
2013/11/4 C 2013/11/8
1.更新CWorkScatterMatrixCanvas
	1)更新OnContextMenu：viewhook模式下，弹出缩放、平移等菜单
	2)增加OnPan、OnZoomFull、OnZoomExtent：分别响应平移、全局显示、拉框放大
2.更新CToolboxScatterMatrixProfilePage
	1)更新InitStatAnalysisPanel：增加饼图设置的属性表格
2)更新LoadOtherProperties，改名为LoadZoomAndStatProperties：增加读取饼图设置
3)更新OnStatPropertyChanged：响应饼图设置；直方图更改分位数时，坐标轴配置非自动时，将坐标轴tick number设置为分位数的数量
	4)增加ResetPiePacket：重置分组数选择框
	5)增加IsPieMode：判断当前模式是否是饼图
	6)增加SetPieProperties：设置饼图信息到底层
	7)增加IsPiePropertyLegal：饼图分组数是否合理、布局（行列数）是否合理
8)更新OnScatterPropertyChanged：坐标轴配置非自动时，将直方图分位数设置为坐标轴的tick number
3.更新CToolboxScatterMatrixWizard
	1)更新CanBeFinished：调用2.7)判断饼图设置是否合理
	2)更新OnFinished：调用2.5),2.6)设置饼图信息
4.更新CHyperbolaCanvas
	1)更新OnContextMenu：增加缩放功能选择；缩放模式下，弹出放大、缩小、平移等菜单
2)增加OnZoomActivate、OnZoomIn、OnZoomOut、OnPan、OnZoomFull、OnZoomExtent：分别响应开关缩放、放大、缩小、平移、全局显示、拉框放大
5.更新CToolboxScatterMatrixSourcePage
1)更新结构struct ColumnRecord：增加成员变量wxArrayString m_stringValues，用字符串形式记录元素value
	2)更新IsRecordLegal：将数据用字符串形式填入数组m_stringValues
	3)更新AddDefIndexCol：将数据用字符串形式填入数组m_stringValues
----------------------------------------------------------------------------------------------
20131112
彭成
修改添加属性记录无效问题
添加地质框架持久化
----------------------------------------------------------------------------------------------
20131112
张桓
修正通用概率面板激活的目标wizard
----------------------------------------------------------------------------------------------
20131112
李治昊
1.更新CToolboxScatterMatrixSourcePage
1)更新结构struct ColumnRecord：增加成员变量std::string m_colNameColor（原来为m_colName）, std::string m_colNameSymbol, 	std::string m_colNameLabel,分别表示颜色、子图、标注对应的列名称
2)增加bool GetSamplesShownStatus()：获取所有样本的显示情况
3)增加void SetSamplesShownStatus(bool isShown = true) ：设置所有样本的显示情况
4)更新void SetColumnName(const std::string & name, const std::string & colName,const std::string &type = "color")：增加参数type，根据type设置对应的属性列
5)更新std::string GetColumnName(const std::string & name, const std::string &type = "color")：增加参数type，根据type得到对应的属性列名称
2.更新CToolboxScatterMatrixProfilePage
1)更新InitDisplaySettingsPanel：样本页面增加show all选项，点击后设置所有样本显示\不显示；样本页面增加属性选择（颜色、子图、标注），三种属性可按不同列值域分配颜色等
2)更新OnScatterPropertyChanged：
a)样本页面点击Shown后，设置Show All状态；点击Show All后，设置当前样本Shown状态
	b)颜色、子图响应时，根据属性选择（颜色、子图、标注）是否根据列值来设置
3)更新LoadPlotAndLineProperties，EnableColumnChoice、ResetColumnValueChoices、LoadColumnPropertiess、GetColorAndSymbol：配合属性选择（颜色、子图、标注）配置
----------------------------------------------------------------------------------------------
20131114
彭成
修改sql脚本及数据库，涉及测网部分；
修改activityctrl的GIS加载部分；
修改数据库合并时单引号内容的处理；
修改加载SDE；
修改加载测网；
修改加载测井；
修改地质框架树；
MyGrid增加各种图；
----------------------------------------------------------------------------------------------
20131115
李治昊
2013/11/14 C 2013/11/15
1.更新CToolboxContourGridPage
	1)增加wxStaticBoxSizer * InitZValueSizer(wxWindow *parent)：增加设置Z Value的sizer
	2)增加bool IsZValueRangeLegal：自定义Z Value设置是否合理
	3)增加void SetZValueRange(bool isLegalNum = true)：根据Z轴选择，显示选择列的值域范围	
	4)增加成员变量wxTextCtrl *m_zValueMin，wxTextCtrl *m_zValueMax，wxCheckBox *m_zValueCustom，		wxStaticText *m_zValueRange：分别表示最大最小值设置的控件，自定义范围的checkbox，显示默认值域	范围的wxStaticText
2.更新CToolboxContourWizard
	1)更新LoadContourSetting：读取底层z value设置参数
	2)更新SetContourSetting：界面层z value参数设置入底层
	----------------------------------------------------------------------------------------------
20131121
彭成
增加伪色彩插值设置；
主题查询增加双击单元格查看其它类型资源量，风险评价值功能；
修改数据库合并，增加地质图层框架相关的合并；
主题查询增加统计图显示；
	----------------------------------------------------------------------------------------------
20131122
张桓
完善资评报告；
修复样本分析的probit图切换分位数数值时的BUG；
----------------------------------------------------------------------------------------------
20131122
李治昊
1.更新CToolboxScatterMatrixSourcePage
1)更新OpenExcelOrDBFile：打开文件后调用CAnyAccessor::ReleaseDB(desDesc)，防止再次打开该文件时显示被占用
----------------------------------------------------------------------------------------------
201311216
彭成
修改数据库合并pmaturiry和pmaturity的处理；
添加输入线道号展示剖面的功能；
修改数据库另存，合并函数；
增加合并后对地质图层框架冗余数据的处理；
增加删除自评对象时同时删除关联的地质图层对象；
增加地震剖面属性是否合理的判断；
----------------------------------------------------------------------------------------------
20131128
李治昊
1.更新CNpvCostBasicRecordPage
	1)更新DoResetRecords：增加解析分布参数分布名称，参数最小值、参数最大值
	2)更新InitParameters：分布存在时，根据NPV_CustomizedRecord的参数设置最大最小值
	3)更新InitDisType：分布存在时，设置每个参数的分布
	4)更新GetNPVCostBasicRecord：非确定时，设置分布名称及极值
2.更新CNpvCostDetailRecordPage
	1)更新InitParameters：分布存在时，根据NPV_CustomizedRecord的参数设置最大最小值
2)更新InitDisType：分布存在时，设置每个参数的分布
3)更新GetNPVCostBasicRecord：非确定时，设置分布名称及极值
3.更新CNpvTreeBook
 	1)更新OnPageShow：commit页面，非确定性也可提交
4.更新CWorkDecisionTreeCanvas
1)更新OnLButtonDblClick：机会分支，修改分支值非[0,1]时，提示错误；机会分支，修改分支值后，自动修改另一分支为1-当前概率值
5.更新CWorkDecisionTreeProfileDlg
	1)更新OnOK：机会点分支值相加不为1时，提示错误
6.更新CParallelPCADlg：隐藏common、condition列，不再提交。设置共性因子的功能在成熟度分析中已经被替代
7.更新CAssessorFrame
1)更新SetCurrentTabActive、InsertNewTab、AddNewTab：平行坐标执行返回false时，不再弹出pca窗口
----------------------------------------------------------------------------------------------
20131216
彭成
修改数据库合并测井相关表的合并；
增加测井曲线的workspace的tab页；
修改导入测井对话框；
增加优选决策的颜色和形状设置；
增加integratedanalysissettingsdlg；
增加workwellprofilecanvas;
----------------------------------------------------------------------------------------------
20131219
李治昊
2013/12/2 C 2013/12/6
1.更新CWorkParallelCanvas
1)更新SetActive：未能重新绘制平行坐标后，恢复polylines数据后，判断数据合法再进行绘制平行坐标，防止数据不合法时死机的问题
2013/12/9 C 2013/12/13
1.更新CToolboxScatterMatrixProfilePage
	1)更新InitDisplaySettingsPanel：坐标轴信息增加原点起始选项
2)更新LoadAxisProperties、SetAxisProperties、EnableAxisProperties：根据增加的1)原点起始选项，设置界面数据
3)更新OnScatterPropertyChanged：增加响应原点起始选项的操作
2.更新CToolboxScatterMatrixWizard
	1)更新OnFinished：增加设置原点起始选项的操作
2013/12/16 C 2013/12/20
1.更新CToolboxScatterMatrixProfilePage
1)增加void EnableEdgedLine、void LoadEdgedLineStatus、void SetEdgedLineStatus：设置交会图中的门限值

2)增加void DisableStatPages(const wxString &pageName)：选中当前统计功能，取消其他选中的统计功能
3)增加bool IsStatByValueMode：当前是否是数值统计模式
4)增加void SetStatByValueProperties(CAnyScatterMatrix::StatisticalInfo &info)：设置数值统计的相关信息
5)更新OnStatPropertyChanged：Enable属性点击后，响应2) DisableStatPages，取消其他选中的统计功能；响应数值统计的属性变化
	6)更新LoadZoomAndStatProperties：读取数值统计的属性
	7)更新InitStatAnalysisPanel：增加数值统计的属性页面
	
	8)更新InitModeSpacer：增加排序选择框，包括不排序、升序、降序
	9)更新SetMode：根据排序模式，增加设置升序的功能
	
	10)更新InitDisplaySettingsPanel：增加符号大小、标注大小的属性配置输入框
	11)增加int GetTxtSymbolSize(double &txtSize, double &symbolSize)：得到标注、符号大小
	12)更新LoadPlotAndLineProperties：读取当前样本标注、符号大小
13)更新OnScatterPropertyChanged：响应标注、符号大小变化，刷新图版；响应坐标轴名称、刻度数值大小
2.更新CToolboxScatterMatrixWizard
1)更新OnFinished：设置数值统计信息；更新设置排序功能，不对x轴进行排序，只对y轴数据排序
----------------------------------------------------------------------------------------------
20131219
彭成
增加活动的权限；
增加双曲线的设置；
增加用户管理模块（C/S）；
修改用户权限管理模块；
----------------------------------------------------------------------------------------------
20131226
李治昊
2013/12/20 C 2013/12/20
1.更新CToolboxScatterMatrixSourcePage
	1)更新IsRecordLegal：存入字符串value时，调用Trim去掉字符左右的空格
2.更新CToolboxContourGridPage
	1)更新InitContourLevelsPanel：增加样本点属性配置页面
	2)更新SetContourProperties：设置样本点属性
	3)更新LoadContourProperties：读取样本点属性
	4)更新OnPropertyChanged：响应页面样本点配置
	5)void LoadDisplayMode(unsigned int style)：根据style设定页面中显示模式
	6)增加unsigned int SetDisplayMode()：得到设置入底层的mode
3.更新CToolboxContourWizard
	1)更新LoadContourSetting：调用2.5) 设定页面中显示模式
	2)更新SetContourSetting：调用2.6) 得到设置入底层的mode
	3)更新SetSamplesAndSettings：返回类型改为bool，mode == 0时返回false
2013/12/23 C 2013/12/27
1.更新CNpvPolicyRecordPage
	1)更新DoSetRoundsStatus：非确定性，最小模拟次数为5000
2.更新CToolboxContourGridPage
	1)更新InitContourLevelsPanel：增加网格标注设置界面；增加颜色色标设置界面
	2)更新LoadContourProperties：读取网格标注设置；读取颜色色标设置界面
	3)更新SetContourProperties：设置网格标注；设置颜色色标
3.更新CToolboxScatterMatrixWizard
1)更新OnFinished：调用CAnyScatterMatrix::SetTotalNumberString，设置“总数”字符串，便于中文显示；设置数量统计信息
4.更新CToolboxScatterMatrixProfilePage
1)增加bool IsStatByStringCountMode()：当前是否数量统计模式
2)增加void SetStatByStringCountProperties (CAnyScatterMatrix::StatisticalInfo &info)：设置数量统计的相关信息
3)更新OnStatPropertyChanged：响应数量统计的属性变化
	4)更新LoadZoomAndStatProperties：读取数量统计的属性
	5)更新InitStatAnalysisPanel：增加数量统计的属性页面
<<<<<<< .mine

------------------------------------------------------------------------------
2013.12.27 wb
底层
1 修改了地质多场景算法的缺陷
2 无偏取样修改了分组的计算方法，增加了对分组的持久化支持。增加了对图片类blob字段的持久化支持
3 assessor修改了blob字段的初始化读取方式

界面
1 根据扫描结果修改了部分代码隐患的地方（资源模块和对象属性以及GIS属性模块）
2 无偏取样增加了对报告的支持、对blob图片的支持以及对分组的持久化
3 修改了并融合了张关于报表的接口，实现了对无偏和usgs对报表的支持。
4 对象活动记录面板增加了对NPV的支持（接口李提供）
5 地质多场景在原来列出不同层组合概率的基础上增加了对资源量的支持，并可以浏览直方图分布
6 修改了部分翻译内容
7 修改了无偏置信度的初始值为10
8 usgs个数分布去掉了不需要的分布
-------------------------------------------------------------------------------------
2014.1.5 wb
界面
1 poolrank 放开了对油藏个数的修改
2 修改了对象历史活动记录面板的显示
  去掉了不必要的列
  增加npv列和记录，可以直接读取和计算NPV
  增加了tip显示方式
3 修改了report的接口代码
4 历史记录面板可以支持报告
5 对poolrank的报告面板列内容进行了修改=======
----------------------------------------------------------------------------------------------
20131231
李治昊
1.更新CNpvTreeBook
1)更新构造函数：CNpvTreeBook(wxWindow *parent, wxWindowID id,CAccumulationElement *curElement,int mode = CNpvEvaluator::NCT_Sinopec,long practiceId = -1, long resPracticeId = -1，short resActivityType = CAccumulationElement::EAT_Unknown)：增加long practiceId, long resPracticeId，short resActivityType，参数practiceId、resPracticeId不为-1时，直接指定经济评价历史记录/资源页面历史记录
2)增加成员变量long m_practiceId，long m_resPracticeId，short m_resActivityType：分别对应构造函数中的long practiceId, long resPracticeId，short resActivityType
2.更新CNpvPracticePage
1)更新ResetRecords：1.2) m_practiceId不为-1时，直接读取当前m_practiceId对应记录，并在历史记录页面中选中该条记录；1.2) m_ resPracticeId不为-1且m_resActivityType不为CAccumulationElement::EAT_Unknown时，资源页面读取活动相应活动记录
----------------------------------------------------------------------------------------------
20140103
彭成
进行修改库表结构后的相关函数修改，element的部分字段改为用propertyset(PRT_Trap)方式获取，factor增加whodo；涉及数据库合并，删除用户，element属性页，活动树，优选决策，成熟度，自定义报表，主题查询，资评对象输出excel，
----------------------------------------------------------------------------------------------
20140103
张桓
修改资源丰度法相关模块，去掉MD按钮，解决关闭重开hook问题，解决行数列数重设置问题，增加进度条，界面位置及汉化等等>>>>>>> .r2949
----------------------------------------------------------------------------------------------
20140113
李治昊
2013/1/6 C 2014/1/10
1.增加CLogDlg、CLogCanvas
	1)响应双对数坐标图版
2.更新CLayerTreeCtrl
	1)增加void OnContourPickByPoly( wxCommandEvent &event )：响应blank模式下，多边形选择
----------------------------------------------------------------------------------------------
20140116
彭成
增加sde geometry的查询功能；
----------------------------------------------------------------------------------------------
20140117
李治昊
2013/1/13 C 2014/1/17
1.更新CWorkScatterMatrixCanvas
1)更新OnContextMenu：scatter图版中回归线数量不为0时，弹出‘重置’菜单；0:n模式并且只有一组数据显示时（调用2)IsOneVectorShown），弹出‘详细’菜单，显示序号、名称信息等
2)增加bool IsOneVectorShown()：是否仅显示一组element
2.更新CLogCanvas
	1)更新构造函数：调用CAnyLogGraphPlot:: SetShownAxisName，设置坐标轴的中文名称
3.更新CWorkScatterDetailDlg，增加显示element序号信息
1)更新构造函数CWorkScatterDetailDlg(wxWindow *parent,CAnyScatterMatrix *hook, int shownId = -1)：增加参数int shownId，表示当前显示一组element的id
2)增加wxPanel * InitIndexDetailPanel(wxWindow *parent)：显示element序号信息的panel
	3)增加void InitIndexDetailGrid(wxWindow *parent)：设置显示element序号信息的grid
4.更新CToolboxScatterMatrixSourcePage
	1)增加map typedef std::map <int,std::string> StringValueMap，存储元素的序号-字符串value
2)更新结构struct ColumnRecord：增加成员变量StringValueMap m_idStrMap，存储元素的序号-字符串value
5.更新CToolboxScatterMatrixProfilePage
1)更新SetMode：恢复数据时，将元素的stringValue存入m_idStrMap，按序号排序。防止排序后序号对应的stringValue出错
----------------------------------------------------------------------------------------------
20140120
张桓
增加connectionexceptionfunctor用于cs版本数据库失去网络连接的回调
修改mygrid.cpp 增加批量删除的模式
----------------------------------------------------------------------------------------------
20140121
彭成
修改合并数据库函数；
解决等值线全图显示死机问题；
----------------------------------------------------------------------------------------------
20140126
李治昊
2013/1/20 C 2014/1/24
1.更新CNpvResourceRecordPage
1)更新static void EraseDims(CAnyScatterMatrix *hook)：参数由CNPVScatterCanvas *canvas变为CAnyScatterMatrix *hook，便于其他图版删除hook中数据
2.更新CConditionProbabilityDlg, 增加钻后评估图版，包括成功井分析、失利井分析、资源量比对分析、资源量估计分析
-----------------------------------------------------------------------------------------------
2014.1.26
wb
1 frame界面增加了快速创建导入excel数据建立数据库资评对象树和体积参数的功能
2 app增加了数据库临时建立对象操作的函数
3 属性对话框增加了圈闭层圈闭体积参数的页面
4 资源量计算迭代次数改为最小1000默认5000
5 poolrank限制放开了最大油藏数和分布类型，可以自由设置（放开后逻辑有缺陷，待进一步修改）
6 probit修改了三角分布的参数设置界面，并修改了原来不正确的参数设置
7 多场景修改了结果列表中计算资源量结果的单位（万吨/亿方）
8 修改了无偏计算结果图（右上图）详细列表的显示效果
9 修改了数据库升级后，圈闭查询的几个主要问题，其它问题待测
10 修稿了对象树的一些代码，用来配合快速创建树的功能
11 体积法增加了通过体积参数表自动生成分布参数的功能
12 增加了具体实现快速导入功能的对话框
底层：
13 底层增加了对体积参数表的读取插入删除新建等功能
14 修改了poolrank底层的代码，用来配合界面放开参数设置的变化（有缺陷，暂时不采纳修改）
-----------------------------------------------------------------------------------------------
2014.2.13
张桓
修改connectdatabasedlg.cpp 增加CS版本新建数据库时输入数据库名称的功能
----------------------------------------------------------------------------------------------
20140217
李治昊
2014/2/10 C 2014/2/14
1.更新CNpvEDPBasicRecordPage
1)更新InitData：设置减产类型为选择cell（包括指数、双曲线、调和）；增加设置减产指数默认值为0.5
2)更新GetNPVEDPBasicRecord：更新获取减产类型（通过cellvalue与减产类型匹配），增加获取减产指数
3)更新ResetRecord：更新设置减产类型（通过底层类型与减产类型匹配），增加设置减产指数
4)更新OnCellChanged：减产指数cell值应为（0,1）之间的数；减产类型选择为双曲线时，将减产指数cell置为可用，其他情况不可用
2.更新CNpvEDPScheduleRecordPage
	1)增加OnCellRightClick：右击资源量行时，增加菜单Reset（参数重置）
	2)增加OnReset：重置资源量参数（按系统默认分配）
3.更新CNpvResourceRecordPage
	1)更新GetNPVResourceRecordVector：增加存储m_gasReserve（gasGrid的cell（1,2）对应的值）
------------------------------------------------------------------------------------------------
wb 2.17
底层
1 增加了油藏规模序列的变量和提交函数用来存放图片表格等blob数据，修改了样本数据获取方式
2 修改和增加了element对象的函数以满足导入对象时查询和添加的要求
3 修改了propertyrecord函数，适应对象导入需要
界面
1 对象属性对话框增加了涉及单独数据设置对话框功能对体积参数页面的支持
2 通用导入增加了对体积三参数导入的支持
3 重新整理了油藏规模序列的代码，增加了样本数据成员函数，支持报表功能
4 poolrank样本数据增加了对负数的剔除
5 图形面板和概率图面板增加了菜单控制函数，不再是一堆变量控制
6 活动记录面板增加了报表功能的支持
7 体积法面板数据设置增加了参数设置功能
8 地质多场景增加了对不规则树对象的读取添加
9 在excel直接导入创建对象树基础上，增加了根目录下导入树添加到已有树下的功能
10 增加了油藏规模序列报表的功能（底层待扩展）
11 增加了圈闭查询中对应不规则树的读取和条件选择
12 增加了创建element的excel模板，方便测试
--------------------------------------------------------------------------------------------
wb 2.24
底层
1 增加了报表定义中的类型定义，支持更多类型的图和表格
2 增加了GSC 油藏规模序列 地质多场景对报表功能的输出
界面
1 增加了快速定位查询树节点的功能
2 增加了GSC和地质多场景（待完善）的报表输出功能
3 修复了快速导入对象的一些缺陷
4 修复了体积法界面的一些缺陷和翻译错误
----------------------------------------------------------------------------------------------
<<<<<<< .mine
=======
20140228
彭成
测井增加线、道是否显示设置，颜色，线长，振幅；
测井持久化从las,lgcreport移到loglayer；
增加获取测井关联的地震数据；
增加获取地震关联的测井数据；
测线持久化到data_assessment_seismic_2d_geometry；
增加Seismicproject,Seismicdataset持久化，界面设置，增加表中字段；
增加C/S版数据库升级；
解决C/S版本过慢问题；
----------------------------------------------------------------------------------------------
20140228
李治昊
2014/2/24 C 2014/2/28
1.更新CMyNumericTextctrl
	1)更新构造函数，增加参数bool isFormulaMode = false：是否为公式编辑模式
	2)增加成员变量bool m_isFormulaMode，是否为公式编辑模式
	3)更新OnChar：公式编辑模式，仅接受数字和+-*/()输入；double模式，输入”.”的前提是当前字符串中		不包含”.”
2.增加CFormulaParserDlg：公式编辑器窗口
3.更新CNpvEDPBasicRecordPage
	1)增加void OnCellDClick(wxGridEvent& event)：响应鼠标左键双击cell，双击自定义衰减公式cell，弹		出2.公式编辑器窗口(CFormulaParserDlg)
	2)增加void UpdateFormula(std::string &formula)：设置自定义衰减公式cell的内容(在2.CFormula -	ParserDlg中点击按钮‘应用’且公式合法的情况下响应该内容)
----------------------------------------------------------------------
wb 3.3
底层
1 增加了element assessor resourcemanager中对圈闭状态的评价的设置函数
2 增加了poolrank报表功能的支持
界面
1修改了对象树快速定位功能函数的响应方式
2属性对话框增加了圈闭状态显示，并与数据表联动
3poolrank增加了报表支持
4profile增加了对圈闭状态的支持
5多场景修改了单位显示和报表支持（报表图片获取有误）
6快速导入对象增加了对区带节点的支持
7报表增加了对poolrank的支持
8圈闭查询增加了对圈闭评价状态的支持（实验版）
9增加了圈闭评价状态对话框（实验）>>>>>>> .r3165
----------------------------------------------------------------------------------------------
20140307
彭成
shp修改过小图元不显示，增加多个图元高亮，修改拾取功能；
picklogtracedata进行井斜校正；
增加logseistrack；
PickSeismicTraceData进行井斜校正；
增加地震图层中显示测井曲线；
修改sde图层load函数先加索引，索引设置上限；
getgeometry传accessor引用，增加多个图元高亮，增加导出shp文件接口；
增加mdb转换为sql server数据库；
测井图层属性增加振幅最大最小设置
----------------------------------------------------------------------------------------------
20140307
李治昊
2014/3/3 C 2014/3/7
1.更新CNpvProbabilityCanvasDlg
	1)增加成员变量wxStaticText *m_txt：显示分位数信息
	2)更新InitPage：将1)m_txt加入到sizer中
2.更新CNpvSummaryRecordPage
	1)更新DoSetDistributionCanvas：设置分位数字符串并显示在图下
3.更新CNpvResourceRecordPage
	1)更新ShowCanvasProbalityDlg：设置分位数字符串并显示在图下
4.更新CNpvEDPBasicRecordPage
1)更新GetNPVEDPBasicRecord：中石化模型时，给予默认产出比、衰减类型、衰减速率，使得可以默认分配每年的产量
-----------------------------------------------------------------------------------------------
2014.3.17
张桓
1 资评报告实现grid转图片的快速展示，实现多列，实现grid的style设置接口
2 资源丰都优化，减少插值重复的次数。
----------------------------------------------------------------------------------------------
20140317
李治昊
更新npv不确定性算法，申明三维数组，保留中间计算过程。
----------------------------------------------------------------------------------------------
20140317
彭成
gis属性相关函数设为static；
增加双击改变测井道顺序；

增加configure表及改变缓冲等设置后的重新加载；
改变Load，缓冲、索引初始化的传入参数，增加设置高亮，增加属性字段导入导出及显示，批量读取图元；

数据库连接界面增加数据库删除功能；
优化导入测井界面；
增加SDE属性界面，缓冲配置界面；
增加SDE查询结果对话框；
---------------------------------------------------------------------------------
wb 2014.3.17
底层
1 增加了体积法中历史记录和多场景历史记录匹配的判断
2 增加了趋势法报表功能的支持
3 增加了对多场景读取错误记录后的返回的具体信息
界面
1 数据导入向导增加了对blob字段的判断
2 修改了数据导入向导的界面
3 无偏增加了对样本分组越界的判断，可以正常读取分组记录了
4 多场景增加了对错误记录的判断和对不同级别条件设置的限制
5 增加了趋势法报表功能
6 增加了GIS属性复杂查询的界面
-----------------------------------------------------------------------------------------------
2014.3.21
张桓
1 toolboxcontourgridpage.cpp 添加semivariogram图的曲线拟合图版
2 增加oracle宏
changed files列表:
assessorframe.cpp
layertreectrl.cpp
importwell.cpp
workmapcanvas.cpp
spatialstochasitcimulator.cpp
anydistributionstratege.cpp
assessmentusermanager.cpp
reportgridtemplate.cpp
reportformatgrid.cpp
anypetrodata.cpp
propertyreferencerecord.cpp
accumulationpropertyset.cpp
accumulationfactor.cpp
accumulationelement.cpp
accumulationassessor.cpp
riskquickscore.cpp
riskfuzzyscore.cpp
accumulationresourcemanager.cpp
npvevaluator.cpp
quickunitcreatedlg.cpp
profilepanel.cpp
reportheadergrid.cpp
factorecaluationtreedlg.cpp
conditionprobability.cpp
topicqueryinputdlg.cpp
assessoroptiondlg.cpp
integratedgrid.cpp
topicquetygrid.cpp
importsdedlg.cpp
commondataimportwinzard.cpp
unittreectrl.cpp
activitytreectrl.cpp
treereadwriter.cpp
registeruserdlg.cpp
Oracle更改对应表
表名外建名：
data_assessment_
d_

info_assessment_element
i_el

ref_assessment_
r_

activity_assessment_
a_

interpretation_
ipt_

probability_
pb_

property_geology_
pgeo_

property_preservation_
ppsv_

property_reservoir_
prsv_

property_source_
ps_

report_grid_header_
rh_




activity_practice_
ap_

fk_activity
fk_a

_practiceid
_pid

_projectid
_jid


字段：
 r_rh_template	
row
mrow   

i_el_evaluation,i_el_evaluation_view ,d_well_variable
resource
mresource

d_seismic_dataset
comment
mcomment

数据库字段更改
memo
CLOB

long
INTEGER

varchar
VARCHAR2

byte
CHAR(1)

image
BLOG

short
INTEGER
----------------------------------------------------------------------------------------------
20140324
李治昊
2014/3/17 C 2014/3/21
1.更新CNpvCostOilDetailDlg
	1)更新OnCellChanged：比率设置时，增加批量修改的功能
2.更新CNpvPriceRecordPage
	1)更新OnCellChanged：增加批量修改油/气价格的功能
3.更新CNpvCostDetailRecordPage
	1)更新InitDisType：不将‘user’分布放开给用户，防止死机；默认分布设定为常数分布‘constant’
4.更新CNpvCostBasicRecordPage
	1)更新InitDisType：不将‘user’分布放开给用户，防止死机；默认分布设定为常数分布‘constant’
5.更新CNpvResourceRecordPage
	1)增加成员变量m_loadResTipStr：定义提示字符串“点击此处读取资源量”
2)更新InitPage、InitGridData、SetResourcePracticeName：将m_loadResTipStr加入到表格中，为用户显示提示
6.更新CNpvEDPScheduleRecordPage
	1)更新ResetRecord：解决读取历史记录后，非生产阶段存在生产井的问题
7.更新CToolboxScatterMatrixProfilePage
	1)更新InitStatAnalysisPanel：饼图页面，增加统计方法选择（按数值、数量统计）
2)更新LoadZoomAndStatProperties、OnStatPropertyChanged、SetPieProperties：响应饼图页面的统计方法控件
----------------------------------------------------------------------------------------------
20140328
李治昊
2014/3/24 C 2014/3/28
1.更新CWorkProbabilityTreeProfileDlg
	1)更新OnOK：将多层含油气概率当做单层含油气概率的类型来存储历史记录
2.更新CNpvTaxRecordPage，增加‘参数管理’按钮，使得税收参数可更改
3.更新CNpvCustomizedDlg，使之适应税收参数的自定义
----------------------------------------------------------------------------------------------
20140404
李治昊
2014/3/31 C 2014/4/4
1.更新CNpvCostOilRecordPage
1)更新DoResetRecords：增加恢复NPV_CustomizedOilRecord的m_isResTax，m_isCustom
2.更新CNpvEDPBasicRecordPage
1)更新IsRecordFilled、GetNPVEDPBasicRecord、InitData：根据中石化类型处理，恢复edpbasic界面，使之表现正常
3.更新CNpvTreeBook
	1)中石化类型，恢复生产剖面定义界面
	2)增加InitBook：增加scenario页面
3)增加void ShowScenarioPage(bool isShown = true)：显示、不显示scenario页面
	4)更新GetSinopecSelection：针对scenario页面显示的情况下，改变页面真实序号
	5)更新OnPageShow：响应scenario页面OnPageShow
	6)更新OnInitParameter：响应scenario页面CanPageChanged
4.增加CNpvScenarioPage
5.更新CNpvPolicyRecordPage，针对scenario控件，重新排版
------------------------------------------------------------------------
wb 2014.4.8
底层
1 修改了油藏规模序列学生分布的小错误
界面
1 增加了投资组合的的界面框架和部分页面的实验性界面
2 增加了对GIS属性列表的开关清空
3 mainfram增加了投资组合测试菜单（选项菜单下）
4 概率面板增加了probit面板
5 通用面板增加了对盒子图的支持
------------------------------------------------------------------------
2014.4.11
张桓
1 probitgraphplotsettingbook.cpp 修复P10<P90时的bug
-------------------------------------------------------------------
wb 2014.4.14
底层
1 修复油藏规模序列的错误判断
2 修复发现过程图版的保存问题
界面
1 发现过程图版保存和报告生成的b错误
2 投组合初步可运行界面完成
3 修复弹出窗口图版属性选项
4 体积法一个小缺陷
5 翻译了投组合部分界面
----------------------------------------------------------------------------------------------
20140414
李治昊
2014/4/7 C 2014/4/11
1.更新CNpvScenarioPage，更新界面
2.更新CWorkProbabilityTreeCanvas
	1)更新OnContextMenu：CNpvScenarioPage中的图版不弹出菜单
	2)更新OnLButtonDblClick：CNpvScenarioPage中的图版双击左键弹出直方图分布窗口
----------------------------------------------------------------------------------------------
20140421
李治昊
2014/4/14 C 2014/4/18
1.更新CNpvProbabilityCanvasDlg
	1)增加void SetStatInfo()：设置统计信息的文字显示
2.更新CNpvPolicyRecordPage
1)更新GetNPVPolicyRecord：获取NPV_PolicyRecord的bool m_isScenarioMode，int m_scenarioItrNum
	2)更新ResetRecord：恢复或重置是否为场景树模式、场景树模拟次数
	3)增加DoShowScenarioPage：封装显示、隐藏scenario页面的功能
3.更新CNpvPracticePage
	1)增加void ResetScenarioRecord(bool isLoaded = true)：重置\读取scenario页面数据
2)更新ResetRecords：调用ResetScenarioRecord；读取\重置数据后，调用2.3)DoShowScenarioPage，显示\隐藏scenario页面
4.更新CNpvScenarioPage
	1)增加void ResetRecord( NPV_ScenarioRecord *record )：根据record重置数据
	2)更新CanPageChanged：离开该页面时，将数据设置入底层
----------------------------------------------------------------------------------------------
20140423
李治昊
2014/4/21 C 2014/4/25
1.更新CNpvModeSelectionDlg
	1)更新CreateComboxSpacer：下拉框增加‘Play’选项
2.增加CNpvCostPlayRecordPage：新建区带成本页面
3.增加CNpvCostPlayDlg：新建区带成本对话框，调用2. CNpvCostPlayRecordPage
4.更新CActivityTreeCtrl
	1)更新DoRunNpv：CNpvModeSelectionDlg返回的选项为2（区带时），弹出3. CNpvCostPlayDlg
5.更新CNpvPracticeDlg
1)更新构造函数CNpvPracticeDlg(wxWindow *parent, CAccumulationElement *element, bool isRisk = true, bool isParentElement = false,short activityType = CAccumulationElement::EAT_Predicator_ Volumetric, bool isPlay = false)：增加参数bool isPlay，表示是否为区带npv模式调用
2)增加成员变量bool m_isPlay：表示是否为区带npv模式调用
3)根据2)m_isPlay：更新界面
----------------------------------------------------------------------------------------------
20140430
李治昊
2014/4/28 C 2014/4/30
1.增加CContourGroupSettingDlg，设置等值线各组样本的属性
2.更新CLayerTreeCtrl
	1)更新ShowMenu：等值线节点，根据情况增加‘分组设置’的菜单
	2)增加OnContourGroupSetting：弹出1. CContourGroupSettingDlg，对样本进行分组设置
3.更新CNpvCostPlayDlg
1)更新构造函数CNpvCostPlayDlg(wxWindow *parent, CAccumulationElement *element, const wxString &title, bool isSeprate = true)：增加参数bool isSeprate，表示是否是区带NPV调用
2)增加成员变量：bool m_isSeprate，接收构造函数中的bool isSeprate
3)更新InitPage：调用CNpvCostPlayRecordPage时，将m_isSeprate传入
4.更新CNpvCostPlayRecordPage
1)更新构造函数CNpvCostPlayRecordPage(wxWindow *parent, wxWindowID id,CNpvTreeBook *book,CAccumulationElement *element, bool isSeprate = true)：增加参数bool isSeprate，表示是否是区带NPV调用
2)增加成员变量：bool m_isSeprate，接收构造函数中的bool isSeprate
3)更新InitPage：!m_isSeprate时，不创建‘OK’按钮
4)更新DoCalculateTotalCost：!m_isSeprate时，隐藏‘价格’列、‘期望收益’行
5)增加OnOk：响应NPV通用模块调用，设置成本
6)增加OnCancel：关闭父对象CNpvCostPlayDlg对话框
5.更新CNpvCostBasicRecordPage
1)增加void SetCost(double val)：封装设置成本的功能，包括写入min、max、mean值，设置分布参数
	2)增加void OnCellRightClick( wxGridEvent& event )：响应对表格右击，弹出‘设置成本’菜单
	3)增加bool IsExpDevRow(int row)：判断当前行是否为勘探、开发的行
4)增加void OnCostSetting( wxCommandEvent &event )：响应‘设置成本’菜单，调用CNpvCostPlayDlg

----------------------------------------------------------------------------------------------
20140512
张桓
1 toolboxcontourwinzard.cpp,toolboxcontourgridpage.cpp 等值线设置Direct缺陷
2 resourcepredicationdetaillistdlg.cpp resourceabundancestochasticsdlg.cpp profilepanel.cpp linearfittingdlg.cpp资源丰度持久化
----------------------------------------------------------------------------------------------
20140514
张桓
1 factorscoringsetupdlg.cpp 回调函数 多种成熟度计算公式
2 pflcandidatepage.cpp pflportfoliores.cpp 投资组合BUG
---------------------------------------------------------------------------------------
wb 20140519
1 增加了选项对话框中自定义菜单操作的页面和相关操作代码（后续需要数据库支持）
2 增加了app和frame中的菜单相关的结构和变量，用于自定义菜单操作
3 修改了basinprofile中对well数据的提交的SQL语句
4 增加了menumanage类用于自定义菜单相关的操作
5 完善了投资组合相关代码，并增加了提交的持久化代码（后续需要数据库支持）
6 取消了导入对象中对导入数据的支持（在导入数据模块有支持），以免引起用户误解
7 增加了rastor数据计算模块的支持，并完成与pc的联合测试
8 完成了投资组合可用性的修改（活动树，直接对象读取，图形结果查询，汉化翻译等）
9 增加了对probit所支持的方法的判断（不支持，则默认为lognormal）等缺陷的修复
--------------------------------------------------------------------------------------
wb 20140525-20140606
底层
1 增加了体积法的用户自定义种子数的保存持久化和默认值
2 accumulationassessor中增加了对历史记录中blob数据的快速读取保存等函数
3 修改了accumulation中获取子对象函数的缺陷
4 usgs增加了生成报告相关的变量和函数
5 油藏规模序列暂时取消了学生分布校验，等到靠谱后在加入。
界面
1 修改了程序的加载方式设计app frame connectdbdlg等文件
2 rastor caculation模块可以直接在activity中调用了，并作了加载时对无效数据的判断
3 基本完成了动态菜单的加载工作和选项中调整工具的开发。目前需要一个数据库中的标准菜单做为基本菜单
  需要业务人员制定
4 完善了井位数据在属性对话框中加载修改等操作。
5 修复了投资组合的计算错误，完成了保存和读取历史记录，修改了对象加载的界面，和效益前缘页面显示方式
6 增加了usgs报告生成
7 完成了usgs直接probit的功能时的地质帕莱托的判定
8 修复了快速导入对象的几个缺陷
9 修复了圈闭查询圈闭阶段的选择错误的问题，增加了圈闭类型选择的过滤条件
10 修改了体积法自定义种子保存方式
----------------------------------------------------------------------------------------------
20140612
彭成
1、增加活动ST_Framework_Trap_Business_Decision,ST_Framework_Trap_Business_Report；
2、增加表i_el_trap_development；
3、表i_el_volume_stat增加字段：
	commitphase int，// 已有预测储量、重新认识后的预测储量、预计升级控制储量
	wellnumber int，
	footage int，
	istest bool，
	geooil float，
	geogas float，
	recoveryrate float，
	recoveryoil float，
	recoverygasfloat，
4、修改i_el_trap_exploration表增加phasetype字段；
5、修改i_el_trap表traptypeid字段变为traptype；
----------------------------------------------------------------------------------------------
20140612
张桓
1 修复重连数据库死机bug
2 模板删除和重命名时基于时间戳的检测机制。
----------------------------------------------------------------------------------------------
20140620
李治昊
2014/6/16 C 2014/6/20
1.更新CNpvEDPScheduleRecordPage
	1)增加void UpdateData(bool isRefreshCanvas = false)：封装计算表格中数据的功能
2.更新CLightGrid
	1)更新OnChar：财务分析生产剖面页面发生粘贴功能后，调用1.1)刷新表格中数据
3.更新CNpvSummaryRecordPage
	1)增加OnCellSelected：预期收益格子选中后，给出公式及其数据提示
	2)更新SetSummaryData：irr<12%,npv<0时，将对应cell标红
4.更新CWorkProbabilityTreeProfileDlg
1)增加void DoCommit(bool isGivenTip = true)：封装提交数据的功能，isGivenTip为true时，弹出提示是否需要提交
2)增加void OnClose(wxCloseEvent& event)：响应关闭消息，调用1)DoCommit，退出前提示是否提交数据
3)更新OnOK：多层含油气性评价时，调用1)DoCommit提交数据
5.更新CNpvResourceRecordPage
	1)更新GetSamples：油气单位不再进行转换
	2)更新FillInAccmulationRecord：油气单位不再进行转换
3)更新构造函数：油气资源类型默认设置为地质多场景
	4)更新ResetRecord：油气资源类型默认设置为地质多场景
6.更新CNpvPracticePage
	1)更新ResetResourceRecord：油气资源类型默认设置为地质多场景
7.更新CToolboxContourWizard
	1)更新LoadContourSetting：差值算法为直接法时，置灰行列数
----------------------------------------------------------------------------------------------
20140630
李治昊
2014/6/23 C 2014/6/27
1.更新CNpvCostBasicRecordPage
1)增加成员变量NPV_WellCostRecord m_expWellCost，NPV_WellCostRecord m_devWellCost：存储评价井、开发井成本
	2)更新GetNPVCostBasicRecord：将m_expWellCost、m_devWellCost存入底层
	3)更新ResetRecord：重置\读取m_expWellCost、m_devWellCost
	4)更新InitPage：隐藏参数管理按钮
2.更新CWorkProbabilityTreeProfileDlg，增加组合概率均值选项
	1)更新InitComboxData：增加组合概率均值选项
	2)更新OnComboboxSelected：响应组合概率均值选项
	3)更新DoCommit：提交组合概率均值\其他选项概率
3.更新CNpvSummaryRecordPage，体现risk value
	1)更新SetSummaryData：填写风险价值risk value
4.更新CNpvWellCostDlg：填写井成本相关数据
----------------------------------------------------------------------------------------------
20140707
张桓
1 添加基于组织机构的用户管理模块
2 添加lockableDialog类
3 添加界面中选择连接后的自动重启连接数据库功能
4 添加切换软件项目类型后的自动重启
----------------------------------------------------------------------------------------------
20140708
pc
修改生成6张标准报表模块
----------------------------------------------------------------------------------------------
20140710
李治昊
2014/7/7 C 2014/7/11
1.更新CAssessorApp
1)更新SetTotalFrameTitle：设置主窗口的m_title为名称+版本号+数据库名称
2.更新CUnitTreeCtrl
	1)更新DoSelChange：解决资评对象切换后，不在重新设置活动路径到窗口标题
3.更新ConnectDatabaseDlg
	1)更新OnOKM：单机版时设置title
4.更新CAssessorFrame
	1)更新OpenDBFile：单机版时设置title
	2)更新OnRecent：打开最近文件后，调用CAssessorApp:: SetTotalFrameTitle重新设置title
----------------------------------------------------------------------------------------------
20140714
pc
1、修改6张标准报表
2、修改资评对象体系创建
3、修改优选模板
----------------------------------------------------------------------------------------------
20140717
李治昊
2014/7/15 C 2014/7/18
1.更新CNpvSpiderDiagramPage：适应海外财税模型
	1)更新InitEvaluationType、SetCanvas、DoSetCanvas
	2)增加成员变量wxString m_shownKey：存储需要显示变化的变量
3)增加成员变量wxComboBox *m_categoryBox，wxComboBox *m_paraBox，DependedParaMap m_map，ParameterVector m_parameters，int m_selection：为海外模式添加显示参数选择的combobox
4)增加InitParameterMap，ResetParameterChoice：重置海外模式的参数选择combobox
2.更新CUnitTreeCtrl
	1)更新DisplayActivityPath：不在重新设置活动路径到窗口标题，活动树窗口内容照常更新
3.更新CActivityTreeCtrl
	1)更新ReSetActivityTitle：不在重新设置活动路径到窗口标题，活动树窗口内容照常更新
4.更新CNpvDecisionTreePage
	1)更新SetParametersForDecisionTree：适应海外财税模型，绘制决策树图版
2)增加成员变量StringMap m_decisionMap，wxComboBox *m_categoryBox，wxComboBox *m_paraBox，	wxComboBox *m_decisionBox，int m_decisionSelection， DependedParaMap m_map，ParameterVector m_parameters，int m_categorySelection：为海外模式添加显示参数选择的combobox
3)增加OnRefresh、OnOK、OnComboboxSelected、InitParameterMap、ResetParameterChoice、SaveLastDecisionFormula、LoadNextDecisionFormula：根据决策参数设置，获取/设置参数公式
4)更新InitPage：海外财税模型，增加决策参数设置的控件
5.更新CNpvPolicyRecordPage、CNpvEDPBasicRecordPage、CNpvEDPScheduleRecordPage、CNpvCostBasicRecordPage、CNpvCostOilRecordPage、CNpvPriceRecordPage、CNpvTaxRecordPage、CNpvProfitPage、CNpvSummaryRecordPage、CNpvDecisionTreePage、CNpvSpiderDiagramPage：
	1)增加void ResetAbroadRecord()：重置\恢复海外模型数据
6.更新CNpvPracticePage
	1)更新ResetRecords：调用5.1)ResetAbroadRecord, 重置\恢复各页面海外模型数据
7.更新CNpvWellCostDlg
	1)更新DoCalculate：设置井投资成本为 井数*平均井深*单井成本
----------------------------------------------------------------------------------------------
20140722
pc	
增加限制：不同版本数据库不能合并在一起
成熟度增加地震评价的公式，以及因子公式
修改报表模块
----------------------------------------------------------------------------------------------
20140723
phuan
1 用户登录时清空自己的锁
2 新建资评对象在i_evaluation表分配给同油田其他对象 
----------------------------------------------------------------------------------------------
20140723
李治昊
2014/7/18 C 2014/7/18
1.更新CLiteFactorEvaluationDlg
1)更新CalculateProbability：项目评价版本时，按公式计算升级概率；否则所有概率相乘得到条件概率
2)更新InitLayout：项目评价版本时，设置标题为升级概率
2014/7/21 C 2014/7/25
1.更新CActivityTreeCtrl
1)更新DoRunNpv：增加参数bool isRapid，isRapid为true时执行区带版经济评价；false时执行经济评价
2)更新DoRunActivity：增加快速经济评价的响应（case CAccumulationAssessor::ST_Economic_Play）
2.更新CNpvModeSelectionDlg
	1)更新CreateComboxSpacer：下拉选择框取消区带（Play），增加评价项目（prospect）
3.更新CNpvCostOilDetailDlg：针对policy页面%数值显示全部乘以100，保存时再全部除以100
4.更新CNpvPolicyRecordPage：评价项目版本，按钮比率设置改名为商品率；点击开的rate设置去除增值税；去除折旧方法选择
5.更新CNpvCostBasicRecordPage：评价项目版本，投资成本仅保留探井、勘探、开发投资
6.更新CNpvCostOilRecordPage：评价项目版本，计算方法改为简单估算，隐藏方法选择，生产成本去除其他费用
7.更新CNpvPriceRecordPage：评价项目版本，油价格改为3000元/吨
8.更新CNpvEDPBasicRecordPage：评价项目版本，增加油气建产规模、减产率设置
9.更新CNpvEDPScheduleRecordPage
	1)增加void ResetOutputRatio：评价项目版本，重置油气年产量占比的行
10.更新CNpvSummaryRecordPage：评价项目版本，重置显示参数
11.更新CNpvPracticePage：评价项目版本，读取记录时，提取remark前缀为"Prospect "
----------------------------------------------------------------------------------------------
20140724
pc
成熟度缺陷；
优选缺陷；
报表缺陷；
测网颜色配置；
资评对象创建体系；
----------------------------------------------------------------------------------------------
20140724
huan
组织机构设置缺陷，viewall正确显示
加锁模块，用户登录时清空自己的锁。
删除数据库失败界面不一致bug
layertree加读写锁。
----------------------------------------------------------------------------------------------
20140724
李治昊
2014/7/24 C 2014/7/24
1.更新CNpvCommitPage：提交结果时，将勘探开发投资写入内存并提交
2.更新CNpvTreeBook：海外模型，将利润表归入结果树中
3.更新CNpvAbroadParaSettingPage：海外模型，基础参数设置区分多值（蓝）\单值（白）的背景颜色

----------------------------------------------------------------------------------------------
20140729
pc
修改脚本增加根据字段值范围设置图元颜色；

---------------------------------------------------------------------------------------------
wb 2014.0729
底层
1 增加了ACCumulationssoress专门读取圈闭类型的函数
2 增加了record.hsurvey新字段及对应读写函数
界面
1 修改了评价项目菜单，并增加了判断商业油气流菜单项
2 自动判断商业油气流评价阶段，并写入数据库
3 增加了圈闭 工区和评价单元属性的check表
4 增加了体积法自动判断是否符合check表标准
5 去除评价项目中圈闭信息表，并自动设置保存圈闭类型
----------------------------------------------------------------------------------------------
20140730
pc
合并升级数据库时，自动修复资源类型空值字段；
las格式可以显示绑定的地震数据；
----------------------------------------------------------------------------------------------
wb 2014.0801
底层
1 修复了usgs提交的错误代码
2 增加了resourcemanage中油井分布的定义

界面 以修复老旧缺陷为主
1 frame 增加了地图操作函数在地图界面是否存在的判断
2 默认界面函数，增加了对3个主要操作窗口的默认设置
3 写改了属性页中商业油气流标准的内容
4 增加了概率和probit面板的却小按钮
5 概率面板刷新问题
6 修复了usgs和发现过程和油藏规模序列报表输出的书写错误
7 usgs支持probit后分布类型和参数直接写回
--------------------------------------------------------------------------------------------------
20140804
李治昊
2014/7/28 C 2014/8/4
1.更新CNpvEDPBasicRecordPage：将油气建产规模、减产率设置放入grid设置，隐藏文本框
2.更新CNpvScenarioPage：针对海外财税模型，做出针对修改
3.更新CNpvPolicyRecordPage
1)增加void GetAbroadParametersFromStr( wxString &paraStr, ParameterVector &parameters )：根据paraStr获取相应的parameters
4.更新CFormulaParserDlg，针对Depended Key设置更改界面
5.更新CNpvAbroadParaSettingPage，树形结构时，右键进行Depended Key设置
6.更新CNpvTreeBook
1)更新ShowScenarioPage、LoadPagesData、GetSinopecSelection：针对海外财税模型，做出针对修改
7.更新CNpvPracticePage
	1)更新InsertRows：区分海外财税模型的历史记录
	2)更新ResetRecords：读取\新建海外财税模型的记录
8.更新CNpvCostBasicRecordPage、CNpvCostOilRecordPage、CNpvPriceRecordPage、CNpvProfitPage、CNpvSummaryRecordPage、CNpvTaxRecordPage、CNpvEDPScheduleRecordPage、CNpvEDPBasicRecordPage：针对海外财税模型的持久化，更新各个文件中的ResetAbroadRecord、ResetRecord、CanPageChanged、GetNPVxxxRecord、InitXXXParameter
----------------------------------------------------------------------------------------------
20140808
pc
成熟度共性因子相关缺陷；
优选模块缺陷；
SDE优化；
GDE补充部分实现；
--------------------------------------------------------------------------------------------------
20140808
李治昊
2014/8/4 C 2014/8/8
每年的井成本可设置
1.更新CNpvCostBasicRecordPage
1)增加成员变量std::vector<NPV_WellCostRecord> m_expWellCosts，std::vector<NPV_WellCostRecord> m_devWellCosts，分别存储每年的井数、井成本、井深等
	2)更新GetNPVCostBasicRecord：将1) m_expWellCosts， m_devWellCosts存入底层
	3)更新ResetRecord：重置\读取m_expWellCosts， m_devWellCosts
4)更新SetCostYearly：当总年限与m_expWellCosts， m_devWellCosts的size不匹配时，重新设置其大小为总年限
5)增加void DoResetWellRecords(std::vector<NPV_WellCostRecord> &records, wxString &parameters)：根据parameters，恢复井数据records
6)更新ResetRecord：调用5) DoResetWellRecords，恢复井数据m_devWellCosts, m_expWellCosts
2.更新CNpvCostOilDetailDlg
1)更新OnCellDClick：双击勘探、开发投资的行时，弹出当前列对应的一组m_expWellCosts或 m_devWellCosts
2)更新Update：设置双击的cell的值
3.更新CNpvWellCostDlg
	1)更新构造函数：增加int relativeYear，记录相对年份
2)更新DoCalculate：设置relativeYear对应的一组m_expWellCosts或 m_devWellCosts

4.更新CNpvCommitPage
	1)更新DoCommit：改变内存npv数据后，调用CommitElementRecord提交到数据库

5.更新CFormulaParserDlg
1)更新构造函数：CFormulaParserDlg(wxWindow *parent, const std::string &formula = "", bool isProspectMode = false)：增加bool isProspectMode，表示是否为评价项目模式
	
2)增加void ResetYearChoice(int start, int duration)：设置评价项目模式的公式序号选择
	3)增加成员变量bool m_isProspectMode，	std::vector<string> m_formulas：表示是否为评价项目模式，评价项目模式的公式数组
	4)增加void SetFormulas(const std::vector<string> &formulas)：设置3) m_formulas
	5)增加const std::vector<string> &GetFormulas()：返回3) m_formulas
	
	6)更新OnApply、InitVariableBtnsSizer、OnVariable、OnCombobox：针对评价项目作出修改
6.更新CNpvEDPBasicRecordPage
1)增加成员变量： std::vector<string> m_oilFormulas，std::vector<string> m_gasFormulas，分别存储一组油、气公式
2)更新void DoResetFormulaRecords(std::vector<string> & formulas, wxString &parameters)：根据	parameters，获取一组公式
3)增加void SetFormulaYearly(bool isShowDlg = false, bool isOil = true)：当年限与公式数组不同时，重新设置公式数组，防止死机；isShowDlg为true时，弹出公式窗口，设置每年公式
4)更新OnCellDClick：双击油、气建产规模行时，调用3) SetFormulaYearly弹出公式窗口，设置每年公式
5)更新GetNPVEDPBasicRecord：调用3) SetFormulaYearly，当年限与公式数组不同时，重新设置公式数组，防止死机；将1) m_oilFormulas，m_gasFormulas存入底层
7.更新CNpvEDPScheduleRecordPage
	1)更新IsEDPBasicRecordSame：额外判断m_oilFormulas、m_gasFormulas是否相同
	2)更新SetEDPBasicRecord：额外设置m_oilFormulas、m_gasFormulas
8.更新CNpvTreeBook：给其加锁，将继承于wxDialog改为CLockableDialog
9.更新CNpvCostPlayDlg：给其加锁，将继承于wxDialog改为CLockableDialog
10.更新CRovDlg：给其加锁，将继承于wxDialog改为CLockableDialog
11.更新CConditionProbabilityDlg：给其加锁，将继承于wxDialog改为CLockableDialog
12.更新CRiskRealityCheckDlg：给其加锁，将继承于wxDialog改为CLockableDialog
13.更新CTrapEvaluationDlg：给其加锁，将继承于wxDialog改为CLockableDialog
14.更新CWorkProbabilityTreeProfileDlg：给其加锁，将继承于wxDialog改为CLockableDialog
15.更新CWorkProbabilityTreeCanvas
	1)更新SolvingTree：给CWorkProbabilityTreeProfileDlg加锁
16.更新CActivityTreeCtrl
	1)更新DoRunNpv：给CNpvTreeBook、CNpvCostPlayDlg加锁
	2)更新DoRunRov：给CRovDlg加锁
	3)更新DoRunConditionAnalysis：给CConditionProbabilityDlg加锁
	4)更新DoRunConditionProbabilityTree：给CRiskRealityCheckDlg、CTrapEvaluationDlg加锁
	
	--------------------------------------------------------------------------------------------------
20140812
张桓
1 USGS更改初始地质pareto参数
2修改probit估计错误后的处理动作。
	--------------------------------------------------------------------------------------------------
20140819
张桓
单机数据库删除后，软件默认路径打开错误的修复
--------------------------------------------------------------------------------------------------
20140821
pc
a_risk增加边际概率和概率树id两个字段，提交成熟度时，边际概率会提交到a_risk表中记录下来；
element数据导出，根据不同软件版本，导出不同的excel表；
--------------------------------------------------------------------------------------------------
20140822
张桓
1 权限设置改为点击用户右键弹出
2 新增半变差图模块
3 修复分布模型标题混乱问题
--------------------------------------------------------------------------------------------------
20140822
李治昊
2014/8/18 C 2014/8/22
1.更新CNpvModeSelectionDlg
1)更新CreateComboxSpacer：将类型改名为 通用（Geox）、中石化（圈闭）、中石化（评价项目）、海外（矿税）
2.更新CNpvPracticePage
1)更新InsertRows：读取历史记录时，将原先remark中的“中石化”改为“圈闭”，用于区分中石化的圈闭版和评价项目版
3.更新CWorkProbabilityTreeCanvas
1)更新OnContextMenu：弹出设置分支数量的菜单；分支数量为2时弹出等概率节点、Bernoulli概率节点
2)更新OnLButtonDblClick：更新分支修改功能，区分分支数量为2或2以上
3)增加void OnBranchCountSetting(wxCommandEvent& WXUNUSED(event))：设置分支数量
4.更新CWorkProbabilityTreeProfileDlg
1)增加成员变量CLightGrid *m_valueGrid，bool m_isCreated，CAnyProbabilityTree::TreeNode *m_node，CAnyProbabilityTree::TreeBranch *m_branch，std::vector<double> m_vals（记录分支一组数值）
	2)增加InitValueGrid：创建记录分支的grid
	3)更新CreatePropertySpacer：根据分支数量不同，调用2)InitValueGrid建立grid
	4)更新OnOK：概率树分支数量大于2时，将表格内容记录到m_vals中
5.更新CWorkDecisionTreeProfileDlg
	1)更新构造函数：增加CAnyDecisionTree *hook = 0, bool isCreated = true，便于对决策树操作
	2)增加成员变量CLightGrid *m_valueGrid，bool m_isCreated，CAnyDecisionTree *m_hook，	CAnyDecisionTree::TreeNode *m_node，	CAnyDecisionTree::TreeBranch *m_branch，	wxArrayString m_choices：机会节点可建立多分枝
	3)增加void InitValueGrid()：创建grid，增/改概率分支内容
	4)增加void OnCellValueChanged(wxGridEvent &event)：判断多分枝概率相加是否大于1
	5)更新OnOK：区分机会节点多分枝的情况
6)更新CreateSpacers：机会节点多分枝时，创建表格
6.更新CWorkDecisionTreeCanvas
1)更新OnContextMenu：弹出设置分支数量的菜单
2)更新OnLButtonDblClick：更新分支修改功能，区分机会节点分支数量为2或2以上
3)增加void OnBranchCountSetting(wxCommandEvent& WXUNUSED(event))：设置分支数量
	4)更新OnCreateNode：区分机会节点创建多分支的情况（2或2以上）
--------------------------------------------------------------------------------------------------
20140830
pc
导入地震数据增加转为GDE选项
--------------------------------------------------------------------------------------------------
20140829
张桓
1 unittreectrl.cpp 解决并发一个用户删除资评对象，另一个用户修改资评对象的问题
2 activitytreectrl factorscoringsetupdlg templateupdatedlg.cpp 地震版本模板分风险和评价区分显示
3 pflsolutionmontecarlo.cpp 放开var cvar模型
--------------------------------------------------------------------------------------------------
20140829
李治昊
2014/8/25 C 2014/8/29
1.更新CWorkProbabilityTreeProfileDlg
	1)更新DoCommit：多层含油气性分析时，提交tree id
2.更新CNpvPolicyRecordPage
1)增加地图typedef std::map<wxString, CNpvAbroadParaSettingPage *> AbroadPageMap：记录名称对应的页面
2)增加成员变量wxNotebook *m_book，AbroadPageMap m_abroadPageMap：增加book页面，用tab页区分不同参数
3)更新InitPage：增加book页面
4)更新ResetAbroadRecord：重置book页面的tab，删除所有tab页，重新addpage
5)更新CanPageChanged：将各tab页面的parameters汇总，传入底层

6)增加void OnAddTab(wxCommandEvent &event)、void OnUpdateTab(wxCommandEvent &event)、void OnDeleteTab(wxCommandEvent &event)：响应增加、更新、删除页面
	7)增加void AddTab(bool isAdded  = true)：增加、更新页面
	8)增加void DoAddTab(wxString &name, ParameterVector &parameters)：封装增加页面的功能
9)更新GetAbroadParametersFromStr：读取m_subCategory, m_isSlide，m_valueMap

3.更新CNpvAbroadParaSettingPage
	1)增加成员变量wxString m_subCategory：记录子分类
	2)更新UpdateRecord：将子分类m_subCategory写入底层
	3)更新UpdateParameterRecord：将子分类m_subCategory写入底层
	4)更新DoInitGridData、UpdateRecord、OnCellDClick：响应ValueMap（x对应多个y）的变更
4.更新CNpvAbroadValueEditDlg
	1)增加InitPage：add增加、删除列的按钮，add滑动的勾选框
	2)增加IsSlide：返回该参数是否为滑动取值
	3)增加OnAppendCol、OnDeleteCol：网格中，增加、删除列
	4)更新InitGridData、DoSave、OnClose：响应ValueMap（x对应多个y）的变更
5.更新CFormulaParserDlg
	1)更新InitFunctionBtnsSizer：去除“lookupx”、“lookupy”按钮，增加“lookup by order”按钮
2)更新OnFunction：点击“lookup by order”按钮时，输出关键字为LOOKUPO	
3)更新OnOK：基础参数为多值时，产生的loopup参数内容默认多加一个“<2>”，其中填入的数值2表示取第2列的值，用户可手动修改之
--------------------------------------------------------------------------------------------------
20140905
张桓
1 layertree 增加记录粒度并发锁
2 usgsinputdlg 修复结果为0缺陷
--------------------------------------------------------------------------------------------------
20140905
李治昊
2014/9/1 C 2014/9/5
1.更新CNpvSpiderDiagramPage
	1)更新InitPage：canvas的y轴放在x=0处
2)更新DoSetCanvas：设置蜘蛛图y轴名称为“净现值”
2.更新CNpvTreeBook
1)更新InitBook：评价项目时，edpbasic页面显示为“开发基础参数”，edp schedule页面显示为“开发生产剖面”；圈闭版分别显示为“勘探基础参数”，edp schedule页面显示为“勘探生产剖面”
3.更新CNpvEDPBasicRecordPage
	1)更新InitData：评价项目版本，禁用勘探阶段、井数设置
4.更新CNpvSummaryRecordPage
	1)更新SetSummaryData：评价项目版本，更新参数显示位置，商业成功率等不显示
5.增加CNpvProspectDlg，评价项目对象，显示各评价单元净现值，提交其总和作为评价项目净现值
6.更新CWorkProbabilityTreeProfileDlg，增加“储量加权法”得到评价项目概率
	1)更新InitComboxData：增加“储量加权法”选项
	2)更新OnComboboxSelected、DoCommit：响应针对“储量加权法”的变化
7.更新CActivityTreeCtrl
	1)更新DoRunConditionProbabilityTree：评价项目版本，非评价项目对象不激活多层含油气计算
8.更新CLightGrid
	1)增加void Init()：创建grid，设置风格，设置表格线的颜色
9.增加CNpvSecnarioRestrictiontDlg：对情景树的条件进行筛选
10.更新CNpvScenarioPage
	1)增加OnRestriction：调用9. CNpvSecnarioRestrictiontDlg对情景树的条件进行筛选
11.增加CNpvAbroadSolutionPage，封装编辑solution的页面
12.更新CNpvResourceRecordPage
1)更新InitPage：海外矿税模型时，增加tab页，调用CNpvAbroadSolutionPage，分别创建价格、投资、产量的页面
2)更新OnPageShow：海外矿税模型时，tab页面刷新价格、投资、产量的方案内容
3)更新CanPageChanged：海外矿税模型，离开页面时，将tab内容保存入底层
4)增加void OnBookPageChanged(wxBookCtrlEvent& event)：响应tab页的切换，保存上一个
13.更新CNpvPriceRecordPage
1)更新voidGetAbroadInuputSolutionsFromStr( wxString &paraStr, ParameterVector &kinds, CAnyGenericNPVPriceStrategy::PriceSolution &solutions, SolutionRemarkMap &map, wxString &soluitionStr)：增加参数SolutionRemarkMap &map, wxString &soluitionStr，分别得到solution对应的remark、当前solution的名称
2)更新InitPage：隐去“solution”按钮
14.更新CNpvCostPlayRecordPage，防止快速经济评价读取油藏规模序列死机
1)增加void DoInitGridData(CLightGrid *grid, long practiceId, bool isResetRes, CAccumulationAssessor *predicator)：封装设置表格数据功能，读取记录时区分无偏/油藏规模序列/gsc非参数法
2)更新InitGridData：区分无偏/油藏规模序列/gsc非参数法，调用1) DoInitGridData读取数据
15.更新CNpvPracticeDlg，处理下拉框id与活动id的转化，防止读取历史记录类型出错
16.更新CNpvCostBasicRecordPage
1)更新InitPage：隐去“solution”按钮
17.更新CNpvCostOilRecordPage
1)更新InitPage：隐去“solution”按钮
18.增加CNpvAbroadSolutionRemarkDlg：增、删、改solution（包括remark）
--------------------------------------------------------------------------------------------------
20140919
张桓
1 增加地震部署版本可行性和风险两套模板对应的两套控制逻辑
2 并发相关问题，模块只读、正在锁的用户名提示等
--------------------------------------------------------------------------------------------------
20140919
李治昊
2014/9/15 C 2014/9/19
1.增加CNpvSpiderRestrictiontDlg，选择参与敏感性分析的参数
2.更新CNpvSpiderDiagramPage
	1)更新InitPage：海外财税模型，增加‘条件选择’按钮，选择参与敏感性分析的参数
2)增加void OnEvaTypeDetail(wxCommandEvent& event)：响应‘条件选择’按钮，调用1. CNpvSpiderRestrictiontDlg，选择参与敏感性分析的参数
3)更新DoSetCanvas：设置Y轴名称为‘净现值’（m_yTitle）
--------------------------------------------------------------------------------------------------
20141013
张桓
1 同一用户重新登录时提示该用户已登录的问题 
2 用户名密码不匹配时给出精确提示
--------------------------------------------------------------------------------------------------
20141020
李治昊
2014/9/22 C 2014/9/26
1.更新CNpvAbroadParaSettingPage
	1)更新DoAppendRows、DoInitGridData、OnCellDClick：参数编辑表格设置颜色
2.更新CNpvResourceRecordPage
1)更新OnCellLeftDClick、OnCellChanged：海外模式不再响应，防止错误操作（如弹出资源历史记录选择窗口）
3.更新CNpvAbroadSolutionPage
	1)更新InitGridData：方案参数的表格设置颜色
4.更新CNpvPriceRecordPage
	1)更新InitAbroadGridData：参数编辑表格设置颜色
5.更新CNpvTaxRecordPage
	1)更新DoAppendRows：参数编辑表格设置颜色
6.更新CNpvAbroadSolutionRemarkDlg
	1)更新OnDelete：提示用户是否删除
7.更新CNpvAbroadParaSettingPage
	1)更新OnDeleteRow：提示用户是否删除
	2)更新OnRemoveParameterRecord：提示用户是否删除
8.增加CNpvScatterCanvasDlg：窗口显示scatter图版
9.更新CNpvSummaryRecordPage
1)增加static void DoPopupDoubleYAxisDlg(wxWindow *parent, const wxString &title, const wxGrid *grid, int yearRow, int startCol, int endCol)：调用8.CNpvScatterCanvasDlg，封装弹出双坐标窗口的功能
2)更新OnDoubleYAxis：调用1)DoPopupDoubleYAxisDlg弹出含有双坐标图版的窗口
10.更新CNpvModeSelectionDlg
	1)更新CreateComboxSpacer：财税模型下拉框增加两种类型，产量分成合同、服务合同
11.更新CNpvTreeBook
1)增加成员变量bool m_isAbroadPSC，bool m_isAbroadSC：表示是否为产量分成/服务合同
	2)更新构造函数：处理产量分成/服务合同，使得m_isAbroadPSC、m_isAbroadSC赋值
	3)更新InitBook：增加成本回收、产量分成页面
2014/10/8 C 2014/10/11
1.更新CNpvPolicyRecordPage
	1)更新ResetAbroadRecord：根据海外财税类型初始化不同起始日期
2.更新CNpvTreeBook
1)更新构造函数：根据不同海外财税类型，初始化不同日期ValuationDate、不同AboardGenericNPV对象
2)更新InitBook：海外模式，交换产量、投资页面位置，使得投资页面可以调用产量页面的参数
3)更新GetSinopecSelection：海外模式，交换产量、投资页面的id
4)增加成员变量：wxString m_pscStr、wxString m_costRcStr，分别存储产量分成、成本回收parameters的字符串（用于保存）
3.更新CNpvPriceRecordPage
	1)更新InitAbroadGridData：参数为solutionValue时，该值为-1时，加和时算作0
4.更新CNpvResourceRecordPage
1)更新InitPage、CanPageChanged、SaveLastPage、LoadNewPage、LoadSolutions：初始化、存储、读取成本参数的方案
5.更新CNpvTaxRecordPage
	1)更新GetNPVTaxRecord：海外模式，设置成本参数的字符串到底层record->m_abroadSolutionStr
	2)更新ResetAbroadRecord：海外模式，根据底层record->m_abroadSolutionStr得到存储的成本方案
6.更新NPV_SummaryRecord
	1)更新GetNPVSummaryRecord：海外模式，设置2.4) m_pscStr、m_costRcStr到底层
7.更新CNpvPracticePage
1)增加void ResetCostRecoverRecord(bool isLoaded = true, bool isPsc = false)：读取/重置（isLoaded）成本回收/产量分成（isPsc）页面记录
2)更新ResetRecords：海外模式，调用ResetCostRecoverRecord读取/重置成本回收/产量分成页面记录
8.更新CNpvSummaryRecordPage//SIPC cash flow
1)更新OnParameterManagement：产量分成/服务合同模式，设置依赖参数（增加产量分成、成本回收参数）
9.更新CNpvProfitPage//cash flow
1)更新OnParameterManagement：产量分成/服务合同模式，设置依赖参数（增加产量分成、成本回收参数）
10.更新CNpvEDPScheduleRecordPage //profit
1)更新OnParameterManagement：产量分成/服务合同模式，设置依赖参数（增加产量分成、成本回收参数）
11.更新CNpvResourceRecordPage
	1)更新InitGrid(int productionType, CLightGrid *grid)：列头Mean改为Swanson
--------------------------------------------------------------------------------------------------
20141020
张桓
1 修复最近文件读入bug
2 添加新表dbnamemeta 用于存储数据库元信息
3 菜单进入权限管理的bug
--------------------------------------------------------------------------------------------------
20141023
彭成
优选和报表模块中的资源丰度和探井成功率，原来取的是i_el_check的maxresabundance和maxsuccessrate，
现在变更为i_el_seismic_deploy的caliabundance和calisuccess
增加地震成果
--------------------------------------------------------------------------------------------------
20141027
李治昊
2014/10/20 C 2014/10/24
1.更新CNpvAbroadSolutionPage
	1)更新InitGridData：根据m_kinds的顺序列出方案，防止map将参数关系打乱

2.更新CNpvTreeBook
1)更新InitBook：交换产量分成/成本回收/税收的位置，使得税收页面在产量分成/成本回收页面之后
	2)更新GetSinopecSelection：根据1)页面的位置，交换产量分成/成本回收/税收页面的id
3.更新CNpvCostBasicRecordPage
	1)更新OnAbroadParameterManagement：增加产量参数，便于投资页面引用
4.更新CFormulaParserDlg
1)更新海外模式构造函数：增加bool isSummaryMode= false，为true时，显示净现值、内部收益率按钮；否则不显示
2)增加bool m_isSummaryMode：存储构造函数中的isSummaryMode
3)更新InitVariableBtnsSizer：增加起止年份公式选择框（当前年份、起始年份、结束年份）；m_isSummaryMode为true时，显示净现值、内部收益率按钮；增加方案选择控件、方案按钮（在OnOK中响应）；增加年份偏移选择框（offset）
	4)更新OnOK：更新年份、净现值、内部收益率、方案按钮输出；增加offset的输出
	5)增加成员变量AnyPortfolio::ParameterVector m_kinds：记录方案名称
6)增加void SetSolutionKinds(const AnyPortfolio::ParameterVector &kinds)：设置m_kinds，如果存在方案则显示
7)更新InitFunctionBtnsSizer：增加sumif、countif按钮，并绑定响应关系到OnFunction
8)更新OnCheck：响应offset的选择动作
5.更新CNpvTaxRecordPage
1)更新OnParameterManagement：增加设置cost的成本方案dlg->SetSolutionKinds(m_abroadCost-> GetSolutionKinds())
6.更新CNpvAbroadSolutionPage：新增方案包含分类NPVSOLUTION(Solution: solutionCategory:name)
	1)更新构造函数：增加const std::string &solutionCategory，设置方案的分类
	2)增加成员变量std::string m_solutionCategory：记录1)构造函数中的参数solutionCategory
	3)更新OnParameterManagement：将m_solutionCategory传入CNpvAbroadParaSettingDlg中
7.更新CNpvResourceRecordPage
	1)海外财税模式，新建CNpvAbroadSolutionPage对象时，增加传入方案分类
8.更新CNpvEDPBasicRecordPage
	1)更新OnParameterManagement，海外财税模式，tax的依赖参数包含成本回收/产量分成
9.更新CNpvAbroadSolutionPage
	1)更新OnCellValueChanged：方案值为负时，仅可设为-1（该值需要计算，而不是直接输入）
10.更新CNpvDecisionTreePage
	1)更新ResetAbroadRecord：增加显示的成本回收/产量分成模式的默认参数
	2)更新InitParameterMap：增加成本回收/产量分成页面的参数
11.更新CNpvSpiderDiagramPage
	1)更新ResetAbroadRecord：增加显示的成本回收/产量分成模式的默认参数
--------------------------------------------------------------------------------------------------
20141030
张桓
1 assessorframe.cpp 初始化时设置可行性分析默认模板
2 connectdatabasedgl.cpp 用户重复登录检查
3 unittree.cpp 新建工区与可编辑按钮衔接
4 probitgraphplot.cpp 图版绘制oriparameter重置。
--------------------------------------------------------------------------------------------------
20141030
彭成
跟进地震属性配置
--------------------------------------------------------------------------------------------------
20141031
张桓
1 lockabledialog.cpp lockgeneral.cpp 记录锁通用逻辑
2 unittree.cpp 记录锁对象树逻辑
3 activitytreectrl.cpp sampleanalysiswizard.cpp prospectintegratedanalysiswinzard.cpp volumetricwizard.cpp 记录锁资评活动读锁逻辑
4 connectionexceptionfunctor.cpp 数据库连接失败退出程序
5 assessorframe.cpp 删除数据库死机问题
--------------------------------------------------------------------------------------------------
20141031
李治昊
1.更新CNpvSpiderDiagramPage
	1)更新OnEvaTypeDetail：设置/读取成本参数的方案参数
2.更新CNpvSpiderRestrictiontDlg
	1)更新InitGridData：设置成本参数行的颜色
--------------------------------------------------------------------------------------------------
20141106
李治昊
2014/11/2 C 2014/11/6
1.更新CWorkDecisionTreeCanvas
	1)更新OnContextMenu：不再显示“分支数量”菜单，设置节点属性时设置“分支数量”
	2)更新OnCreateNode、OnLButtonDblClick：配合机会节点的多分支设置
2.更新CWorkDecisionTreeProfileDlg
	1)更新CreatePropertySpacer、CreateAnotherPropertySpacer：增加分支数量设置控件
	2)更新InitValueGrid：机会节点多分支时，响应分支数量设置
	3)更新OnCellValueChanged：响应表格中节点数量、节点类型的变化
4)更新OnComboboxSelected、OnAnotherComboboxSelected：节点类型变化为机会点时，分支数量可设置；否则置灰分支数量控件
	5)更新GetDescAndValue、GetAnotherDescAndValue：增加参数int &branchNum，获取分支数量
	6)更新FillRecord：读取分支数量
--------------------------------------------------------------------------------------------------
20141113
张桓
1 toolboxcontourgridpage，semivariogram，toolboxcontourwinzard.cpp 协克里金界面开发
--------------------------------------------------------------------------------------------------
20141115
李治昊
2014/11/13 C 2014/11/15
1.更新CWorkProbabilityTreeCanvas
	1)更新DoCreateProbabilityLevel、OnLButtonDblClick：配合多分支设置
2.更新CWorkProbabilityTreeProfileDlg
	1)更新OnCellValueChanged：两个分支时，更新表格中另一数值为 1 - 当前数值
	2)更新InitLayout、CreatePropertySpacer、InitValueGrid、OnOK配合多分支表格设置
	3)更新OnContextMenu：不再弹出分支数量设置窗口，改为创建自定义概率节点时弹出
	4)更新DoCreateProbabilityLevel：独立概率节点时，先弹出分支数量设置，然后进行概率设置
3.更新CFormulaParserDlg
	1)更新InitVariableBtnsSizer：字符串加_(“”)，使得变量可以显示为中文
	2)更新InitFunctionBtnsSizer：增加and、or按钮，支持AND\OR函数
	2)更新OnFunction：响应and、or按钮，输出AND\OR
4.更新CNpvProspectDlg
	1)更新InitGridData：合并升级概率单元格时，按评价单元数量个行合并单元格
--------------------------------------------------------------------------------------------------
20141113
张桓
1 lockgeneral.cpp mygridview quickstandardupdate 等文件的GUI规范
2 assossorframe.cpp 最近文件禁止打开其他用户的历史记录
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------
20141121
李治昊
2014/11/17 C 2014/11/21
1.更新CWorkProbabilityTreeCanvas
	1)更新OnContextMenu：增加‘逆概率’菜单
2)增加OnReverseProbability：切换逆概率/概率模式，逆概率模式弹出窗口CWorkProbabilityTreeProfileDlg选择起始层
	3)更新SolvingTree：调用底层ReverseSolvingTree（不再调用SolvingTree）
2.更新CWorkProbabilityTreeProfileDlg
1)增加构造函数CWorkProbabilityTreeProfileDlg(wxWindow *parent,CAnyProbabilityTree *hook)：为‘逆概率’模式的构造函数
	2)增加InitPage：逆概率模式初始化
3)增加void OnReverseOK(wxCommandEvent& event) ：逆概率模式响应按钮ok，设置底层的起始层m_hook->m_startLevel = startLevel，m_hook->m_endLevel = endLevel
3.更新CWorkDecisionTreeCanvas
	1)更新OnContextMenu：增加‘逆概率’菜单
	2)增加OnReverseProbability：切换机会节点的逆概率/概率模式
-
--------------------------------------------------------------------------------------------------
20141124
张桓
实验code未来需要移除
1 pflcandidatepage.cpp //huan's add test constraint 为测试添加圈闭属性
2 pflportfoliores.cpp ////huan's add 为测试设置限制参数
3 pflsolutiongenetic.cpp  m_spinit = new wxSpinCtrl(this, ID_SPIN_iteration,...,50, 90000);
修改最小迭代次数到50，用于测试。
--------------------------------------------------------------------------------------------------
20141125
张桓
1 activitytree,prospectintegratewizard 父子锁bug修复
2 workprobabilitytreecanvas 添加权限控制
3 toolboxccontour 修改协克里金参数传递，置灰初始等值线绘制时的kriging设置
--------------------------------------------------------------------------------------------------
20141126
张桓
1 toolboxcontourgridpage.cpp协克里金参数同步
2 activitytreectrl.cpp 快速经济评价等并发
3 managedatabasedlg.cpp 死机bug
--------------------------------------------------------------------------------------------------
20141201
李治昊
2014/11/24 C 2014/11/28
1.更新CToolboxContourSourcePage
	1)更新InitPage：去除DBMS类型的文件选择；增加图层名称输入框
	2)更新CheckEnableChanging：图层名称输入框内容为空时提示
	3)更新OpenFile：打开文件后，默认名称为文件路径
2.更新CToolboxContourWizard
	1)更新OnWizardPageEnd：strShpFileName设置为路径名称、strItemName设置为1.中图层名称
	2)增加成员变量CAnyContour::ContourSetting m_setting：hook未创建时，记录等值线设置
3.更新ContourSourcePage
1)更新InitPage：去除DBMS类型的文件选择；增加图层名称输入框
	2)更新CheckEnableChanging：图层名称输入框内容为空时提示
	3)更新OpenFile：打开文件后，默认名称为文件路径
4.更新CToolboxContourGridPage
	1)增加void LoadGroupSetting(bool isLoaded = true)：设置是否按组区分样本数据
	2)增加void ResetColumnValueChoices：读取不同列的值
	3)增加void LoadColumnProperties ：读取列值对应的样本属性
	4)增加void SaveColumnProperties：存储列值对应的样本属性
5)增加double GetSampleAttrValue( CAnyContour::SampleAttrMap &map, double selection)：获取样本属性
6)增加void SetSampleAttrValue( CAnyContour::SampleAttrMap &map, double selection, double val)：设置样本属性
7)增加void GetContourSetting(CAnyContour::ContourSetting &setting, bool isGet = true)：设置/获取界面层的ContourSetting
8)增加static bool CompareValue(double x1, double x2)：返回x1<x2
9)增加void OnPropertyChanging(wxPropertyGridEvent &event)：property值正在变化时，调用3) LoadColumnProperties存储group设置

4.更新ContourGridPage
	1)更新DoImportContour：strShpFileName设置为路径名称、strItemName设置为3.中图层名称

5.更新CPflCandidatePage
1)更新InitCandidateData：增加限制条件（测试代码）m_matureType、m_depthType、m_trapType、m_resourceType 、m_fieldType 
6.增加CPflSpecialGoalSettingPage，设置特殊约束页面
7.增加CPflSpecialGoalSettingDlg，特殊约束内容编辑页面
8.更新CPflProtfolioResPage
	1)更新DoMonCanculation：将6中的特殊条件设置入底层
	2)更新DoGenCanculation：将6中的特殊条件设置入底层
--------------------------------------------------------------------------------------------------
20150104
李治昊
2014/12/29 C 2014/1/3
1.更新CNpvCostOilRecordPage
	1)更新SetCostYearly：圈闭、评价项目模式中的参数显示平均值
	2)更新InitParameters：圈闭、评价项目模式中的参数显示平均值
2.更新ConnectDatabaseDlg
	1)增加void InitLayout()：封装初始化界面的功能，在构造函数中调用
	2)更新InitLayout：增加‘New’按钮，用于新建数据库
	3)增加成员变量wxButton* m_newBtn：作为2) ‘New’按钮
	4)增加void OnNew(wxCommandEvent& event)：响应新建文件，区分access\sql server
	5)更新OnDBTYPE：类型为sql server，账户为管理员时，设置按钮‘New’可用；否则不可用
	6)更新DoChangeDatabaseType：类型为access，设置按钮‘New’可用；其他情况不可用
3.更新CWorkListCtrl
1)更新SetActive(const string &which, CAccumulationElement *curElement)：which为空时不执行代码，防止调用SetActive后库表信息不显示的问题
4.更新CLightGrid
	1)增加成员变量MySimplePopup *m_tips：显示tips的控件
	2)增加void PopupTips(const wxPoint &pt, const wxString &tips = wxEmptyString)：在位置pt显示tips
	3)增加void OnSelectCell( wxGridEvent& event )：调用2)显示tips
5.更新CNpvAbroadParaSettingPage
	1)更新InitPage：隐藏‘depended’的check控件
2)更新DoInitGridData：隐藏‘depended’列
	3)更新InitSolutionGridData：隐藏‘depended’列
	4)更新OnCellSelected：调用CLightGrid:: OnSelectCell显示tip
6.更新CNpvAbroadParaNameDlg
	1)更新InitPage：隐藏‘depended’的check控件
7.更新CNpvAbroadSolutionPage、CNpvPriceRecordPage、CNpvCostBasicRecordPage、CNpvCostOilRecordPage、CNpvEDPBasicRecordPage、CNpvTaxRecordPage、CNpvEDPScheduleRecordPage、CNpvSummaryRecordPage、CNpvProfitPage
1)增加OnCellSelected：调用CLightGrid:: OnSelectCell显示tip
8.更新CNpvTaxRecordPage
	1)更新InitAbroadGridData：初始化时增加一列，用于标记是否为level为0列
2)更新DoAppendRows：设置每行最后一列的值，是否为level为0列（grid->SetCellValue(row ,cols - 1, root->m_level == 0 ? "level0":"")）
3)更新OnCellSelected：“level0”列时，先处理显示的字符串（去除标号，例“1：”），再调用CLightGrid:: OnSelectCell显示tip
9.更新CNpvEDPScheduleRecordPage
	1)更新InitAbroadGridData：初始化时增加一列，用于标记是否为level为0列
--------------------------------------------------------------------------------------------------
20150116
李治昊
2015/1/12 C 2015/1/16
1.增加CNpvBreakEvenPage：基准平衡分析
2.更新CNpvTreeBook
	1)更新InitBook：增加Break Even（基准平衡分析）节点
	2)更新OnPageShow：响应基准平衡分析页面显示
3.更新CNpvResourceRecordPage
	1)更新GetPracticeIdx：在循环中匹配资源类型（原先只有一个资源类型，只匹配第一个记录）
	2)更新DoFillInAccmulationRecord：直方图分布时，重置参数parameters.Reset()，防止乱码出错
4.更新CPflSpecialGoalSettingDlg
	1)更新OnSave：调用CAnyRepository::CommitRepositoryRecords(book->m_repoCurElements);
保存数据到db
5.更新CPortfolioTreeBook
	1)增加LoadRepository：读取储备库数据
2)增加成员变量CAnyRepository *m_repository，CAnyRepository::RepositoryElementVector m_repoAllElements，CAnyRepository::RepositoryElementVector m_repoCurElements
	3)更新构造函数：调用1) LoadRepository读取储备库数据
6.更新CPflCandidatePage
1)更新InitLayerout：增加‘提交’按钮
	2)增加OnCommitToRepository：响应’按钮，保存数据到储备库
	3)更新InitCandidateData：读取储备库中elements信息
7.更新CWorkBayesNetworkProfileDlg
	1)增加void CreateProbabilityCanvasSpacer(wxSizer * const &sizer)：显示概率树图板的sizer
	2)更新CreateSpacers：调用CreateProbabilityCanvasSpacer，增加概率树图板
	3)增加void OnSize(wxSizeEvent &event)：窗口大小变化时，刷新概率树图板
	4)更新CreateButtonSpacer：增加‘默认概率’按钮，将概率树中的一些列概率设置入grid
5)增加void OnDefaultProbability(wxCommandEvent& WXUNUSED(event))：响应‘默认概率’按钮，将概率树中的一些列概率设置入grid
8.更新CWorkProbabilityTreeCanvas
	1)增加成员变量bool m_isBayesMode：是否为贝叶斯网络调用
	2)更新OnContextMenu：m_isBayesMode为true（贝叶斯网络调用），菜单只显示放大、缩小
--------------------------------------------------------------------------------------------------
20150123
李治昊
 2015/1/19 C 2015/1/23
1. 更新CWorkProbabilityTreeProfileDlg
	1)增加成员变量int m_levelType、wxString m_levelName：记录层级类型、层级名称
2)更新构造函数：CWorkProbabilityTreeProfileDlg(…，int type = CAnyProbabilityTree:: PT_Independence)：增加type，记录层级类型
	3)更新CreatePropertySpacer：增加显示层级名称的控件
	4)更新InitLayout：根据层级类型设置窗口大小
	5)增加void SetLevelName(const wxString &name)：为名称控件设置名称
2.更新CWorkProbabilityTreeCanvas
	1)更新DoCreateProbabilityLevel：创建层级时，调用CWorkProbabilityTreeProfileDlg设置层级名称
	2)更新OnLButtonDblClick：双击时读取层级名称，确定后更改之
3.增加CContourLineSettingDlg：设置某一根等值线属性
4.更新CWorkMapCanvas
	1)增加成员变量CGeoPoint<double> m_rDownPt：记录右击时位置
	2)增加void OnRButtonDown(wxMouseEvent &event)：记录右击时位置给m_rDownPt
3)更新OnContextMenu：右键拾取到等值线后，弹出菜单‘等值线’设置
4)增加void OnContourLineSetting( wxCommandEvent &event )：响应菜单‘等值线’设置，弹出设置窗口3.CContourLineSettingDlg
5.更新CNPVScatterCanvas
	1)更新OnContextMenu：增加菜单‘Output Data’，输出图板中数据
	2)增加static bool GetScatterInfo(CAnyScatterMatrix *hook)：将图板中数据放入剪切板中
3)增加void OnCopyInfo(wxCommandEvent &event)：响应菜单‘Output Data’，调用2)GetScatterInfo输出图板中数据
6.更新CToolboxScatterMatrixSourcePage
1)更新OpenExcelOrDBFile：打开excel\access文件，读取不到sheet页时，不进行文件读取防止死机
--------------------------------------------------------------------------------------------------
20150130
李治昊
2015/1/26C 2015/1/30
1. 增加CGeneralTreeCanvas、CGeneralTreeCanvasDlg：新增通用树的canvas和dialog（概率树、决策树、贝叶斯网络）
2.更新CWorkBayesNetworkCanvas
1)增加成员变量bool m_isTrainingMode，	bool m_isCorrelation：标记该图板是否为训练模式\相关性模式
2)更新OnContextMenu：由父亲节点的node弹出菜单‘Train’（训练）；node的m_isDeletable为false时，置灰‘Remove’菜单；根据节点是否为证据点状态，对菜单‘设置证据点’打钩
3)增加void OnTrainNode(wxCommandEvent& event)：调用CGeneralTreeCanvasDlg，弹出bayes节点训练窗口
4)增加void DoCreateNode(const std::string &name, CGeoPoint<double> &scrPt, double probability, bool isDeletable = true, bool isRefresh = true)：封装创建节点的功能
	5)更新OnCreateNode：调用3) DoCreateNode
6)增加OnTrainNode：弹出1.CGeneralTreeCanvasDlg窗口，通过bayes图版训练节点，得到该节点各状态概率
3.更新CPflCandidatePage
	1)更新InitLayerout：增加按钮‘Correlation’项目相关性
2)增加void OnProjectCorrelation( wxCommandEvent &event )：响应按钮‘Correlation’，弹出CGeneralTreeCanvasDlg贝叶斯网络窗口，将项目随即排列于图板之中；点击确定后获取每个子网络
4.更新CWorkBayesNetworkProfileDlg
	1)更新CreateProbabilityCanvasSpacer：增加节点时，按父节点概率排序然后插入图版
5.更新CPortfolioTreeBook
	1)更新InitBook：交换treebook中计算参数、候选对象的顺序
--------------------------------------------------------------------------------------------------
20150205
pc
删除了冗余代码，包括两套老版本导入地震数据的代码，底层没用过的函数
--------------------------------------------------------------------------------------------------
20150306
李治昊
2015/2/2C 2015/2/6
1.更新CWorkProbabilityTreeCanvas
1)更新OnLButtonDblClick：在贝叶斯网络设置概率调用概率树时，更新概率之后，刷新CWorkBayesNetworkProfileDlg中表格的内容
2.更新CPortfolioTreeBook
	1)增加成员变量bool m_isGibs，std::vector<CAnyBayesNetwork::DirectedGraph*> m_bns，	std::vector<std::vector<std::string>> m_nameVec：吉布斯采样的相关变量
	2)增加void ReleaseDirectGraphs()：删除并清空1)中定义的m_bns
	3)更新析构函数：调用2)ReleaseDirectGraphs
3.更新CPflCandidatePage
1)更新OnProjectCorrelation：获取子网络后，构建网络并设置CPortfolioTreeBook的m_bns、m_nameVec
4.更新CPflProtfolioResPage
	1)更新DoMonCanculation：设置gibs采样的相关参数
2015/2/9C 2015/2/13
1. 更新CContourLineSettingDlg
1)增加void OnCheck(wxCommandEvent &event)：响应‘显示标注’选择框，勾选则联动使得‘等值线独立配置’选择框也勾选
2.增加CRadarCanvas、CRadarCanvasDlg：雷达图相关面板、窗口
3.增加CTernaryCanvas、CTernaryCanvasDlg：三元图相关面板、窗口
2015/3/2C 2015/3/6
1.增加CToolboxTernaryWizard、CToolboxTernarySourcePage、CToolboxTernaryProfilePage：三元图、雷达图配置wizard
2.更新CWorkScatterMatrixCanvas
	1)增加成员变量m_type：记录当前图版类型，通用/三元图/雷达图
	2)增加成员变量CToolboxTernarySourcePage::GridData m_data，CAnyScatterMatrix::Element- Vector m_elememts、int m_nameCol、int m_groupCol：记录CToolboxTernaryWizard中的变量，用于恢复场景
	3)更新SetView：根据类型得出相应名称，获取不同的m_hook
	4)更新OnContextMenu：根据不同类型，弹出不同菜单
	5)更新OnProfile：根据不同类型，恢复不同配置场景（通用/三元图/雷达图）
	6)增加OnZoom：三元图/雷达图模式下，开关缩放功能
--------------------------------------------------------------------------------------------------
20150313
李治昊
2015/3/9C 2015/3/13
1.更新CPflGoalSetPage
	1)更新OnCellValueChanged：更改条件时，不重新设置值
	2)更新InitDefaultGridData：默认选中3条件：勘探（<=100000）、开发投资（<=800000）、NPV 
2.更新CPflCandidatePage
1)更新void GetCandidateData(int &num, CAnyGeneticSolutionGenerator *generator)：增加参数CAnyGeneticSolutionGenerator *generator，调用该CAnyGeneticSolutionGenerator::AddCandidate
3.更新CPflProtfolioResPage
1)更新void SetRepositoryRecord(int &num, CAnyGeneticSolutionGenerator *generator)：增加参数CAnyGeneticSolutionGenerator *generator，调用2.1)CPflCandidatePage::GetCandidateData
2)更新DoGenCanculation、DoMonCanculation：调用1) SetRepositoryRecord设置CAnyGeneticSolutionGenerator的candidates
4.更新CNpvBreakEvenPage
	1)增加wxSizer * InitInputSizer()：添加输入的grid
2)增加wxPanel * InitGridPanel(wxWindow *parent, int &id, const std::vector<std::string> &names)：添加输出表格及canvas
3)更新InitPage：调用1) InitInputSizer添加输入的grid；增加wxNotebook，调用2)InitGridPanel添加4个页面
	4)删除函数OnRefresh、RefreshCanvas，删除成员变量CNPVScatterCanvas *m_canvas
	5)增加void OnDefault(wxCommandEvent &event)：设置默认输入数据
6)增加void OnCalculate(wxCommandEvent &event)：调用7) CalculateBreakEvenPoint，计算基准平衡点
	7)增加void CalculateBreakEvenPoint()：计算基准平衡点
8)增加void OnCellLeftDClick( wxGridEvent &event )、void OnCellValueChanged( wxGridEvent &event )：响应鼠标双击cell、响应cell值变化
5.更新CToolboxTernarySourcePage
	1)增加成员变量CAnyScatterMatrix:: ScatterElement m_gridSetting：记录网格配置
	2)更新AddElements：雷达图模式，调用CAnyRadarPlot::SetGridSetting，设置网格配置入底层
6.更新CToolboxTernaryWizard
	1)更新构造函数：雷达图模式，调用CAnyRadarPlot::InitGridSetting或GetGridSetting获取网格配置
7.待更新CToolboxTernaryProfilePage:: InitDisplaySettingsPanel：增加网格属性配置
--------------------------------------------------------------------------------------------------
20150320
李治昊
2015/3/16C 2015/3/20
1.更新CPflCandidatePage
	1)更新AutoSetcandidateData：不区分蒙特卡洛、遗传算法，都读取储备库中的数据
	2)更新InitCandidateData：初始读取数据库，默认不读取场景树结果；设置4)m_isInitialize为true
3)更新CAnyScenarioNPV * AutoSetScenarioNpv(CAccumulationElement *element,long &practiceidx, double npv = -1., double expInvest = -1., double devInvest = -1., double res = -1.)：增加double npv, double expInvest, double devInvest, double res，当这些参数与npv历史记录吻合时，选中当前记录
4)增加bool m_isInitialize：标记是否为初始化状态
5)增加SetCandidateScenarioNpv：m_isInitialize为true时，调用AutoSetScenarioNpv读取candidates的场景树参数
6)增加void CommitToRepository(bool isQuery = true)：封装提交数据到储备库的功能，isQuery为true时，询问提示用户是否提交数据
7)更新void OnCommitToRepository(wxCommandEvent &event)：调用CommitToRepository
8)更新OnCellDBClick：双击资源量、净现值列不再调用npv、体积法模块计算相应值；蒙特卡洛法双击第一列弹出选择窗口后，如果各参数值其一与储备库不符，提示用户是否覆盖，不覆盖则不选择该对象参与计算
9)更新LoadElements：当前方法为蒙特卡洛模拟时，调用SetCandidateScenarioNpv读取candidates的场景树参数
2.更新CPflProtfolioResPage
1)更新void SetResultGrid(CAnyGeneticSolutionGenerator *generator)：增加参数generator，代替仅遗传算法实例调用CAnyGeneticSolutionGenerator::GetCandidateCount
	2)更新DoMonCanculation：蒙特卡洛算法页调用SetResultGrid显示投资比例等结果
3.更新CResourcePredicationDetailListDlg
1)更新DoListResourcePractice：ID_NPV_Scenario_ReadOnly_Practice时，仅读取scenario相关的npv历史记录

4.更新CNpvPolicyRecordPage
	1)更新CreateCashflowSpacer：仅通用模式显示通胀率
5.更新CNpvResourceRecordPage
	1)更新InitGridData：根据模式是否为“评价项目”区分显示参数（…资源量\…储量）
	2)更新InitPage：根据模式是否为“评价项目”区分显示提示m_loadResTipStr（…资源量\...储量）
6.更新CNpvEDPScheduleRecordPage
	1)更新OnPageShow：圈闭、评价项目版本隐藏井数相关的行
7.更新CToolboxTernaryProfilePage
	1)更新InitDisplaySettingsPanel：雷达图模式，在mode setting页面，增加边界线线形、刻度设置
	2)更新OnScatterPropertyChanged：响应边界线线形、刻度设置的变化，设置m_gridSetting
	3)更新LoadProperty：根据m_gridSetting设置边界线线形、刻度
--------------------------------------------------------------------------------------------------
20150327
李治昊
2015/3/23C 2015/3/27
1.增加CWorkJobStreamCanvas：jobstream的canvas
2.更新CAssessorWorkspace
	1)更新enum WorkspacePage：增加WSP_JobStream作为jobStream页面的类型
3.更新CAssessorFrame
	1)更新canvas的enum：增加Canvas_JobStream，作为jobStream页面canvas的id
2)增加CreateJobStreamPanel：增加作业流面板
4.更新CNpvPracticePage
	1)更新OnDelete：删除所有选中记录（之前仅删除一条选中记录）
5.增加CTrendSurfaceAnalysisDlg：等值线趋势面分析，输入图层名称，选择方法
6.更新CLayerTreeCtrl
	1)更新ShowMenu：等值线图层，弹出‘趋势面分析’菜单	
2)增加OnContourTrendSurface：响应‘趋势面分析’菜单，弹出5.CTrendSurfaceAnalysisDlg，设置图层名称后，调用CAnyFittingStrategy:: TrendSurfaceAnalysis，获取新的z值，绘制趋势面图层

--------------------------------------------------------------------------------------------------
20150401
李治昊
2015/3/30C 2015/4/3
1.更新CToolboxContourWizard
1)更新LoadContourSetting：setting.m_source为空时，隐藏‘上一步’按钮，防止跳回数据页面
2.更新CLayerTreeCtrl
1)增加void GetShpName(wxString &strItemName, string &strShpFileName)：封装重命名layername函数
2)更新OnContourTrendSurface：调用1)GetShpName获取新建图层的名称
3.更新CUnitTreeCtrl
1)更新ShowMenu：增加‘jobstream’菜单
2)增加OnJobStream：响应‘jobstream’菜单，在workspace中弹出CWorkJobStreamCanvas
--------------------------------------------------------------------------------------------------
20150417
李治昊
2015/4/6C 2015/4/10
1.更新CProbabilitySettingBook
1)更新CheckdataValid：NPV模块弹出的窗口（CNpvProbabilityCanvasDlg）不检查输入值是否在分布最大最小值之间，防止不能更改直方图分位数的错误
2.更新CNpvScenarioPage
	1)更新SetDistributionCanvas：直方图分布改为三角分布
2015/4/13C 2015/4/17
1.更新CWorkProbabilityTreeProfileDlg
1)更新CreateSpacers、CreateComboxSpacer、InitComboxData、OnComboboxSelected：评价项目版本只显示“储量加权”方法
2.更新CActivityTreeCtrl
	1)增加成员变量CAccumulationElement *m_element：设置当前使用的element
2)增加CAccumulationElement *GetCurrentElement()：m_element不为空时，则m_element为当前element；否则为活动数选中的对象
3.更新CPflEfficentFrontPage
	1)更新ShowDetailGrid：更新蒙特卡洛算法时的权重显示
4.更新CUnitTreeCtrl
1)更新GetActivityPath：!parent.IsOk()时，当前item不为"Root item"时，执行Delete(item)，防止直接右击不同资评树对象时出错
5.更新CWorkJobStreamCanvas
1)更新AddNode：node->m_entry初始化为多态的new CAnyJobStream::JobFunction<void (CAnyJobStream::JobNode*)>；同样初始化node->m_branchEntry
2)增加bool UpdateNode(CAnyJobStream::JobNode *node, CAnyJobStream::JobStream &parents, CAnyJobStream::JobStream &children, int level, int glyphType, int color, int activityId, const std::string &key, const std::string &name, const std::string &tip)：更新node
3)增加void CallBackNode(CAnyJobStream::JobNode *node)：回调双击节点
4)增加void CallBackBranch(CAnyJobStream::JobBranch *branch)：回调双击分支
5)增加void OnRelease(wxCommandEvent &event)：清空图版
6)增加void OnUpdateNode(wxCommandEvent &event)：更新节点
7)增加void OnAddNode(wxCommandEvent &event)：增加节点
8)增加void OnRemoveNode(wxCommandEvent& WXUNUSED(event))：删除节点
9)增加CAnyJobStream::JobNode * AddNode(CAnyJobStream::JobStream &parents, int level, int glyphType, int color, int activityId, const std::string &key, const std::string &name, const std::string &tip)：封装增加node的功能
10)增加void UpdateNode(CAnyJobStream::JobNode *node, bool isAdded = false)：调用6. 	CWorkJobStreamUpdateDlg
11)增加bool DoUpdateNode(CAnyJobStream::JobNode *node, CAnyJobStream::JobStream &parents, CAnyJobStream::JobStream &children, int level, int glyphType, int color, int activityId, const std::string &key, const std::string &name, const std::string &tip)：封装更新node的功能
6.增加CWorkJobStreamUpdateDlg：更新节点JobNode的窗口
7.增加CWorkJobStreamRelationEditDlg：更新节点JobNode的父、子节点关系的窗口
8.更新CPortfolioTreeBook
1)增加void CheckGeneConstraints(CAnyGeneticSolutionGenerator::VariableVector &variables, AnyMath::GENE &generator)：判定遗传算法方法的约束条件
2)增加bool CheckMonConstraints(CAnyGeneticSolutionGenerator::VariableVector &variables, CAnyScenarioSolutionGenerator::ScenarioPortfolio &portfolio,double resoil, double expCost, double devCost)：判定蒙特卡洛方法的约束条件
9.更新CPflProtfolioResPage
1)更新DoGenCanculation：绑定底层需要界面执行的函数m_treeBook->m_predicatorGen->m_gene- ConstraintFunction = boost::bind(&CPortfolioTreeBook::CheckGeneConstraints,m_treeBook,_1,_2)
2)更新DoMonCanculation：绑定底层需要界面执行的函数m_treeBook->m_predicatorMon->m_mo- n ConstraintFunction = boost::bind(&CPortfolioTreeBook::CheckMonConstraints,m_treeBook,_1,_2, _3,_4,_5)
--------------------------------------------------------------------------------------------------
20150424
李治昊
2015/4/20C 2015/4/24
1.增加CCondtionalSimulatorWizard、CCondtionalSimulatorDataPage、CCondtionalSimulatorCovariancePage、CCondtionalSimulatorFractalPage、CCondtionalSimulatorQuantilePage：创建随机模拟窗口，走通分形（资源丰度法）
2.更新CWorkJobStreamCanvas
	1)更新UpdateNode：不能更新已存在节点（idx相同）
2)增加void Notify(short type = 0, void * para = 0)：通知变更作业流，暂时改变双击节点颜色为绿色，其子节点为红色
	3)增加void ChangeNodeStatus(CAnyJobStream::JobNode * node, int color)：改变节点颜色
3.更新CActivityTreeCtrl
	1)增加CWorkJobStreamCanvas *m_jobCanvas：指定当前作业流图版，便于调用2.2) Notify
2)更新DoRunConditionProbabilityTree：作业流激活的该活动，四级圈闭时，6. CTrapEvaluationDlg中m_isCommit为true，通知作业流更新；
4.更新CFactorScoringSchemaSetupDlg
	1)更新OnOkay：变更模板后，通知作业流更新
5.更新CFactorEvaluationTreeDlg
	1)更新OnCommit：提交含油气概率后，通知作业流更新
6.更新CTrapEvaluationDlg
	1)增加bool m_isCommit：标记是否执行过commit功能
	2)更新DoCommit：标记m_isCommit
7.更新CWorkProbabilityTreeProfileDlg
	1)DoCommit：作业流激活的该活动，通知作业流更新
8.更新CVolumetricWizard
	1) OnCommit：作业流激活的该活动，通知作业流更新
9.更新CProspectIntegratedAnalysisWizard
	1) OnCommit：作业流激活的该活动，通知作业流更新
10.更新CNpvCommitPage
	1)更新DoCommit：作业流激活的该活动，通知作业流更新
--------------------------------------------------------------------------------------------------
20150430
李治昊
2015/4/27C 2015/4/30
1.更新CWorkJobStreamCanvas
	1)更新OnContextMenu：增加添加\移除条件的菜单；增加读取\提交作业流的菜单
2)增加OnAddBranch：添加条件，调用CAnyJobStream::SetMapOperation(CAny- JobStream::MO_Condition)
	3)增加OnRemoveBranch：移除条件，调用CAnyJobStream::RemoveBranch(branch)
	4)更新UpdateNode：更新JobNode *m_jobId为2.CWorkJobStreamUpdateDlg绑定的practice id
	5)增加void OnCommit(wxCommandEvent &event)：提交作业流
	6)增加void OnLoad (wxCommandEvent &event)：读取作业流
2.更新CWorkJobStreamUpdateDlg，调用CProfilePanel图版，用于作业流绑定历史记录
3.更新CNpvModeSelectionDlg
1)增加static int GetModeSelection(wxString &remark)：根据remark获取npv类型（圈闭、评价项目等）
4.更新CProfilePanel
1)更新构造函数CProfilePanel(wxWindow *parent, wxWindowID id = wxID_ANY, bool isJobStream = false)：增加参数bool isJobStream，表示是否为作业流激活的模式
2)增加成员变量bool m_isJobStream：记录构造函数中的参数bool isJobStream
3)更新OnColRClick、OnCellDBClick、OnCellRClick、InitLayout：根据2)isJobStream的值，区别弹出菜单、初始化界面等
4)增加static void DoOpenHistory(wxWindow *parent, CAccumulationElement *element, long practiceIdx,int type,bool returnGrid=false,wxGrid* grid=NULL)：封装恢复历史记录的函数，便于在类外面调用；增加npv历史记录恢复，调用3.1)GetModeSelection获取当前npv类型，之后调用CNpvTreeBook（传入当前的practiceIdx），恢复practiceIdx对应参数设置
5)更新OpenHistory：调用4) DoOpenHistory(this->GetParent(),m_element,practiceIdx,type, returnGrid,grid)，恢复历史记录
5.更新CCondtionalSimulatorQuantilePage
1)更新OnWizardPageshow/OnWizardChanging：调用CCondtionalSimulatorWizard:: EnableApplyButton/EnableApplyButton(false)，开启禁用应用按钮
2)增加void OnApply( wxWizardEvent& event )：调用CreateResultContour产生不同分位数的结果图层

--------------------------------------------------------------------------------------------------
20150508
李治昊
2015/5/4C 2015/5/8
1.更新CProfilePanel
1)更新OnColRClick、OnCellRClick：m_isJobStream为false时，弹出作业流菜单
	2)增加void OnJobStream(wxCommandEvent &event)：弹出作业流面板
	3)更新SetPracticeData：设置CAccumulationElement::EAT_Maturity_Prospect的活动记录
4)更新InitGrid：调用1.3) SetPracticeData(CAccumulationElement::EAT_Maturity_ Prospect)
5)更新OnCellDBClick、OnDataApproved：设置CAccumulationElement::EAT_Maturity_Prospect的响应
2.更新CUnitTreeCtrl
	1)更新ShowMenu：不再弹出‘作业流’菜单
3.更新CWorkJobStreamCanvas
1)增加void OnAddNodeWithoutLevel(wxCommandEvent &event)：普通模式（自由添加节点）时，添加节点
2)增加void OnLayoutType(wxCommandEvent &event)：切换作业流排版类型，包括默认、流程图模式、圆形布局等等
	3)更新OnContextMenu：添加菜单‘默认布局’、‘流程图布局’、‘圆形布局’
4)更新Notify：参数para传入时，将para转化为long practiceId后赋值于m_curNode->m_entry->m_jobId，同时根据practiceId的m_isApproved状态设置节点颜色
4.更新CProspectIntegratedAnalysisWizard
	1)更新OnCommit：调用3.4)Notify时，传入参数新产生的practice id
5.更新CFactorEvaluationTreeDlg
	1)更新DoCommit：调用3.4)Notify时，传入参数新产生的practice id
6.更新CWorkProbabilityTreeProfileDlg
	1)更新DoCommit：调用3.4)Notify时，传入参数新产生的practice id
7.更新CVolumetricWizard
	1)更新OnCommit：调用3.4)Notify时，传入参数新产生的practice id
8.更新CNpvCommitPage
	1)更新DoCommit：调用3.4)Notify时，传入参数新产生的practice id
9.更新CTrapEvaluationDlg
	1)增加成员变量long m_practiceId：记录提交的历史记录id
	2)更新DoCommit：m_practiceId记录提交的历史记录id
10.更新CActivityTreeCtrl
1)更新DoRunConditionProbabilityTree：圈闭套圈闭情况下，提交成功后调用3.4)Notify时，传入参数新产生的practice id
2)增加DoRunConditionalSimulatorWinzard：调用随机模拟CCondtionalSimulatorWizard
3)更新DoRunActivity：ST_Shale_Target_NPV时，调用随机模拟2) DoRunConditionalSimulator- Winzard
11.更新CCondtionalSimulatorCovariancePage
	1)更新InitPage：调用2)InitScatterCanvas，创建CNPVScatterCanvas图板
	2)增加CNPVScatterCanvas * InitScatterCanvas( short id )：创建CNPVScatterCanvas图板
	3)增加成员变量ExperimentalVariogram_Structure ***m_3dEvs，	ExperimentalVariogram_Structure **m_2dEvs：记录实验方差的结果
4)增加void ReleaseExperimentalVariogram_Structure(const wxString &code = "all", bool isCreate = false)：code = "all"时释放3)m_3dEvs、m_2dEvs的内存，code = "3d"/”2d”时释放m_3dEvs/m_2dEvs的内存；isCreate为true时，创建m_3dEvs/m_2dEvs
	5)增加void CalculateLag()：计算间距并显示间距
	6)增加void Select2D3D()：选择2D/3D时，启用/禁用z值相关的控件
	7)增加void SelectIsoStropy()：选择各向异性/各向同性时，启用/禁用容忍度相关的控件
	8)增加void OnRadioboxSelected(wxCommandEvent &event)：响应Select2D3D/ SelectIsoStropy
9)增加void OnTextCtrl(wxCommandEvent &event)：步长分量设置后，调用CalculateLag，计算间距并显示间距
	10)增加bool IsRecordFilled()：判断所有控件是否填写
	11)增加bool IsStepSizeValid(CAnyContour *hook)：判断步长分量的值是否合法
12)增加void CalculateExprimentalExperimentalVariogram(CAnyContour *hook)：计算实验变差
13)增加void DrawGraph(double *x, double *y, int number)：绘制数据
	14)增加struct DataValue：包括double m_x、double m_y
15)增加static bool CompareDataValue(const DataValue &v1, const DataValue &v2)：按从小到大顺序比较v1、v2
12.更新CCondtionalSimulatorDataPage
	1)增加成员变量int m_nH[3]：存储步长最大倍数
	2)更新OnWizardChanging：下一页面为协方差时，为m_nH赋值
	3)增加成员变量std::map<string,string> m_namePathMap：记录一组图层名称和路径
4)更新void InitContours(const wxString &which = wxEmptyString)：增加参数which，which不为空时，分别将主要、次要图层选为最后一个；为m_namePathMap赋值，记录一组图层名称和路径
5)更新GetSelectedContours：通过m_namePathMap转化出路径获取图层
6)更新OnPrimary、OnSecondary：方法为协方差时，打开‘等值线绘制’工具，绘制成功后调用InitContours，刷新下拉框中的图层

--------------------------------------------------------------------------------------------------
20150515
李治昊
2015/5/11C 2015/5/15
1.更新CCondtionalSimulatorCovariancePage
1)更新DrawGraph：调用CAnyScatterMatrix::SetAxisXFlags、CAnyScatterMatrix::SetAxisYFlags：加入标记线到底层
	2)增加int m_backup_nH[3]：备份nH，便于下次m_3dEvs、m_2dEvs的release，防止内存泄漏
	3)更新ReleaseExperimentalVariogram_Structure：release时采用m_backup_nH的数据
2.更新CWorkBayesNetworkCanvas
1)增加void OnLayoutType(wxCommandEvent &event)：切换布局类型，包括‘圆形布局’、‘Kamada-Kawai布局’、‘随机布局’、‘Fruchterman-Reingold布局’等
2)更新OnContextMenu：添加菜单‘圆形布局’、‘Kamada-Kawai布局’、‘随机布局’、‘Fruchterman-Reingold布局’
3)更新OnMouseWheel：相应鼠标滚轮，缩放图版
3.更新CWorkJobStreamCanvas
1)更新OnLayoutType：切换作业流排版类型，增加处理 ‘随机布局’、‘Fruchterman-Reingold布局’等
2)更新OnContextMenu：添加菜单‘随机布局’、‘Fruchterman-Reingold布局’

--------------------------------------------------------------------------------------------------
20150522
李治昊
2015/5/18C 2015/5/22
1.更新CNPVScatterCanvas
1)更新OnContextMenu：SOM_Rendering_Line模式下，添加菜单‘编辑线段’；SOM_Rendering_Line_Editing模式下，添加菜单‘增加线段’、‘删除线断’、‘删除所有线段’
2)更新OnLButtonDown：SOM_Rendering_Line_Editing模式下，识别线段的改变形状、拖动动作，调用CAnyScatterMatrix::SetLineOperation设置类型到底层
	3)增加void OnAddLine(wxCommandEvent &event)：增加线段
	4)增加void OnRemoveLine(wxCommandEvent &event)：删除线段
5)增加void OnEditLine(wxCommandEvent &event)：开启\关闭编辑线段功能
6)增加void OnRemovePoint (wxCommandEvent &event)：删除线中的点
	7)增加void OnAddPoint (wxCommandEvent &event)：选中线段中增加点
8)增加void EditLine：弹出窗口编辑线段属性，点、线属性
9)更新构造函数CNPVScatterCanvas(wxWindow *parent, wxWindowID id, bool isDrawLine = false)：增加bool isDrawLine，为true时，设置CAnyScatterMatrix的SOM_Rendering_Line模式，可添加线段
2.更新CProspectIntegratedAnalysisWizard
1)更新OnCommit：调用3.4)Notify时，不通过m_observer动态转化得到CActivityTreeCtrl *activityTree，防止从作业流激活后再次提交死机
3.更新CVolumetricWizard
1)更新OnCommit：调用3.4)Notify时，不通过m_observer动态转化得到CActivityTreeCtrl *activityTree，防止从作业流激活后再次提交死机
4.更新CNpvCommitPage
1)更新DoCommit：调用3.4)Notify时，不通过m_observer动态转化得到CActivityTreeCtrl *activityTree，防止从作业流激活后再次提交死机
5.更新CFactorEvaluationTreeDlg
1)更新DoCommit：调用3.4)Notify时，不通过m_observer动态转化得到CActivityTreeCtrl *activityTree，防止从作业流激活后再次提交死机
6.更新CActivityTreeCtrl
1)更新DoRunActivity：ST_Shale_Target_Geology_Sweet时，调用随机模拟2) DoRunConditionalSimulatorWinzard
7.更新CCondtionalSimulatorDataPage
	1)更新OnPrimary：分形时弹出输入图层名称的窗口，调用资源模型CResourceModelSimulatorDlg
2)更新OnSecondary：分形时弹出输入图层名称的窗口，调用地质模型CGeologicalModel- SimulatorDlg
3)更新ApplyFractalCanvas：调用CSpatialStochasticSimulator::PrepareResourceModel时，交换传入参数的位置m_primaryHook（资源模型）, m_secondrayHook（地质模型）
8.更新CWorkBayesNetworkCanvas
	1)更新OnContextMenu：增加‘复制’、‘删除分支’菜单项
	2)增加void OnCopy( wxCommandEvent &event )：响应‘复制’菜单项
	3)增加void OnRemoveCondition( wxCommandEvent &event ): 响应‘删除分支’菜单项
9.更新CWorkDecisionTreeCanvas
	1)更新OnContextMenu：增加‘复制’菜单项
	2)增加void OnCopy( wxCommandEvent &event )：响应‘复制’菜单项
10.更新CWorkProbabilityTreeCanvas
	1)更新OnContextMenu：增加‘复制’菜单项
	2)增加void OnCopy( wxCommandEvent &event )：响应‘复制’菜单项
11.更新CWorkJobStreamCanvas
1)更新OnAddNode：增加孩子时，调用CAnyJobStream::InsertBranch，添加分支；流程图模式，增加节点位置的设置
12.更新CGeneralScatterSettingDlg，编辑线属性
	1)更新enum CanvasType，增加CANVAS_Line_Setting
2)增加构造函数CGeneralScatterSettingDlg(wxWindow *parent, CAnyView *view, CAnyScatterMatrix *hook, int lineId, const CAnyScatterMatrix::LineElement &line)
	3)增加InitLinePage：绘制线编辑界面
	4)更新LoadData：CANVAS_Line_Setting,增加读取线的属性
	5)增加void CommitData()：将线的属性应用于图版
13.更新CShowAnisotropyDlg
1)增加构造函数CShowAnisotropyDlg(wxWindow *parent, const std::vector<CGeoPoint<double>> &directions, int scatterNum = 9)：绘制实验方差
	2)增加InitPage：绘制实验方差的界面
	3)增加int GetDirectionOrder()：返回选择的directions的序号
4)增加void DrawExpVariogram(CNPVScatterCanvas *canvas, int order)：根据directions的序号order，绘制图版
--------------------------------------------------------------------------------------------------
20150529
李治昊
2015/5/25C 2015/5/29
1.更新CCondtionalSimulatorCovariancePage
1)更新void CalculateExprimentalExperimentalVariogram(CAnyContour *hook, CNPVScatterCanvas *canvas, double *dir = 0)：增加参数CNPVScatterCanvas *canvas, double *dir，便于在类外调用
2)更新void DrawGraph(double *x, double *y, int number, CNPVScatterCanvas *canvas) ：增加参数CNPVScatterCanvas *canvas，封装绘制图板的功能，便于在类外调用
3)增加void OnRandomDirections( wxCommandEvent &event)：调用CShowAnisotropyDlg，绘制一组随即方向产生的图版
2.更新CShowAnisotropyDlg
1)更新InitPage：增加分组选择和当前图板的选择combobox，调用InitGroupChoices()、InitSelectionChoices()、DrawExpVariogram()
2)增加void InitGroupChoices()：初始化分组选择combobox
3)增加void InitSelectionChoices()：根据分组选择，初始化当前图板选择的combobox
4)增加void OnComboboxSelected(wxCommandEvent& event)：响应分组选择combobox的选择变化，调用InitSelectionChoices()、DrawExpVariogram()
3.更新CPflEfficentFrontPage
1)更新DrawGraph、DrawGraphMon：增加边缘曲线（将边缘曲线点连接起来）、最优点（红色表示），更改坐标轴名称（加单位）
2)更新Update：type为3时，调用CResourcePredicationDetailListDlg显示勘探目标出现频次统计信息
3)增加void GetElementSelectedTimes(int index, std::map<std::string,int> &maps)：根据index，获取该组合中勘探目标出现的频次
4.更新CScatterMatrixCanvas
	1)更新OnContextMenu：投资组合模块，弹出‘被选频次’菜单
2)增加void OnPflEfficentStat( wxCommandEvent& event )：响应投资组合模块中统计频次的功能
5.更新CResourcePredicationDetailListDlg
	1)增加ID_PFLEffFrontgrid_Stat：投资组合模块统计频次的id
2)更新DoListPflEffFront：区分ID_PFLEffFrontgrid和ID_PFLEffFrontgrid_Stat，初始化不同界面
3)增加wxPanel *CreateStatPflEffFront(wxWindow *parent)：创建投资组合模块统计频次的界面
	4)增加void InitGridData( int selection )：设置grid内容（统计频次）
5)增加void OnComboboxSelected(wxCommandEvent& event)：响应Portfolio Type的变化，之后调用InitGridData设置grid内容（统计频次）
5.更新CMyStatusBar
	1)更新构造函数：状态栏设置为3部分（SetFieldsCount(3, widths)），原先为2部分
6.更新CWorkMapCanvas
	1)更新OnMouseMove：在CAssessorFrame的状态栏的第三部分中显示当前坐标位置
7.更新CAssessorFrame
1)更新OnNotebookPageClose、OnTabClose、OnTabCloseAll、OnTabCloseAllButThis：关闭的tab页为"Geological Thematic Map"时，状态栏第三部分不再显示坐标位置
8.更新CWorkJobStreamCanvas
1)更新OnLoad：读取节点后设置下一个增加的id（m_addedId = addId + 1），防止此时不可增加节点的bug
9.更新CNPVScatterCanvas
1)更新OnLButtonDblClick：当前线操作不为CAnyScatterMatrix::Line_Op_Create_Line时，弹出编辑线的窗口
--------------------------------------------------------------------------------------------------
20150605
李治昊
2015/6/1C 2015/6/5
1.更新CSDELayerProfilePage
	1)增加LoadFeatureTableFields：读取属性表的字段
2)增加LoadFeatureTables (bool isLoadFields = true)：读取所有属性表，isLoadFields为true时，调用1)LoadFeatureTableFields、6)LoadColorRange
3)更新InitPage：调用LoadFeatureTableFields、LoadFeatureTables读取属性表及其字段；增加wxCombobox，选择属性表；增加删除属性表按钮
	4)增加void OnFeatureComboboxSelected( wxCommandEvent &event )：响应选择属性表的动作
	5)增加void OnDeleteFeatureTable(wxCommandEvent &event)：删除选中属性表
6)增加void LoadColorRange：读取颜色范围
	7)增加void LoadShownFields：读取‘显示字段’，更新‘专题’页面的字段
2.更新CShplayerSelectionDlg
1)增加成员变量wxStaticText* m_staticTextBindElement、wxButton *m_bindBtn、CAnySdeGeometryLayer *m_sdeLayer、long m_geoIdx
	2)更新InitLayout：增加‘绑定’按钮，显示绑定对象的控件
	3)增加void OnBind(wxCommandEvent& WXUNUSED(event))：响应图元绑定对象
	4)更新OnItemSelected：显示图元绑定的对象
3.更新CBindElementDlg
	1)增加成员变量bool m_isOkClicked：ok是否点击
	2)更新InitLayout：只显示关联对象的sizer
	3)更新OnCancel：m_isOkClicked设为false
	4)更新Close：m_isOkClicked设为true
4.更新CPflEfficentFrontPage
1)增加成员变量int m_monInnerEndId：记录蒙特卡洛可行点的终止id
2)更新DrawGraphMon：设置m_monInnerEndId
3)增加void GetPortfolios(int type, std::vector<std::vector<std::string>> &names)：获取对应类型投资组合的名称
5.更新CResourcePredicationDetailListDlg
	1)更新InitGridData( int selection )：显示每项投资组合中评价单元是否被选中
	2)更新CreateStatPflEffFront：增加‘统计’菜单
	3)增加void OnStatistic( wxCommandEvent& event )：响应‘统计’菜单，调用CAnyScatter-
Matrix::SOM_Rendering_Stat_String_Count(数量统计)
6.更新CConditionProbabilityDlg
1)增加成员变量wxSizer **m_resLogSizers（资源量比对页面的一组sizer），CNPVScatterCanvas **m_resCanvas（资源量比对页面的一组canvas），m_resSelection（资源量比对页面的当前选择id），wxPanel *m_resPanel（资源量比对页面）
2)更新InitResourceComparisonPanel：增加一组m_resLogSizers、一组m_resCanvas、选择canvas的combobox
3)更新OnComboboxSelected：响应2)选择canvas的combobox
4)更新InitLayout：设置m_resPanel = InitResourceComparisonPanel
5)更新struct ResourceComprasionRecord：增加double m_predictedP10、double m_predictedP90，存储预测的P10\P90值；增加double m_preArea、double m_postArea，钻前/钻后面积；增加double m_preThickness、double m_postThickness，钻前/钻后厚度
6)更新bool GetResourceComparisionRecord(long elementId, long practiceId, ResourceComprasionRecord &record, int selection, const std::string &resName, double resource, double resource10, double resource90)：增加参数double resource10, double resource90，传入资源量P10、P90的值
7)增加void InitRCLogLogCanvas(ResourceComprasionRecords &records)：绘制双对数图板
8)增加void InitRCReserveCanvas (ResourceComprasionRecords &records)：绘制资源量图板
9)更新InitResourceComparisonCanvas：调用7)InitRCLogLogCanvas,8)InitRCReserveCanvas，分别绘制不同图版
10)更新OnSize：增加刷新‘Drill Success Resource Comparison’页面的图版
7.更新CNPVScatterCanvas
1)增加成员变量bool m_isLineMenuValid：控制线段相关菜单是否显示
2)更新OnContextMenu：CAnyScatterMatrix::SOM_Rendering_Line并且m_isLineMenuValid为ture时，显示线段相关菜单
3)更新OnLButtonDblClick：CAnyScatterMatrix::SOM_Rendering_Line时，界面层响应鼠标动作，弹出‘线段属性’菜单
4)更新构造函数CNPVScatterCanvas(wxWindow *parent, wxWindowID id, bool isDrawLine = false)：删除参数bool isDrawLine
8.更新CAssessorFrame
1)更新CreateGeometryEditTypeToolBar：去除‘reshape’按钮；增加‘默认’、‘增加图元’、‘移除图元’、‘移动图元’按钮，全部按钮（除‘默认’）为wxITEM_CHECK类型
2)更新OnEditToolControl：显示‘图元编辑’工具条时，当前图层为‘点’类型时，禁用‘增加图元’、‘移除图元’、‘移动图元’按钮
3)更新OnEditTypeToolControl：响应‘图元编辑’工具条的按钮动作，设置图源类型；点击‘属性’按钮时，设置当前动作为‘点拾取’
9.更新CNpvTreeBook
1)更新构造函数CNpvTreeBook(…,const CGeoPoint<double> &date = CGeoPoint<double>(-1,-1), const std::vector<CGeoPoint<double>> &reserves = std::vector<CGeoPoint<double>>())：增加参数date（项目起止时间），reserves（项目每年产量）
2)增加成员变量CGeoPoint<double> m_date（项目起止时间）、std::vector<CGeoPoint<double>> m_reserves（项目每年产量）、bool m_isSetReserve（是否为设置项目每年产量模式）
3)更新InitBook：m_date.m_x，m_reserves存在值时，新建项目、设置项目起止时间、设置项目每年产量
10.更新CNpvPracticePage
	1)更新ResetRecords：CNpvTreeBook的m_isSetReserve为true时，新建项目
11.更新CNpvEDPScheduleRecordPage
1)更新ResetRecord：设置CNpvTreeBook::m_isSetReserve为false，新建/读取数据后，程序外直接设置产量功能失效
	2)更新OnPageShow：CNpvTreeBook::m_isSetReserve为true时，设置产量

--------------------------------------------------------------------------------------------------
20150612
2015/6/8C 2015/6/12
1.更新CToolboxScatterMatrixWizard
	1)更新OnFinished：设置SVM_X_Log\SVM_Y_Log时，同时设置SOM_X_Log_Axis\SOM_Y_Log_Axis
2)更新DoAddElements：CToolboxScatterMatrixWizard为通用属性配置窗口时，调用SetLogValue，取log、exp
2.更新CToolboxScatterMatrixProfilePage
1)更新SetMode：CToolboxScatterMatrixWizard为通用属性配置窗口时，调用SetLogValue，取log、exp
2)更新RefreshScatterCanvas：CToolboxScatterMatrixWizard为通用属性配置窗口时，调用SetLogValue，取log、exp
3.更新CWorkShapePropertyTablePanel
1)更新onCellValueChanged：整合重复代码，设置属性表名为((CAnySdeGeometryLayer *)m_hook)->m_featureTable
4.更新CShplayerSelectionDlg
	1)增加OnItemRClick：响应tree节点的右击，弹出菜单‘Copy Layer’
	2)删除OnContextMenu
5.更新CAssessorFrame
	1)更新OnEditToolControl：开始编辑图层时，设置‘图层编辑’工具条所有功能未选中
6.更新CCreateNewGISLayer
	1)更新InitPage：增加‘数据导入’按钮（点线面图层，批量导入数据）
	2)更新OnImport：调用8. CToolboxTernaryWizard（点线面图层，批量导入数据）
7.增加CFileImportPanel：功能同CFileImportPage（CFileImportPage继承于wxWizardSamplePage，不能被作为普通panel）
8.更新CImportCustomData：导入自定义数据窗口（点线面图层，批量导入数据）
9.更新CLayerTreeCtrl
	1)更新DoCreateNewGISLayer：初始化导入的点线面数据
10.更新CToolboxTernaryWizard
	1)增加enum WizardType：当前wizard类型
	{
		Type_Ternary_Radar = 0,
		Type_Layer_Custom_Data,
	};
2)更新构造函数CToolboxTernaryWizard(wxWindow *parent, CAnyScatterMatrix *hook = 0, CAnyView *view = 0, bool isTernary = true, int type = Type_Ternary_Radar)：增加int type，表示当前向导类型；根据其值，初始化不同界面
3)增加成员变量m_wizardType：记录当前向导类型
11.更新CToolboxTernarySourcePage
	1)更新InitPage：根据CToolboxTernaryWizard::m_wizardType，初始化不同界面
	2)更新IsDataValid：根据CToolboxTernaryWizard::m_wizardType，检查数据是否合法
3)增加void GetImportedData(std::vector<std::vector<CGeoPoint<double>>> &pts)：得到一组坐标
--------------------------------------------------------------------------------------------------
20150619
李治昊
2015/6/15C 2015/6/19
1.更新CBindElementDlg
	1)更新OnOK：未选中element时，提示用户
2.更新CAssessorFrame
1)更新enum MenuFunction：增加TB_GEOEDIT_OverHead,TB_GEOEDIT_ShortHead，过头、欠头菜单id
	2)更新CreateGeometryEditTypeToolBar：增加过头、欠头菜单
	3)更新OnEditToolControl：控制过头、欠头菜单是否可用
4)更新OnEditTypeToolControl：响应过头、欠头菜单
3.更新CWorkMapCanvas
1)更新OnLButtonUp：Hook_Type_SDE_Geometry图层类型，CAnySdeGeometryEditor:: EAT_Overhead、CAnySdeGeometryEditor::EAT_Shorthead编辑模式，调用CAnySdeGeometryLayer::AdjustLines，处理过头、欠头线
4.更新CCreateNewGISLayer
	1)更新InitPage：增加属性操作按钮（增加\删除属性，显示属性的下拉框）
	2)增加void OnEditField(wxCommandEvent& event)：响应“增加\删除属性”按钮
	3)增加std::vector<DBFieldDesc> m_fields（所有属性）、	std::map<std::string, int> m_fieldIdx（属性对应的列id，未绑定为-1）、std::map<std::string, std::vector<std::vector<std::string>>> m_fieldContent（属性对应的内容）
5.更新CToolboxTernaryWizard
1)更新构造函数CToolboxTernaryWizard(wxWindow *parent, CAnyScatterMatrix *hook = 0, CAnyView *view = 0, bool isTernary = true,int type = Type_Ternary_Radar, const std::map<std::string, int> &fieldIdxMap = std::map<std::string, int>())：增加参数fieldIdxMap，属性绑定列对应的map
6.更新CToolboxTernarySourcePage
1)更新InitPage：存在属性时，添加“绑定属性”下拉框
2)增加void InitFieldCombobox()：初始化“属性”下拉框
3)增加void OnComboboxSelected(wxCommandEvent &event)：响应“属性”下拉框
4)增加成员变量wxComboBox *m_fieldNameChoice、wxComboBox *m_fieldColChoice、	int m_fieldNameSelection、int m_fieldColSelection：绑定“属性”的相关字段
5)增加void GetProperties(std::map<std::string, int> &fieldIdxMap, std::map<std::string, std::vector<std::vector<std::string>>> &fieldContentMap)：获取属性的数据
7.更新CLayerTreeCtrl
1)更新DoCreateNewGISLayer(CCreateNewGISLayer &newgislayer)：导入点、线、面新增属性字段及其内容
2)更新void DoCreateNewGISLayerFromExitLayer(CAnySdeGeometryLayer *hosthook, const string &newlayername, const std::vector<long> &geometryidstoload)：改变参数类型，传入引用（&）
8.更新CShplayerSelectionDlg
1)更新OnItemRClick：右击树的对象时，高亮对象（选中）；选中图层名称时，弹出“复制图层”菜单；选中图元时，弹出“复制图元”菜单
2)更新OnCreateNewLayer：复制图层时弹出对话框，让用户输入图层名称；增加响应“复制图元”菜单
--------------------------------------------------------------------------------------------------
20150626
李治昊
2015/6/23C 2015/6/26
1.更新CShplayerSelectionDlg
1)增加static bool CopyGeometry(boost::shared_ptr<CAnySdeGeometry> geometry, CAnySdeGeometryLayer *sdeLayer)：封装复制图元的功能
	2)更新OnCreateNewLayer：调用1)CopyGeometry，复制图元
3)增加成员变量：wxButton *m_elePropertyBtn（element属性按钮），CAccumulationElement *m_bindElement（绑定的对象）
	4)更新InitLayout：增加element属性按钮，绑定对象后可用
	5)增加void OnElementProperty( wxCommandEvent& event)：弹出属性配置窗口
2.更新CWorkMapCanvas
	1)增加成员变量bool m_isCtrlClicked：‘ctrl’点击的情况
2)更新OnLButtonUp：图层为Hook_Type_SDE_Geometry、编辑类型为CAnySdeGeometry- Editor::EAT_Copy、ctrl点击时，将选中图元加入复制列表
3)增加void OnKeyDown(wxKeyEvent& event)：响应键盘，图元复制时响应ctrl+c\ctrl+v；配置图元属性时响应ctrl+p
	4)增加void OnKeyUp(wxKeyEvent& event)：响应键盘，设置m_isCtrlClicked为false
3.更新CNpvModeSelectionDlg
	1)更新CreateComboxSpacer：增加单井（Single Well）选项
	2)更新GetModeSelection：增加单井remark对应的selection
	3)增加static wxString GetModeName(int selection)：根据selection得到模式名称
4.更新CNpvTreeBook
	1)增加成员变量bool m_isWellMode：是否为井模块
2)更新构造函数：增加根据m_mode设置m_isWellMode的代码；设置标题（增加类别：圈闭、评价项目等）
5.更新CNpvPriceRecordPage
	1)更新InitPage：井模块（m_isWellMode = true）增加油气补贴文本框
	2)更新GetNPVPriceRecord：将油、气补贴存入底层；油气价格为价格+补贴
	3)更新ReInitGridData：设置油气补贴默认值
	4)更新ResetRecord：设置数据库读出的油气补贴数据
6.更新CSDELayerProfilePage
	1)更新InitGridData：区分显示字段类型为int、float的字段
	2)更新OnRangeColorFieldSelectionChanged：保存上个字段的设置
	3)更新OnRangeColorRemove：删除所有配置后，重新给最大最小值黑色
4)更新SaveCurentColorRangetoUpMem：将当前选择字段设置为颜色分类依据（不再依据m_valueranges、m_colors是否为空来设置，这样可以临时保存设置的参数）
	5)增加void InitSelectedGeometries()：有选中图元的情况下，初始化界面
	6)增加static bool CompareGeometryId(unsigned long x1, unsigned long x2)：用于排序
	7)更新InitPage：调用InitSelectedGeometries
	8)更新ApplySetting：区分处理有/无选中图元的情况
7.更新CAssessorFrame
1)更新OnEditTypeToolControl：切换编辑状态时，清空CAnySdeGeometryLayer中的m_copyGeometries
8.更新CUnitTreeCtrl
1)更新定义friend class CShplayerSelectionDlg：CShplayerSelectionDlg函数可操作CUnitTreeCtrl的private函数
--------------------------------------------------------------------------------------------------
20150703
李治昊
2015/6/29C 2015/7/3
1.更新CWorkJobStreamUpdateDlg
	1)更新CreatePropertySizer：暂时不显示Rendering Shape的选择框
2.更新CResourceModelSimulatorDlg
	1)更新InitLayout：增加5列数据并将读取的数据输出之
	2)更新OnCommit：提交增加的5列数据
3.更新CNpvSummaryRecordPage
	1)更新SetParameters：评价项目参数加序号，参数标题居左显示
4.更新CNpvEDPBasicRecordPage
	1)更新InitData：评价项目版，只显示production scale相关的四行参数
5.更新CAssessorFrame
	1)更新enum MenuFunction：增加TB_GEOEDIT_Spline_Interpolation，“样条插值”的菜单id
	2)更新CreateGeometryEditTypeToolBar：创建“样条插值”工具条菜单
	3)更新OnEditToolControl：控制“样条插值”工具条菜单是否可用
	4)更新OnEditTypeToolControl：设置CAnySdeGeometryEditor的编辑动作为 “样条插值”
6.更新CToolboxTernarySourcePage
	1)更新InitPage：导入图层数据时，增加数据类型选择（通用、油藏边界）
2)更新GetImportedData(std::vector<std::vector<CGeoPoint<double>>> &pts, bool isDirectCall = true)：增加参数isDirectCall，是否为类外调用；根据数据类型选择（通用、油藏边界），区分添加导入数据；增加导入多文件数据
	3)更新OnSelectFile：图层导入数据时，文件打开对话框可多选
	4)增加成员变量int m_bkNameCol	int m_bkGroupCol，记录备份的x，y列order
5)增加void DoGetProperties(std::map<std::string, int> &fieldIdxMap, std::map<std::string, std::vector<std::vector<std::string>>> &fieldContentMap)：封装获取属性数据的功能
6)更新GetProperties：根据数据类型选择（通用、油藏边界），区分添加导入的属性；调用DoGetProperties，增加导入多文件属性
7.更新CToolboxScatterMatrixSourcePage
	1)更新SetGridData：处理数据列数不一致的情况，防止只能读取部分数据的问题
8.更新CCreateNewGISLayer
	1)更新OnImport：导入数据后，重新设置数据范围
	2)增加void InitVariables()：初始化变量
3)更新构造函数CCreateNewGISLayer(wxWindow *parent, CAnySdeGeometryLayer *hook = 0)：增加参数CAnySdeGeometryLayer *hook，在图层存在时导入数据
	4)更新InitData：将变量值写入输入控件
	5)更新ApplySetting：图层存在时，判断导入数据是否为空
9.更新CLayerTreeCtrl
1)更新ShowMenu：图层类型为Hook_Type_SDE_Geometry时，添加“导入数据”菜单，按功能对菜单内容重新排列
2)增加void OnImportDataInSdeGeometryLayer( wxCommandEvent &event)：导入数据到已存在图层
3)增加void InsertGeometriesToDB(CAnySdeGeometryLayer *hook, int layerType, int classid, const std::vector<std::vector<CGeoPoint<double>>> &pts, std::map<std::string, std::vector<std::vector<std::string>>> &fieldContentMap)：封装创建图元并提交到数据库的代码
10.更新CRadarCanvas
1)更新构造函数：CRadarCanvas(wxWindow *parent, wxWindowID id, int canvasType = CAnyRadarPlot::CT_Radar)：增加参数int canvasType = CAnyRadarPlot::CT_Radar，默认为雷达图
	2)增加成员变量m_canvasType：记录图版类型
--------------------------------------------------------------------------------------------------
20150710
李治昊
2015/7/6C 2015/7/10
1.更新CLayerTreeCtrl
1)更新ShowMenu：图层类型为Hook_Type_SDE_Geometry时，添加“空间分析（Spatial Analysis）”菜单
2)增加void OnSpatialAnalysis( wxCommandEvent &event )：调用4.2)CAssessorFrame:: ShowSpatialAnalysisSpaceCtrl，显示空间分析控件
2.更新CAssessorTreeCtrl
	1)增加treectrl类型：SpatialAnalysisTree_Ctrl，空间分析
3.增加CSpatialAnalysisTreeCtrl：空间分析的树控件
4.更新CAssessorFrame
	1)增加void CreateSpatialAnalysisSpaceCtrl()：创建空间分析的树控件
2)增加void ShowSpatialAnalysisSpaceCtrl(bool isShow, int selection)：显示\隐藏空间分析的树控件
	3)更新InitLayout：调用CreateSpatialAnalysisSpaceCtrl，创建空间分析的树控件
	4)更新OnWindowClose：提示用户保存当前编辑的图层
	5)更新OnClose：提示用户保存当前编辑的图层
	6)更新OnEditToolControl：保存编辑、保存新版的功能，在非编辑时，不可用
	7)更新CreateToolBars：保存编辑、保存新版的功能，默认不可用
5.更新CResourcePredicationDetailListDlg：“选中频次”可排序
	1)增加struct SelectedNumberInfo：保存“选中频次”信息
	{
		wxString m_name;
		int m_times;
		std::vector<wxString> m_conditions;
	};
2)增加static bool CompareSelectedNumberAsc(const SelectedNumberInfo &x1, const SelectedNumberInfo &x2)、static bool CompareSelectedNumberDesc(const SelectedNumberInfo &x1, const SelectedNumberInfo &x2)：升序、降序比较“选中频次”
	3)增加void OnSelectedNumberSort(wxCommandEvent &event)：升序、降序排列“选中频次”
4)增加void OnColLabelRClick(wxGridEvent &event)：右击列头，显示“升序”、“降序”菜单
6.更新CPflCommitPage
	1)更新OnCommit：不提交“内\外点组合”防止提交死机
7.更新CPflPracticePage
	1)更新RestoreParametervector：防止读取“蒙特卡洛”类型错误
8.更新CShplayerSelectionDlg
	1)更新OnItemRClick：右击根节点，弹出“公式”菜单
2)增加void OnFormula( wxCommandEvent& event )：调用CFormulaParserDlg，编辑图层属性表的公式
9.更新CFormulaParserDlg：图层属性表间的操作
1)增加构造函数：CFormulaParserDlg(wxWindow *parent, const std::vector<CAnyViewHook*> &hookList, const std::vector<std::vector<unsigned long> > &indexList)：适用于sde图层
2)―10)sde相关的函数
2)增加wxSizer * InitOutPutSizer()
3)增加void InsertCols( const wxString &title,int col, int width )
3)增加void InsertOutputItems()
4)增加void InitData()
5)增加void InitChoices(bool isInitial = true, bool isOutput = true)
6)增加void DoInitChoices(bool isInitial, bool isOutput, int layerId, int fieldId, int geoId, const LayerItems &items, int &selection)
7)增加void GetLayerItems(CAnySdeGeometryLayer *hook, LayerItems &items, const LayerItemData &itemData, std::vector<unsigned long> &idxList = std::vector<unsigned long>())
	8)增加void OnAddItem(wxCommandEvent& event);
9)增加void OnDeleteItem(wxCommandEvent& event);
10)增加void ApplySde()
	11)增加结构struct LayerItem：记录图层相关信息
12)增加成员变量std::vector<CAnyViewHook*> m_hookList、std::vector<std::vector<unsigned long> > m_idxList、bool m_isSdeMode、CMyListCtrl * m_listCtrl、int m_outputLayerSelection、LayerItems m_outputChoices、LayerItems m_outputItems、int m_inputLayerSelection、LayerItems m_inputChoices、LayerItems m_inputItems
10.更新CLayerTreeCtrl
	1)更新ShowMenu：记录当前图层的filepath
2)更新OnStartEdit：指定图层执行“开始编辑”时，先聚焦该图层，之后将该图层设置为待编辑状态
11.更新CWorkMapCanvas
1)更新OnLButtonDblClick：多选图元模式，多边形拾取，高亮显示选择的图元，之后复制、粘贴等操作
	2)更新OnContextMenu：多选图元情况下，弹出“批量编辑”菜单
3)增加void OnBatchModify( wxCommandEvent &event )：响应“批量编辑”菜单，弹出配置窗口
12.更新CWorkShapePropertyTablePanel
	1)增加成员变量wxStaticText *m_hookNameText：显示图层名称
	2)更新Creategriddownbar：增加显示图层名称的控件
	3)更新DisplayGridData：显示图层名称

--------------------------------------------------------------------------------------------------
20150717
李治昊
2015/7/13C 2015/7/17
1.更新CSDELayerProfilePage
1)更新InitGrid：“Color Range”页面，增加“符号大小”、“显示字段”两个属性列；poly图层，隐藏“显示字段”属性列
2)更新InitGridData：读取“符号大小”、“显示字段”两个属性列数值
3)更新OnRangeColorAdd：增加“符号大小”、“显示字段”两个属性列的默认数值
4)更新结构struct fielddes：增加成员变量std::vector<double> m_symbolSizes、std::vector<int> m_symbolStyles、std::vector<std::string> m_textFields，分别记录“符号大小”、“符号风格”、“显示字段”
5)更新SaveCurentColorRangetoUpMem：改名为SaveCurentColorRangetoDB；调用CAnySdeGeometryLayer::SetFeaturePorperties存储除颜色外的属性到数据库
	6)更新SaveCurentColorRangetoMem：存储“符号大小”、“显示字段”两个属性到内存
7)更新InitSelectedGeometries：因增加了增加“符号大小”、“显示字段”两个属性列，改变窗口大小
8)更新LoadFeatureTableFields：调用CAnySdeGeometryLayer::LoadFeaturePorperties，读取 “符号大小”、“显示字段”两个属性
2.更新CWorkMapCanvas
1)更新OnKeyDown：ctrl+d时，删除选中图元；复制图元后将内存和剪切板中图元设置为新生成的图元
	2)更新OnBatchModify：响应批量修改图元属性；响应批量删除图元
3.更新CLayerTreeCtrl
1)更新OnItemActivated：调用CAnySdeGeometryLayer::LoadFeaturePorperties，读取 “符号大小”、“显示字段”两个属性
2)更新DoImportSdeGeometryLayerFromDB：调用AnySdeGeometryLayer::LoadFeaturePorperties，读取 “符号大小”、“显示字段”两个属性
3)更新OnImportSdeGeometryLayerFromDB：调用AnySdeGeometryLayer::LoadFeaturePorperties，读取 “符号大小”、“显示字段”两个属性
4)更新DoCreateNewGISLayerFromExitLayer：调用CAnySdeGeometryLayer::LoadFeature- Porperties，读取 “符号大小”、“显示字段”两个属性
4.更新CSeismicLayerTreeCtrl
1)更新OnItemActivated：调用CAnySdeGeometryLayer::LoadFeaturePorperties，读取 “符号大小”、“显示字段”两个属性
5.更新CShplayerSelectionDlg
1)更新static long CopyGeometry(boost::shared_ptr<CAnySdeGeometry> geometry, CAnySdeGeometryLayer *sdeLayer)：返回类型由bool改为long，为复制产生新图元的id
--------------------------------------------------------------------------------------------------
20150722
李治昊
2015/7/20 C 2015/7/24
1.更新CAssessorFrame
1)更新CreateGeometryEditTypeToolBar：修改图元编辑工具条item的名称（移动图元等改为移动拐点等）
2)更新OnEditToolControl：样条插值在线、面图层可用；保存编辑、保存版本执行后，不再关闭编辑状态条
	3)更新ResetFrame：sde编辑工具条存在时，设置开始编辑图标，之后隐藏
4)更新void ShowSpatialAnalysisSpaceCtrl(bool isShow, const wxString &layerName)：第二个参数由int改为wxString类型，设置当前激活的图层名称
2.更新CFormulaParserDlg
	1)更新InitPage、InitInputSizer、InitOutPutSizer：隐藏输出项相关控件
	2)更新ApplySde：解析字符串，获取输出对象m_outputItems，之后计算
3)增加struct TargetItem : public LayerItem；typedef std::vector<TargetItem> TargetItems：便于CEvidenceWeightModelDlg调用
4)更新static void GetLayerItems(CAnySdeGeometryLayer *hook, TargetItems &items, const LayerItemData &itemData, std::vector<unsigned long> &idxList = std::vector<unsigned long>())：改为public、static、参数LayerItems &items改为TargetItems &items便于类外(CEvidenceWeightModelDlg)调用
3.更新CSpatialAnalysisTreeCtrl
	1)更新DoLoadTreeItems：增加“图元代数分析”节点
2)更新OnItemActivated、ShowMenu、OnMapAlgebra：响应“图元代数分析”节点的动作；响应“证据权”节点动作
3)增加成员变量：wxString m_curLayerName（存储当前激活的图层名称），bool m_isGeometryAlgebra（地图代数模式是否激活）
4)增加bool IsGeometryAlgebraActivated()：m_curLayerName不空，并且m_isGeometryAlgebra为true时，返回true
4.更新CWorkMapCanvas
1)更新OnLButtonUp：3.4)IsGeometryAlgebraActivated为真时，拾取到图元后，再通过该图元范围步查找包含的图元；改变选中line的颜色，便于观察
2)增加void QueryFromExistSdeLayerExtent()：通过拾取到一个图元后，再通过该图元范围步查找包含的图元
	3)更新OnContextMenu：多选图元模式下弹出“抽稀”菜单
	4)更新OnBatchModify：增加响应菜单“抽稀”的动作
	5)更新OnKeyDown：增加响应 “抽稀”(ctrl +ｔ)的动作
6)更新OnLButtonDblClick：3.4)IsGeometryAlgebraActivated为真时，拾取到图元后，再通过该图元范围步查找包含的图元
5.更新CSDELayerProfilePage
1)更新构造函数CSDELayerProfilePage(wxWindow *parent, AnyMap::CAnyViewHook *hook, const std::vector<unsigned long> &selectedGeometries = std::vector<unsigned long>(), bool isDataThinning = false)：增加参数bool isDataThinning，是否为配置抽稀模式
2)增加成员变量bool m_isDataThinning：是否为配置抽稀模式
6.更新CWorkShapePropertyTablePanel
	1)增加SaveAllChanges：保存所有属性内容
2)增加bool DoSaveChanges( int row, int col, bool isAll)：封装提交表格内容（属性）到数据库的功能
	3)更新InitGrid：放开粘贴的功能，m_grid->SetPasteEnable(true)
	4)更新Creategriddownbar：增加“保存”按钮
	5)增加void OnSave(wxCommandEvent& event)：响应“保存”按钮
7.更新CCreateNewGISLayer
	1)更新OnEditField：增加字段时，检查非法字段名“name”、“names”
	2)更新InitData：新建图层时，增加默认字段“filename”、“remark”
8.更新CToolboxTernarySourcePage
	1)更新InitFieldCombobox：属性字段，列选项增加“文件名”项
	2)更新OnComboboxSelected：增加处理“文件名”选项
3)增加std::string GetFileName()：根据文件路径获取文件名；处理掉非法字符，例如“-”，字符串开始不能为数字等
	4)更新DoGetProperties：属性列选择文件名称时，设置属性为“文件名”
9.增加CEvidenceWeightModelDlg：证据权窗口

--------------------------------------------------------------------------------------------------
20150731
李治昊
2015/7/27 C 2015/7/31
1.更新CAssessorFrame
1)更新ResetFrame：重置窗口内容时设置“开始/结束编辑”按钮时，图标设置为“startedit_xpm”，提示内容设置为"Start Editting"
2)更新OnLayerComboBoxCloseUp：下拉框结束时，设置“开始/结束编辑”按钮时，图标设置为“startedit_xpm”，提示内容设置为"Start Editting"
	3)更新OnEditToolControl：结束编辑\保存\提交版本后，不再显示锚点等
2.更新CWorkShapePropertyTablePanel
1)更新DoSaveChanges：CAnyAccessor accessor执行时，放入括号中，执行析构，防止数据库查询速度慢等
3.更新CFormulaParserDlg
	1)更新结构TargetItem：增加double m_min、double m_max，最大、最小值
	2)增加static void GetItemMinMax(TargetItem &item)：根据字段名获取该字段最大、最小值
4.更新CEvidenceWeightModelDlg
	1)更新InitData：读取等值线图层数据
2)更新OnAddItem：调用3.2)GetItemMinMax，根据字段名获取该字段最大、最小值；增加item成功后，调用6)LoadExtent重新计算图层的交集范围
3)更新OnCellValueChanged：改变字段名后，调用3.2)GetItemMinMax，根据字段名获取该字段最大、最小值
	4)更新InitGrid：增加“最大值”、“最小值”列
	5)更新InitTargetLayers：设置grid中“最大值”、“最小值”列
	6)更新LoadExtent：自动设置图层的交集范围
7)更新OnDeleteItem：删除图册后，调用6)LoadExtent重新计算图层的交集范围
8)更新CreateContourLayer：调用5.1)CLayerTreeCtrl::CreateContourLayer，创建等值线图层
5.更新CLayerTreeCtrl
1)增加static CAnyViewHook *CreateContourLayer(CGeoPoint<double> *cells, int row, int col, const std::string &layername, bool isFreeCells = true, bool isCommit = true, bool isRefresh = true)：封装通过cells创建等值线图层的函数
6.更新CActivityTreeCtrl
1)更新DoRunRasterAnalysis：调用5.1)CLayerTreeCtrl::CreateContourLayer，创建等值线图层
--------------------------------------------------------------------------------------------------
20150807
李治昊
2015/8/3 C 2015/8/7
1.更新CLayerTreeCtrl
1)更新DoReloadSdeGeometryLayer：数据库中无内容时，直接返回，不再弹出选择图层类型的窗口
2)更新static CAnyViewHook *CreateContourLayer(CGeoPoint<double> *cells, int number, int row, int col, const std::string &layername, bool isFreeCells = true, bool isCommit = true, bool isRefresh = true)：增加int number，对应cells的大小（原先对应大小为row*col）；等值线图层存在时，刷新后需要保存，防止下次打开软件图层内容不对
3)增加void ActivateItem(const std::string &itemname, wxTreeItemId *itemId = 0)：封装激活图层的功能，便于在类外调用
4)更新OnItemActivated：调用ActivateItem
5)增加void CreateGISLayer(const std::string &layerName, int layerType, bool isShown, std::vector<DBFieldDesc> &addedFields, const  std::vector<std::vector<CGeoPoint- <double>>> &pts,std::map<std::string, std::vector<std::vector<std::string>>> &fieldContentMap, const CGeoRect<double> &extent, CSeismicLayerTreeCtrl *seimictree = 0, int xCount = 10, int yCount = 10, int xShift = 2, int yShift = 2, int cacheSize = 100, int indexLimit = 1000)：封装创建geometry图元的功能
6)更新DoCreateNewGISLayer：调用5)CreateGISLayer，创建geometry图元
7)更新ShowMenu：等值线图层、sde点图层，弹出菜单“Voronoi Diagram”
8)增加void OnVoronoiDiagram( wxCommandEvent &event )：响应“Voronoi Diagram”，调用CAnyProximityPolygon:: ConstructProximityPolygon产生一组小多边形，之后创建面图层
2.更新CAssessorFrame
	1)更新OnLayerComboBoxCloseUp：切换图层后设置“保存”、“新版本”按钮为不可用
2)更新OnLayerComboBoxDropDown：下拉combobox后，选择名称与当前编辑图层不一样时，先提示存储正在编辑的图层，之后改变工具条状态、读取待编辑的图层
3.更新CToolboxTernarySourcePage：数据库中表名不能包含“.-”等
1)更新static std::string GetFileName(const wxString &fileName)：处理文件名中的非法字符，改为static，便于其他类调用
	2)更新DoGetProperties：调用GetFileName时传入m_path
4.更新CCreateNewGISLayer
	1)更新OnImport：调用CToolboxTernarySourcePage::GetFileName时传入m_path
2)更新ApplySetting：调用CToolboxTernarySourcePage::GetFileName，处理文件名中的非法字符
5.更新CToolboxScatterMatrixSourcePage
1)更新SetGridData：string curValue = str.ToStdString()转换后，当curValue为空但str不空情况下设置curValue = str.ToUTF8()，防止都不出数据
6.更新CEvidenceWeightModelDlg
	1)更新InitInputLayerSizer：增加阈值判断函数的控件
	2)更新InitData：初始化阈值判断函数的控件内容，包含>=,<等
3)更新OnOK：获取阈值判断条件的选择，调用CAnyEvidenceWeightModel::EvidenceLayer的BindValidFunction、BindNoneFunction，绑定判定函数；调用底层后，将图层是否为证据图层写回界面
7.更新CRasterCalculatorDlg
	1)更新InitLayout：地图代数模式，增加“绘制网格”勾选项
	2)更新bool IsRenderGrid()：返回“绘制网格”控件是否勾选
8.更新CWorkMapCanvas
	1)更新QueryFromExistSdeLayerExtent：m_idxList中包含查询到的id时，才弹出图元代数窗口
2)更新OnLButtonUp：CGeoPoint<double> *trackPts = m_view->GetTrackPoints(number)，number不为0时，弹出查询窗口
9.更新CSDELayerProfilePage
1)更新ApplySetting：仅抽稀时，调用CAnySdeGeometryLayer::SimplifyGeometries，进行图元粗化
--------------------------------------------------------------------------------------------------
20150813
李治昊
2015/8/10 C 2015/8/14
2015/8/10 C 2015/8/14
1.更新CToolboxScatterMatrixSourcePage
1)更新SetGridData：string curValue = str.ToStdString()转换后，当curValue为空但str不空情况下设置curValue = str. To8BitData ()，防止数据读取出错
2.增加CAddGeometryDlg，输入坐标点创建图元的对话框
3.更新CWorkMapCanvas
	1)更新OnContextMenu：sde geometry图层为创建图元动作时，弹出菜单“创建图元(精确)”
2)增加void OnAddGeometryPrecisely( wxCommandEvent &event )：响应菜单“创建图元(精确)”，调用2.CAddGeometryDlg，弹出创建图元对话框；之后调用CAnySdeGeometryEditor:: AddGeometries，创建图元
3)更新OnLButtonDblClick、OnLButtonUp：正在编辑图层时，查询图元只显示当前图层的图元，不显示其他图层图元
4.更新CSDELayerProfilePage
	1)更新InitPage：“符号大小”最小值设置0，表示不显示该图元
5.更新CAssessorFrame
	1)更新OnEditTypeToolControl：最后刷新图版内容，去除高亮显示等
6.更新CLayerTreeCtrl
1)更新OnRemoveHook：删除等值线图层时，先将dummy_map_algebra、dummy_evidence_weight图层的m_layer置空，防止删除后m_layer对象不存在产生死机的情况
	2)更新ActivateItem：图层激活后，如属性表存在，则切换属性表
7.更新CActivityTreeCtrl
1)更新DoRunRasterAnalysis：取消运行“控件分析”模块需要指定对象的功能（m_curObject），对象id用CLayerTreeCtrl的m_bindedelementid替代
--------------------------------------------------------------------------------------------------
20150821
李治昊
2015/8/17 C 2015/8/21
1.更新CResourcePredicationDetailListDlg：增加对图元代数分析历史记录的读取
	1)更新enum ScatterCanvsType，增加图元代数对应的id：ID_SPATIAL_Geometry_Algebra
2)更新构造函数、OnOK、OnBtnDelRec、OnListDelete、InitLis、LoadLayerandFields
3)更新DoListResourcePractice：地图代数、图元代数历史记录增加显示“别名”、“公式”
4)更新DelSPMAPCALCulationPractice：删除语句时
2.更新CFormulaParserDlg
	1)增加OnPractice：读取图元代数公式的历史记录
2)增加OnCommit：保存图元代数公式记录
3.更新CConditionProbabilityDlg：筛选数据时选择与当前用户一致的记录
	1)更新InitResourcePredictionData、InitResourceComparisonData
4.更新CNpvPracticePage
1)更新ResetResourceRecord：isLoaded为false时，直接调用CNpvResourceRecordPage:: ResetRecord(0)
5.更新CNpvResourceRecordPage
1)更新ResetRecord：初始化默认参数时，单井模式时，设置默认资源活动为EAT_Well_EUR（单井eur），其他模式设置默认资源活动为EAT_Value_Prospect（多层资源量计算）
2)更新GetActivityName：activityType为EAT_Well_EUR，返回名称为“单井”
3)更新long GetPracticeIdx( CAccumulationAssessor *assessor,CAccumulationElement *element,CLightGrid *grid, int activityType)：增加int activityType，为EAT_Well_EUR不匹配资源名称
4)更新DoLoadResourceAccumulation：activityType为EAT_Well_EUR不匹配资源名称
6.更新CNpvPracticeDlg
	1)更新InitLayout：单井模式，资源活动类型下拉框仅添加单井（EAT_Well_EUR）
	2)更新OnTypeChoice：单井模式，资源活动类型设置为单井（EAT_Well_EUR）
7.更新CNpvCostPlayRecordPage
1)更新DoCalculateTotalCost：计算井数为（预测数 C 已发现）/钻井成功率；成本为井数*单井成本*（1+地震/钻井系数）
2)增加成员变量double m_predictedRes，double m_sampleRes：用于记录预测的资源量、已发现资源量
3)更新DoInitGridData：读取预测的资源量、已发现资源量
8.更新CWorkMapCanvas
	1)更新OnContextMenu：sde geometry图层为“移动图元”动作时，弹出菜单“移动图元(精确)”
2)增加void OnAddGeometryPrecisely( wxCommandEvent &event )：响应菜单“移动图元(精确)”，调用2.CAddGeometryDlg，弹出移动图元对话框
9.更新CRasterCalculatorDlg
	1)更新OnPractice：读取时不读取别名
2)更新OnCommit：保存公式时，可存储别名
10.更新CToolboxContourWizard
	1)更新SetSamplesAndSettings：函数最后释放内存，防止释放后再读取导致数据不对
--------------------------------------------------------------------------------------------------
20150828
李治昊
2015/8/24 C 2015/8/28
1.更新CRasterCalculatorDlg：与地图交互选择图层叠加范围，所有图层均可指定插值范围
1)更新构造函数：继承窗口时，风格由wxDEFAULT_DIALOG_STYLE改为wxDEFAULT_FRAME_STYLE，增加最大化、最小化窗口
2)更新InitLayout：增加extent、polygon关键词的按钮
3)增加bool m_isPolygonMode：是否为与地图交互模式
	4)更新OnBtnOperator：响应extent、polygon关键词的填写
5)增加bool HandlePolygonPts(std::vector<CGeoPoint<double>> &pts)：根据地图框选范围，将一组坐标点写入文本框中
6)更新DoHandleRatserLayers：处理Polygon关键字，获取一组pts，之后插值；调用7) IsPolygonAndRectIntersect，相交时z值设置为1
7)增加static bool IsPolygonAndRectIntersect(const std::vector<CGeoPoint<double>> &polys, const CGeoRect<double> &rect)：检查多边形与矩形是否相交
8)增加成员变量bool m_isShowModal：是否为无模式对话框，true时不为无模式对话框
9)增加bool HandleLayerExtentPolygon()：检查公式中的自定义插值范围
10)更新rastercaldlgstruct：增加变量std::vector<double> m_customizedExtent，记录自定义地图范围
11)更新GetParameters：公式中包含图层时，获取该图层范围；自定义范围存在时（m_customizedExtent），图层范围获取为该自定义范围
2.更新CWorkMapCanvas
1)更新OnLButtonDblClick：CRasterCalculatorDlg的m_isPolygonMode模式时，地图框选后，调用CRasterCalculatorDlg:: HandlePolygonPts将一组坐标点写入文本框中
3.更新CFormulaParserDlg
	1)更新结构TargetItem：增加double m_mid，存储排序后中间值
	2)更新GetItemMinMax：获取TargetItem的m_mid值
4.更新CEvidenceWeightModelDlg
	1)更新InitGrid：隐藏“干井阈值”列
	2)更新InitData：等值线图层获取每个TargetItem的m_mid值
	3)更新InitTargetLayers：-0.00显示0.00
	4)更新OnCellRightClick：右键点击证据图层时，弹出“网格信息”菜单
	5)增加OnRasterCellInfo：显示网格数量信息
5.更新CToolboxContourGridPage/ ContourGridPage：
	1)更新SetZValueRange：设置默认等值线间隔为(zMax-zMin)/5
2)更新InitContourModeSizer、OnCheckBox、LoadDisplayMode、SetDisplayMode：增加CRS_Sample_Color_By_Value模式的check控件，按插值设置样本点颜色
6.更新CToolboxScatterMatrixSourcePage
1)更新static bool OpenTextFile(const wxString &path, CLightGrid *grid, bool isFloatNum = true, bool isGivenTip = true)：增加参数bool isGivenTip，打不开文件时默认提示用户
2)更新static bool OpenExcelOrDBFile(wxWindow *parent, wxString &path, wxGrid *grid, short type, bool isFloatNum = true, bool isGivenTip = true)：增加参数bool isGivenTip，打不开文件时默认提示用户
7.更新CToolboxContourSourcePage
1)更新bool OpenFile(const wxString &path, int selection = 0, bool isGivenTip = true)：增加参数bool isGivenTip，打不开文件时默认提示用户
2)更新void ResetGridData(const CGeoPoint<double> *samples, int number, const CAnyContour::ContourSetting &setting, const CGeoPoint<double> *krigingSamples)：增加参数const CGeoPoint<double> *krigingSamples，读取克里金数据
8.更新CToolboxContourWizard
	1)更新LoadContourSetting：文件不存在时，从等值线图层加载数据
	2)更新OnWizardPageEnd：创建等值线图层后，设置layertree中新生成item的图标
9.更新CCreateNewGISLayer
	1)更新InitPage：增加‘属性模板’按钮
2)更新OnEditField：响应‘属性模板’按钮，选择一个图层，将其属性字段提取出来，作为待导入的字段
10.更新CLayerTreeCtrl
	1)更新DoLoadItemImages：增加等值线、测井、gis、2d地震、3d地震、复合图层、picture图例
	2)更新InitDefaultLayers：设置图层图标（SetItemImage）
	3)更新ActivateItem：设置sde图层图标
4)更新CreateContourLayer、OnContourTrendSurface：创建等值线图层后，设置layertree中新生成item的图标
11.更新CResourceModelSimulatorDlg::OnOK、CResourceAbundanceStochasticsDlg::DoShowMap、CLinearFittingDlg::ShowMap、CGeologicalModelSimulatorDlg::ShowMap、ContourGridPage::DoImportContour：创建等值线图层后，设置layertree中新生成item的图标

--------------------------------------------------------------------------------------------------
20150902
李治昊
2015/8/31 C 2015/9/4
1.更新CWorkMapCanvas
1)更新OnContextMenu：线图层选中两个以上图元时，弹出‘合并线段’菜单
	2)更新OnKeyDown：增加‘合并线段’的响应，ctrl+m
	3)更新OnBatchModify：响应‘合并线段’，调用CAnySdeGeometryEditor::MergeLines
2.更新CNpvAbroadSolutionRemarkDlg
	1)增加成员变量CAnyGenericNPVCostStrategy<CAnyGenericNPVPriceStrategy, \
CAnyGenericNPVProductionStrategy, CAnyGenericNPVInvestStrategy> *m_costNpv：成本参数对应的对象
2)更新构造函数：初始化m_costNpv
3)更新DoUpdate：更新、创建‘方案’时，同时改变成本参数	m_costNpv->UpdateSolution(newKey.ToStdString(),oldKey.ToStdString(),remark.ToStdString())
	4)更新OnDelete：删除‘方案’时，同时删除成本参数的方案
3.更新CSDELayerProfilePage
1)增加wxArrayString m_styleChoices：存储风格选择
2)更新InitGrid：增加一列，用于设置风格：线形（线图层）、符号样式（点图层）、是否填充设置（面图层）
	3)更新InitGridData：设置风格列的值
	4)更新SaveCurentColorRangetoMem：设置风格变量m_fieldsdes[order].m_symbolStyles的值
5)更新InitSelectedGeometries：由于增加了一列，需要更改‘批量设置’时的窗口大小；存储不同颜色等配置，防止颜色等再次设置时被冲掉
4.更新CLightGrid
1)更新OnSetValue：设置列值时，该列有选项时弹出wxSingleChoiceDialog，列出一组选项供用户选择；否则弹出wxTextEntryDialog，设置文本
5.更新CToolboxTernarySourcePage
1)更新OpenFile( const wxString &path, int selection, bool isOnlyRadioSelect)：selection为-1且文件为excel、mdb文件时，当path不存在分隔符时（|），增加m_path（E:\A.xls|0）分隔符后面的表index(0)，防止读取excel、mdb文件数据出错
2)更新GetImportedData、GetProperties：读取打开文件时(m_strPaths)，调用OpenFile(m_strPaths.Item(i),-1)
6.更新CToolboxContourGridPage
1)增加wxStaticBoxSizer *InitXYTimesSizer(wxWindow *parent)：设置x、y列的缩放倍数
2)更新InitGridDataPanel：调用InitXYTimesSizer，创建设置x、y列的缩放倍数控件
7.更新CToolboxContourWizard
	1)更新SetContourSetting：设置x、y列的缩放倍数
	2)更新LoadContourSetting：读取dx、y列的缩放倍数
8.更新CPflCommitPage
	1)更新OnCommit：只提交参数，不提交结果，防止网络版死机

--------------------------------------------------------------------------------------------------
20150911
李治昊
2015/9/7 C 2015/9/11
1.更新CToolboxContourGridPage
1)更新DoInitColumnChoiceSizer：初始情况，combobox插入足够多的item（30个），防止读取时因列数量超过该combobox，列order设置不正确的问题
	2)更新OnComboBoxSelected：z列的combobox变化时，设置默认自定义z范围为该列的最大最小值
2.更新CToolboxContourSourcePage：wxWidgets有错误，界面存在combobox且wxPropertyGrid- Manager类的实例中也存在combobox时，会出现event调用出错
1)更新ResetGridData：由于打不开源文件时才执行该函数，此时设置ContourSetting &setting的x、y、z、z1的列数为0，1，2，3等，防止打开出错
	2)增加bool m_isPropertyExecuted：标记属性配置变化（）
	3)更新OnPropertyChanged、OnPropertyChanging：设置m_isPropertyExecuted为true
	4)更新OnComboBoxSelected：m_isPropertyExecuted为true时，不执行功能，防止重复设置出错
3.更新CWorkMapCanvas
	1)增加成员变量bool m_isMenuExecutedInside：功能是否为右键菜单激活
2)更新OnPan：右键执行pan，如果存在正在编辑的图层，将工具条的状态也设置为平移
4.更新CAssessorFrame
1)更新OnEditTypeToolControl：执行“平移”时，先设置CWorkMapCanvas:: m_isMenuExecutedInside为false，执行CWorkMapCanvas::OnPan之后在设置m_isMenuExecutedInside为true
2)更新OnNotebookPageClose、OnTabClose、OnTabCloseAll、OnTabCloseAllButThis：关闭tab页时，提示用户保存图层
5.更新CSDELayerProfilePage
1)更新OnRangeColorRemove：删除所有属性后，不再添加默认属性
2)更新InitGridData：文本字段，属性划分的表格只显示不相同的字段内容
6.更新CLayerTreeCtrl
1)更新OnRemoveHook：删除sde图层时，如果该图层正在编辑，则先停止编辑然后再删除，防止再进行编辑时出错
2)更新OnEndLabelEdit：重命名后，如果打开的属性表为当前图层时，重新刷新当前图层的属性
3)更新DoCreateNewGISLayer：创建图层后，存储描述备注
4)更新OnEditUser：调用10.CLayerAuthorityDlg，可一次性授权多个图层
7.更新CToolboxTernarySourcePage
1)更新DoGetProperties：循环填写字段数据时，遇见未绑定列的字段，用continue跳过，进行下一个字段数据填写（原先return了，导致有些字段数据不能导入）
8.更新CWorkShapePropertyTablePanel
1)更新DisplayGridData：显示图层名称为itemname（原先为filename），这样使得layertree中图层名称打开的属性表名称对应，防止图层名称更改后，打开的属性表名称仍是原来的
9.更新CCreateNewGISLayer
	1)增加std::string m_description，std::string m_remark：存储描述、备注
	2)更新InitVariables：初始化m_description、m_remark为空字符串
	3)更新ApplySetting：存储描述、备注（m_description、m_remark）
10.增加CLayerAuthorityDlg，图层授权窗口，可一次性授权多个图层
--------------------------------------------------------------------------------------------------
20150917
李治昊
2015/9/14 C 2015/9/19
1.更新CToolboxContourSourcePage
	1)更新OpenFile：设置默认图层名称为文件名，原先为路径名（太长）
	2)更新CheckEnableChanging：检查列数，必须至少为3列
2.更新CToolboxContourGridPage
1)增加wxStaticBoxSizer *InitInverseDistanceWeightingSizer( wxWindow *parent)：设置距离反平方最大、最小发现个数
	2)更新InitKrigingSettingPanel：添加1)InitInverseDistanceWeightingSizer
3)增加成员变量wxSpinCtrl *m_minIDWNum、wxSpinCtrl *m_maxIDWNum：表示距离反平方最大、最小发现个数
	4)更新OnWizardPageshow：设置距离反平方最大个数为样本数
3.更新CToolboxContourWizard
	1)更新SetContourSetting：设置距离反平方最大、最小发现个数
	2)更新LoadContourSetting：读取并显示距离反平方最大、最小发现个数
4.更新CAssessorFrame
1)更新OnNotebookPageClose、OnTabClose、OnTabCloseAll、OnTabCloseAllButThis：关闭tab页时，先提示用户保存图层（之前是先提示关闭，再提示保存）
5.更新CCreateNewGISLayer
	1)更新InitData：新建图层时，默认图层范围为所有图层范围的union
6.更新CWorkShapePropertyTablePanel
	1)更新OnRclickLable：col为-1时，不再执行功能，防止死机
	2)更新Creategriddownbar：增加“刷新”按钮，重新读取当前图层的属性内容
	3)更新setGridData：读取属性表内容时，image字段如果存在内容时，设置cell底色为绿色
	4)更新OnCellDClick：image字段加载\删除文件后，设置cell底色为绿色\表格背景色
5)增加static char* DoLoadRemarkImage(AnyMap::CAnyViewHook *hook, long idx,string &blobfieldname,char* imagedata, long &length)：封装读取图层image类型字段内容的功能
6)增加static char* DoSaveRemarkImage (AnyMap::CAnyViewHook *hook, long idx,string &blobfieldname,char* imagedata, long &length)：封装存储图层image类型字段内容的功能
7)更新OnRclickLable：弹出统计菜单，包括“图元代数”、“面积”、“周长”、“长度”等
8)增加void OnStat(wxCommandEvent& event)：响应统计功能，“图元代数”、“面积”、“周长”、“长度”
7.更新CShplayerSelectionDlg
	1)增加成员变量std::map<long,std::string> m_imageData：记录image的行和字段名称
	2)更新OnItemSelected：记录image的行和字段名称到m_imageData
	3)增加OnListItemActivated：双击list中item，如果是image字段，弹出加载图片窗口
8.更新CSDELayerProfilePage
1)更新OnFieldListRightClick：弹出统计菜单，包括“图元代数”、“面积”、“周长”、“长度”等
2)增加void OnStat(wxCommandEvent& event)：响应统计功能，“图元代数”、“面积”、“周长”、“长度”
3)更新void LoadFeatureTables(bool isLoadFields = true, bool isLoadFeatureTable = true)：增加参数bool isLoadFeatureTable = true，true情况下加载属性表更新属性表选择控件，否则只加载当前属性表中内容到界面
4)更新OnAddField、OnRemoveField、OnFieldNameChanged、OnFieldTypeChanged、OnFieldWidthChanged：调用LoadFeatureTables(true,false)，重新加载属性表中内容到界面
9.更新CFormulaParserDlg
	1)增加enum GeometryAlgebraOp：代表图元代数的操作id
	{
		OP_Sum = -111,
		OP_Min,
		OP_Max,
		OP_Avg,
	};
2)更新DoInitChoices：图元下拉框中，增加“Sum”、“Min”、“Max”、“Avg.”，分别为总和、最小值、最大值、平均值
3)更新OnAddItem：增加item时，找到对应“Sum”、“Min”、“Max”、“Avg.”的id（GeometryAlgebraOp）
	4)更新ApplySde：处理公式中的总和、最小值、最大值、平均值
--------------------------------------------------------------------------------------------------
20151023
李治昊
2015/10/19 C 2015/10/23
1.更新CRasterCalculatorDlg
	1)更新InitLayout：“Special”更改为“Spitial Op.”
2.更新CWorkProbabilityTreeProfileDlg
	1)更新OnComboboxSelected：选择组合概率均值时，设置第二列概率值为该值
3.更新CNpvResourceRecordPage
	1)更新SaveLastPage：增加保存方案对应参数、
4.更新CToolboxTernaryWizard
	1)更新FinishPlot：设置文件名称代替文件路径，防止工作空间中tab页名称过长
5.更新CToolboxScatterMatrixWizard
	1)更新OnFinished：设置文件名称代替文件路径，防止工作空间中tab页名称过长
6.更新CPflCommitPage
	1)更新OnCommit：先检查计算结果是否为空，之后再提交
7.更新CNpvCostOilDetailDlg
	1)更新OnSave：执行保存后，执行Close关闭窗口
8.更新CNpvSecnarioRestrictiontDlg
	1)更新OnCommit：执行保存后，执行Close关闭窗口
9.更新CPflEfficentFrontPage
	1)更新DrawGraph：排除图中显示异常点（没有项目参与的点）
10.更新CToolboxContourGridPage
	1)更新InitZValueSizer：z值自定义范围可以为负值
11.更新CNpvAbroadParaSettingPage
	1)更新OnCellRClick：方案页面弹出参数管理，不弹出‘编辑公式菜单’
	2)更新UpdateRecord：增加参数时，如果是复制的参数，同时拷贝其公式
--------------------------------------------------------------------------------------------------
20151030
李治昊
2015/10/26 C 2015/10/30
1.更新CWorkMapCanvas
	1)更新OnLButtonDblClick：等值线图层裁剪时，询问用户是否进行样条插值
2.更新CRasterCalculatorDlg，内置地图代数范式
	1)更新InitLayout：增加范式“Normal Form”按钮
2)增加void OnNormalForm( wxCommandEvent &event )：响应“范式”，弹出窗口CMapAlgebraNormalFormDlg
3.增加CMapAlgebraNormalFormDlg，选择地图代数范式
4.更新CSDELayerProfilePage
	1)更新ApplySetting：设置polyStyle->m_linecolor
	2)更新InitPage：多边形线宽最小值改为0，意味着可以不画边框
5.更新CLayerTreeCtrl
	1)更新ActivateItem：设置默认polyStyle->m_linecolor为polyStyle->m_color
6.更新CFormulaParserDlg：图元代数，支持批量赋值
1)更新enum GeometryAlgebraOp：增加OP_All，对于输出项，为所有geometry id均操作；对于输入，等同于求和OP_Sum
	2)更新OnAddItem：处理字符串“All”（OP_All）
	3)更新DoInitChoices：增加geometry选项“All”
4)更新ApplySde：输出字符串增加FieldValue(layer.field.all)，即为所有layer的field字段赋值
7.更新CWorkScatterDetailDlg
	1)增加wxStaticText *m_formulaLabel：显示公式
2)更新InitFittingLinePage：增加显示公式的控件m_formulaLabel
	3)更新SetGridData：调用CAnyScatterMatrix::GetFittingLineFormula(type)，显示拟合公式
8.更新CWorkMapCanvas
	1)更新OnContextMenu：多选图元模式，增加‘外包多边形’菜单
	2)更新OnKeyDown：多选图元模式，响应‘外包多边形’ctrl+e
3)更新OnBatchModify：多选图元模式，响应‘外包多边形’，调用CAnySdeGeometryLayer::CreateEnclosingPolygon产生多边形的点，之后调用CLayerTreeCtrl::CreateGISLayer产生新图层
9.更新CCoordinateTransformDlg
1)更新wxStaticBoxSizer * DoInitFromToSizer(const wxString &name, int datumId, int projectionId, int ellpsId, int coordTypeId, int xTranslation, int yTranslation, int zTranslation, int xRotation, int yRotation, int zRotation, int scaleDiff)：增加7参数id设置（xTranslation之后的），增加7参数设置的控件
	2)更新OnOK：产生7参数的语句，设置入底层
10.更新CActivityTreeCtrl
	1)增加int m_plf_npv_mode：记录投资组合版，经济评价类型
2)更新DoRunNpv：m_plf_npv_mode不为-1时，直接打开相应模块；-1时，打开对话框，让用户选择类型
--------------------------------------------------------------------------------------------------
20151106
李治昊
2015/11/2 C 2015/11/6
1.更新CNpvScenarioPage
1)更新InitPage：海外财税模型，增加计算参数选择
2)增加成员变量：wxString m_shownKey、wxComboBox *m_categoryBox、wxComboBox *m_paraBox、DependedParaMap m_map、ParameterVector m_parameters、	int m_categorySel：海外财税模型，计算参数相关的变量
3)增加void InitParameterMap()：初始化参数列表
4)增加void ResetParameterChoice()：设置m_shownKey对应的参数
5)更新ResetRecord：海外模型，增加mid情景；海外模型，设置默认需要计算的参数名称
6)更新DoSetScenarioNodeSample：改为三分支后，不再设置另一分支的概率，需要保证三分支的概率和为1
7)更新SetAbroadScenarioNodeSample：改为三分支后，不再设置另一分支的概率，需要保证三分支的概率和为1
8)增加void GetParameterValueMap()：获取基准参数值，用于设置浮动
9)增加void OnCellRClick(wxGridEvent &event)：右键参数列，弹出“参数浮动”菜单
10)增加void OnParameterVariation(wxCommandEvent& event)：浮动设置窗口，获取参数后将浮动后数值填写回表格中
11)更新OnPageShow：调用GetParameterValueMap，获取基准参数值，用于设置浮动
2.更新IntegratedGrid
	1)更新CreateGridFromTrapelements：增加投资组合版本参数的读取
	2)更新CreateTrapelementsFromGrid：增加投资组合版本参数的设置
3.增加CNpvDeclineParaDlg：设置arps、lgm等递减类型的参数
4.更新CNpvEDPBasicRecordPage
	1)更新InitPage：m_declineTypes增加arps、duong等类型
2)更新void SetDeclineIndexCellStatus(bool isReset = true)：增加参数isReset，表示是否为重置参数；不重置参数时，递减类型为arps、lgm等，弹出参数设置窗口CNpvDeclineParaDlg
3)更新OnCellDClick：双击递减类型行，当递减类型为arps、lgm等，弹出参数设置窗口CNpvDeclineParaDlg
5.更新CNpvEDPScheduleRecordPage
	1)增加DeclineFittingPara m_declinePara：记录当前递减类型的参数
	2)更新SetEDPBasicRecord：设置m_declinePara为m_treeBook->m_evaluator->m_declinePara
3)更新IsEDPBasicRecordSame：判断m_treeBook->m_evaluator->m_declinePara和m_declinePara是否相同
6.更新CSDELayerProfilePage
1)更新struct fielddes：增加std::vector<int> m_minColors、std::vector<int> m_maxColors，表示一组最小值、最大值颜色，与std::vector<int> m_colors对应
2)更新InitGrid：增加两列“Min Color”、“Max Color”，将“color”改为“Mid Color”
3)更新InitGridData：根据m_fieldsdes[order]（struct fielddes的数组）的m_minColors、m_maxColors初始化表格
4)更新SaveCurentColorRangetoMem：增加获取m_fieldsdes[order]的m_minColors、m_maxColors
5)更新SaveCurentColorRangetoDB：调用CAnySdeGeometryLayer::SetFeatureRangeColor的参数，传入m_fieldsdes[order]的m_minColors、m_maxColors
	6)更新LoadFeatureTableFields：处理m_fieldsdes[order]的m_minColors、m_maxColors
	7)更新InitSelectedGeometries：处理m_fieldsdes[order]的m_minColors、m_maxColors
8)更新OnRangeColorFieldSelectionChanged：切换下拉选择框时，当前选择相同时，如果当前grid不含数据时，刷新当前选项内容
	9)更新onCellDbClick：双击颜色cell，处理最小、最大值颜色
7.更新CRasterCalculatorDlg
	1)更新DoHandleRatserLayers：解决raster、area关键词中存在小数生成图层失败的问题
--------------------------------------------------------------------------------------------------
20151113
李治昊
2015/11/9 C 2015/11/13
1.更新CWorkScatterMatrixCanvas
1)更新OnLButtonDClick：恢复调用m_view->DoubleClick(scrPoint)，防止交会图中多边形绘制拟合线无法结束的问题
2.更新CToolboxTernaryWizard
1)增加成员变量std::vector<DBFieldDesc> m_fields、std::map<std::string, int> m_fieldIdxMap、std::map<std::string, std::vector<std::vector<std::string>>> m_fieldContentMap、std::vector<DBFieldDesc> m_bkfields、std::map<std::string, int> m_bkfieldIdxMap、std::map<std::string, std::vector<std::vector<std::string>>> m_bkfieldContentMap：记录当前/备份的字段信息
3.增加CBindFieldlDlg：设置字段的类型，null为不绑定
4.更新CToolboxTernarySourcePage
1)更新OpenFile：打开文件后，调用CBindFieldlDlg，用户绑定字段
5.更新CCreateNewGISLayer
1)更新OnImport：为CToolboxTernaryWizard.1)的成员变量赋值；导入数据后，根据需要重新初始化字段下拉框
--------------------------------------------------------------------------------------------------
20151120
李治昊
2015/11/16 C 2015/11/20
1.更新CFormulaParserDlg
	1)更新struct LayerItem：增加成员变量bool m_isOverlay，表示该图层是否为覆盖查找
	2)更新struct TargetItem：初始化m_isOverlay，拷贝构造函数设置m_isOverlay
	3)更新InitVariableBtnsSizer：增加“Overlay”的勾选控件
4)更新OnAddItem：“Overlay”勾选时，设置字符串为FieldOverlay，同时设置TargetItem的m_isOverlay
	5)更新ApplySde：公式中包含FieldOverlay时，批量处理字段值
2.更新CToolboxScatterMatrixSourcePage
	1)更新OpenExcelOrDBFile：类型为DBS_SQLSERVER时，打开当前数据库
3.更新CToolboxContourSourcePage
	1)更新OnSelectFile、OpenFile：处理类型为DBS_SQLSERVER的响应，打开当前数据库
4.更新CGeneralDataAccessPanel
1)更新OnSelectFile、OpenFile：处理类型为DBS_SQLSERVER的响应，打开当前数据库
5.更新CSDELayerProfilePage
1)更新OnRangeColorAdd：增加行时，增加设置最大、最小值cell的颜色；线图层默认线宽为1，点图层默认符号大小为2
--------------------------------------------------------------------------------------------------
20151127
李治昊
2015/11/23 C 2015/11/27
1.增加CNpvWellCostFittingDlg：拟合钻井深度和钻井成本的窗口
2.更新CNpvWellCostDlg
	1)更新InitPage：增加‘钻井成本’的按钮
2)增加void OnWellCostFitting(wxCommandEvent& event)：响应‘钻井成本’的按钮，调用CNpvWellCostFittingDlg，进行钻井深度和钻井成本的拟合
	3)增加void UpdateWellDepthCost(double depth, double cost)：将depth、cost设置入表格
3.更新CNpvScatterCanvasDlg
1)更新构造函数：CNpvScatterCanvasDlg(wxWindow *parent, const wxString &title, bool isBtnShown = false)：增加参数bool isBtnShown，是否显示按钮（OK、Cancel）
2)增加成员变量bool m_isOk（OK是否被点击）、bool m_isBtnShown（是否显示按钮）
3)增加void OnCancel(wxCommandEvent& event)、void OnOK(wxCommandEvent& event)：响应按钮
4.更新CNPVScatterCanvas
	1)增加成员变量double m_fittingX、double m_fittingY：存储拟合的x、y值
	2)更新OnContextMenu：拟合线存在时，弹出‘拟合线’菜单
3)增加void OnFittingLine( wxCommandEvent& event )：调用CWorkScatterDetailDlg，弹出拟合线详细信息
5.更新CWorkScatterDetailDlg
	1)更新OnPredict：父对象为CNPVScatterCanvas时，更新4.1)的m_fittingX、m_fittingY
6.更新CGeneralDataAccessPanel
1)更新构造函数CGeneralDataAccessPanel(wxWindow *parent, const std::vector<std::string> &colnames = std::vector<std::string>())：增加参数const std::vector<std::string> &colnames，默认为空；存在内容时，根据数组的字符串，创建出列选择控件
2)增加成员变量std::vector<std::string> m_colnames（列下拉框名称）、std::map<std::string,int> m_colIdMap（列名称对应控件id）、std::map<std::string,int> m_colChoiceMap（列名称对应选择的列序号）
3)更新InitPage：m_colnames非空时，创建列选择下拉框，初始化m_colIdMap、m_colChoiceMap
	4)更新OpenFile：m_colnames非空时，根据列选择下拉框的内容，设置m_colChoiceMap
7.更新CGenDataAccessDlg
1)更新构造函数CGenDataAccessDlg (wxWindow *parent, const std::vector<std::string> &colnames = std::vector<std::string>())：增加参数const std::vector<std::string> &colnames，默认为空； 
2)增加成员变量std::vector<std::string> m_colnames，存储构造函数中的colnames
	3)更新InitLayout：将m_colnames传入CGeneralDataAccessPanel
	4)更新OnOK：m_colnames非空时，根据列选择下拉框的内容，设置m_colChoiceMap
8.更新CLayerAuthorityDlg
1)更新InitPage：增加按钮sizer时，proportion设置为0，Add(CreateButtonSizer(),0,wxALL|wxGROW,5)，防止用户过多时，按钮被压缩
--------------------------------------------------------------------------------------------------
20151218
李治昊
1.增加CNpvActivityRecordPage、CNpvActivityParameterDlg等类，用于经济评价设置activity
--------------------------------------------------------------------------------------------------
20151223
彭成
修改SEGY点拾取面元大小的BUG
--------------------------------------------------------------------------------------------------
20151225
李治昊
经济评价活动页面的条件设置；解决bug4020、3891、4178、4016、4125、4140、4180
1.更新CNpvCostDetailRecordPage：bug4020
1)更新InitGrid：将max列放在min列之前，让用户先设置最大值，防止出现“小值大于大值”的提示
2.更新CNpvCostBasicRecordPage：bug4020
1)更新InitGrid：将max列放在min列之前，让用户先设置最大值，防止出现“小值大于大值”的提示
3.更新CNpvActivityParameterDlg、CNpvActivityRuleEditDlg：设置活动的条件
4.更新CSDELayerProfilePage：bug3891
1)更新ApplySetting：获取字段名时，调用CToolboxTernarySourcePage::GetFileName，去除字段名称中非法字符
5.更新CNpvResourceRecordPage：bug4178
1)更新ResetRecord：评价项目时，设置‘体积法’为默认资源量计算方法
6.更新CNpvResourceRecordPage：bug4178
1)更新InitLayout：评价项目时，‘资源量计算方法’下拉框不可用（不可切换资源量计算方法）
7.更新CToolboxScatterMatrixProfilePage：bug4016
1)更新OnRadioBoxSelected：选择1:1模式时，棒状图时，拾取方式控件不可用
8.更新CSemiVariogramDlg：bug4140
	1)更新DrawExpCurve：没有数据时，不将数据加入到底层
9.更新CNpvScenarioPage：bug4180
1)更新OnParameterVariation：调用wxTextEntryDialog::SetTextValidator(wxFILTER_NUMERI- C)，仅输入数字（整数、小数）
10.更新CWorkDecisionTreeCanvas::OnBranchCountSetting、CWorkProbabilityTreeCanvas::OnBranchCountSetting、CWorkWellProfileCanvas::OnSeisScale、
CWorkProbabilityTreeCanvas::DoCreateProbabilityLevel、CHyperbolaCanvas::OnAddPoint、CHyperbolaCanvas::OnEditPoint、CSeismicEllipseDlg::ApplySettings、CSeismicHorizonSlicesPropertyDlg::ApplySettings、CSeismicTimeSlicesPropertyDlg::ApplySettings、CSeismicTranglarFilterDlg::ApplySettings：调用wxTextEntryDialog::SetTextValidator(wxFILTER_NUMERI- C)，仅输入数字（整数、小数）
--------------------------------------------------------------------------------------------------
wb 20151225
1  解决的 4129 4176 4127  4143 4026 3886 3969 3856
   4141：通过发现过程来改，不是直接改
   4137：增加了提示对话框
   4134：导入允许重名是为了满足圈闭等版本中用户需求而留的口子，原则上不允许重名
   4177：去掉了项目中的增加删除按钮，该按钮只在圈闭版中增加删除层圈闭有用
   4175：没有加入活动，所以无法恢复
   4024：右键可以读取递减曲线历史记录。未自动读取递减曲线历史记录，因为需要保持原始参数以供参考。
   3969：已按要求修改，但王的要求并不妥当
2  暂缓 4043  
3  未重现 4185  4037   4136  4171 4147 
4  4135转彭 
--------------------------------------------------------------------------------------------------
pc 20151231
数字岩心分布式存储及显示模块
--------------------------------------------------------------------------------------------------
wb 20151231
1 提交RO模块修改，增加了 生 排 剩余 总量结果输出txt和界面显示位置
2 修改了GIS属性表自动根据名称链接对象的函数，可以全自动链接
3 底层增加了对wellvariable的读写代码
4 发现过程增加了图形清空函数，保证对多次刷新图形的一致性不会出现大的变化
5 修改了变差计算中各向同性情况下不用进行随机方向变差计算。

6 多井EUR克里金顺序模拟修改了底层接口的克里金和高斯的实验方差和理论方差的接口
7 底层增加了井克里金eur计算的活动
8 对应界面增加了井克里金eur计算的活动，在非常规--目标--资源量计算下（待测试）
9 GIS属性关联对话框增加了查询功能
10 临时放开了GIS文件导出功能
--------------------------------------------------------------------------------------------------
pc 20160108
非常规版数据库升级的判断缺陷修复
图层刷新次数过多的缺陷修复
导入GIS图层冲突加锁缺陷修复
栅格校验点加锁
拖拽非常规自评对象节点缺陷修复
--------------------------------------------------------------------------------------------------
20160108
李治昊
2016/1/4 C 2016/1/8
海外经济评价：输入参数可绑定‘活动参数’各阶段的页面；‘活动参数’各阶段的条件起作用
1.增加CNpvBindActivityParaDlg：‘绑定活动参数’设置对话框
2.更新CNpvAbroadSolutionPage
1)增加void OnCellRClick(wxGridEvent &event)：响应gird中鼠标右击‘名称’列，弹出‘绑定活动参数’菜单
2)增加void OnBindActivityParameter(wxCommandEvent &event)：响应‘绑定活动参数’，调用CNpvBindActivityParaDlg，弹出设置窗口
3)增加bool ResetValueByBindedActivityParameter(int curOrder, const std::vector<std::string> &paras, double &val)：根据绑定参数，设置当前val的数值
4)更新InitGridData：调用ResetValueByBindedActivityParameter，根据绑定参数，设置val的数值
3.更新CNpvActivityRecordPage：‘条件’设置起作用
	1)增加bool IsConditionValid()：条件是否合法
	2)增加bool IsConditionValid(const wxString &conditionStr)：当前活动的条件是否合法
3)增加bool IsTrapConditionSet(ConditionPara &condiPara)：当前活动的条件是否是trap；true时，判断是否合法
4)增加bool IsSegmentConditionSet(ConditionPara &condiPara)：当前活动的条件是否是segment；true时，判断是否合法
5)增加bool IsActivityParaConditionSet(ConditionPara &condiPara)：当前活动的条件是否是活动参数；true时，判断是否合法
6)增加double GetVolumetricParaValue(CVolumetricPredicator::ResourcePredication &predication, int type)：获取体积法参数的值（面积、孔隙度等）
7)增加static long GetLatestActivityPracticeId(CAccumulationAssessor *assessor, CAccumulationElement *element, short activityType, const std::string &kindname)：根据参数，获取最新的活动id
8)增加成员变量bool m_isConditionValid（条件是否合法）、bool m_toResetCondition（m_isConditionValid为false，标记是否需要重新设置条件）
9)更新InitParameter：调用m_isConditionValid = IsConditionValid()，条件非法，询问用户是否需要重新设置条件
10)更新CanPageChanged：条件非法（m_isConditionValid = false）并且需要重新设置条件（m_toResetCondition = true）时，返回false，不离开该页面，让用户更改条件
4.更新CWorkJobStreamCanvas
	1)更新OnContextMenu：增加‘树形布局（横向）’、‘树形布局（纵向）’
2)更新OnLayoutType：响应菜单‘树形布局（横向）’、‘树形布局（纵向）’，调用CAnyJobStream:: TreeLayout
---------------------------------
20160109 wb
1 修改了底层多井克里金eur计算的克里金接口
2 修改了界面多井克里金eur计算的绘图界面，和通过图形自定义模拟参数值的模式。
3 修改了界面多井克里金eur计算的界面。


4 修改了界面多井克里金eur计算的绘图过程和参数。
5 修改了界面多井克里金eur计算的界面参数，原始数据获取等。


6 底层增加了添加cell图层的函数
7 界面增加了相应的创建cell图层的函数,模块界面翻译等。

8 增加了地质甜点预测的普通插值界面和接口(含底层增加相关变量)

1 以解决：4217 4215 4220 4225 4210 4224 4210
  4213：已经不再绘制等值线
  4223：转志浩
2 暂缓：4218（暂时无法实现）， 4221（暂时无法实现，改为建议），4211，4212
3 未重现：4222
-----------------------------------------
20160111 pc
shp选择对话框关掉后不刷新
地震三维切片Mapreduce
三维魔方增加访问哪个数据的选择类型

-----------------------------------------------
20160111 wb
1 非常规GIS打开属性表，对象关联后查看属性，可以查看所有关联对象属性
2克里金插值和普通插值底层增加了新的对象参数定义
3克里金插值和普通插值界面增加了3D绘制和普通模拟
4小面元界面增加了新的自动计算克里金和高斯
5小面元增加了EUR取exp，和等值线图层输出。
-----------------------------------------
20160112 pc
增加记录井旁道的sequenceorders变量
增加选择其他数据集的井旁道功能
-------------------------------------------
20160113 wb
1 底层小面元增加保存每次生成celllayer的结构
2 底层克里金插值增加了realease函数
3 地质甜点增加了融合数据的读取
4 地质甜点进行了界面的调整，验证了yan老师新接口
5 小面元增加了处理是否自定义参数画图的选项
6 小面源增加了绘制celllayer时的图层显示控制和绘制逻辑
7 mapcanvas调增了多边形选择时的控制函数
8 修改了eur计算结果
9 评价项目多场景中去掉了地质概率界面
--------
10 增加了对未打开图层的判断
----------------------------------------------
201601015 wb
1 小面元增加了对名称添加对话框名称错误的判定，不会再自动关闭对话框了
2 修改了小面元图层显示控制，不会对树直接操作，只是修改显示与否的变量。界面也不会自动移动了。
3 增加克里金插值的各向同性部分的界面和相关参数逻辑等，并实现结果输出和三维显示（结果和界面逻辑待验证测试）
4 底层增加克里金插值的各向同性部分的接口和变量。
------------------------------------
--------------------------------------------------------------------------------------------------
20160115
李治昊
2016/1/11 C 2016/1/15
海外经济评价：参数可设置分布、增加开发阶段capex分布页面、增加废弃阶段链接开发活动的页面、增加各阶段相关性页面、增加生产阶段停止条件页面。
图层属性窗口：‘字段’页面，增加菜单‘关联’，将element表字段内容拷贝到图层属性表中；‘属性划分’页面名称改为‘可视化’；图层属性表页面，增加菜单‘关联’，将element表字段内容拷贝到图层属性表中
1.增加CGeneralDistributionSettingDlg：设置参数的分布模型及其min、max、mode值
2.更新CNpvActivityParameterDlg
1)更新InitDevCapexDistributionPanel：设置开发阶段capex分布的输入控件
	2)更新InitAbandonLinkedDevActivitiesPanel：设置废弃阶段链接开发活动的输入控件
	3)更新OnOK：存储capex分布的参数、链接开发活动的字符串到活动中
	4)更新InitParameters：初始化capex分布/链接开发活动的参数
5)更新EditParameter：调用CGeneralDistributionSettingDlg，设置参数的分布（constant、uniform等）
	6)增加wxPanel * InitCorrelationGridPanel(wxWindow *parent)：创建相关性页面
7)增加void InitCorrelationGrid(wxWindow *parent)：创建相关性页面的grid
8)更新InitCorrelationPanel：调用6)InitCorrelationGridPanel、7)InitCorrelationGrid创建相关性页面
9)更新InitPage：隐藏‘Targets’页面
10)更新OnButtonClicked：响应‘结束条件’页面按钮；响应‘相关性’页面按钮；响应‘链接开发活动’页面按钮
3.更新CSDELayerProfilePage
	1)更新OnFieldListRightClick：弹出菜单‘关联’
	2)更新OnStat：响应菜单‘关联’，将element表字段内容拷贝到图层属性表中
4.更新CWorkShapePropertyTablePanel
1)更新OnRclickLable：弹出菜单‘关联’
2)更新OnStat：响应菜单‘关联’，将element表字段内容拷贝到图层属性表中
--------------------------------------------------------------------------------------------------
20160118
pc
测井纵向比例调整显示
rcf结构体序列化及构造函数
--------------------------------------------------
20160119
4305转志浩 

1 底层修改了小面元的参数设置和获取方法，以simulation结构为基础
2 界面部分修改了参数设置和获取结构，去掉了图层开关操作的代码，去掉了多图层切换的逻辑
--------------------------------------------------------------------------------------------------
20160118
pc
增加新建空测井道功能
层位生成等值线时对空值做反平方插值
增加图层框架类的权限管理
--------------------------------------------------------------------------------------------------
20160122
李治昊
2016/1/18 C 2016/1/22
1.更新CWorkJobStreamCanvas
	1)更新OnContextMenu：删除‘随机布局’；备份节点不弹出‘删除节点’菜单
2.增加CWelllogCurveFillingDlg：道曲线填充的设置窗口
3.更新CWorkWellProfileCanvas
1)更新OnContextMenu：增加‘Curve Filling’菜单（曲线填充）
	2)增加void OnCurveFilling( wxCommandEvent &event)：响应‘Curve Filling’菜单
4.更新CNpvActivityRecordPage：bug4286
	1)更新OnActivity：删除活动时，询问用户
5.更新CSDELayerProfilePage：bug4165,bug4166
1)更新InitPage(bug4165)：名称‘可选择’->‘可拾取’，读取该状态；读取的字体需要匹配的AnyMap::FontName
2)更新OnFieldTypeChanged(bug4166)：字段类型变化时，更新字段长度，显示到list、text控件中
3)更新ApplySetting：字体传入底层时，仅传名称，不传路径
6.更新CFormulaParserDlg
	1)更新TargetItem：增加int m_discoveryCmpMethod，存储含油气阈值比较函数
7.更新CLayerTreeCtrl
1)更新static CAnyViewHook *CreateContourLayer(CGeoPoint<double> *cells, int number, int row, int col, const std::string &layername, bool isFreeCells = true, bool isCommit = true, bool isRefresh = true, int weightType = CAnyGridTracing::WM_Universal_Kriging)：增加参数int weightType，设置等值线插值方法，默认为范克里金
2)增加static std::string IsLayerExist(std::string &layername, int hookType)：类型为hookType，名称为layername的图层是否存在，存在时产生新图层名称到layername
8.更新CEvidenceWeightModelDlg：bug4291、4292、4293、4297、4298
	1)更新InitGrid：增加‘阈值比较’列，显示每个图层的‘阈值比较’方法（>=,<,>,<=）
2)更新InitTargetLayers：根据CFormulaParserDlg::TargetItem::m_discoveryCmpMethod，设置每个图层的‘阈值比较’方法
3)更新SaveLastestChanges：保存每个图层的‘阈值比较’方法到CFormulaParserDlg::TargetItem::m_discoveryCmpMethod
4)更新OnOK：根据CFormulaParserDlg::TargetItem::m_discoveryCmpMethod，将‘阈值比较’方法设置入底层CAnyEvidenceWeightModel
5)更新CreateContourLayer：调用CLayerTreeCtrl::CreateContourLayer，参数weightType（插值方法）采用WM_Direct，采用设置好的cells，不再插值；产生图层前，先调用CLayerTreeCtrl:: IsLayerExist检查是否存在相同名称图层，如存在提示用户是否要覆盖，不覆盖则产生新名称创建图层
---------------------------------------------
2016 0122 wb
4305转志浩 4425 转彭成  4435 转盛
4426 开发进行中

1 底层小面元增加了持久化相关变量函数，进度条相关的update函数等，增加了计算结果出来后向grid图层增加新eur字段的函数。
2 新增加了一个xml格式文本读取函数（解决王义刚缺陷）
3 界面部分对小面元界面增加了持久化相关代码和调整，结果输出等。
4 地质甜点，yan老师相关部分为防止冲突，下周彭城修改完3维部分代码后再提交
-----------------------------------------
20160126
pc
层位等时切片

----------------------------------------------------------
2016 0127 wb
1 提交了底层和界面菜单活动树等，增加了新的活动菜单选项和调整
2 增加了底层手动删除活动的函数
3 克里金底层变化较大，增加了融合数据对应的一系列参数，增加了不同插值函数和增加了不同数据类型和对应参数的vectoe，增加了数据类型的参数和获取接口，增加了自动release 和 获取当前参数的接口和变量。对应的主要函数实现也全部做了相应修改。多线程也做了对应的参数和接口也进行了修改。

4 地质甜点界面重新设计实现了界面，去掉了原有的convariancepage 和 interpage 以及quntialdlg 。重新设计了界面逻辑，支持可选融合数据和条件数据。
--------------------------------------------------------------------------------------------------
20160128
李治昊
2016/1/25 C 2016/1/29
1.更新CSDELayerProfilePage
1)更新InitPage：字体类型恢复老数据时，需要将字体名称从字体全路径中提取出来，再与字体库中名称匹配；隐藏‘多边形’页面的‘渐变设置’（bug 4438）
2)更新OnRangeColorRemove（bug 4418）：删除配置后不再默认选中第一行，提示用户选择记录后再删除
3)更新
2.更新CAssessorFrame
	1)更新OnLayerComboBoxDropDown（bug 4409）：加入当前用户可编辑的图层
2)更新OnLayerComboBoxCloseUp（bug 4426）：切换编辑图层后，直接打开编辑功能，用户可不再点击‘开始编辑’进入编辑状态
3.更新CNpvActivityParameterDlg
1)更新OnButtonClicked（bug 4457）：删除日程、条件、结束条件、相关性等记录时，提示用户是否删除
4.更新CGeneralDistributionSettingDlg
1)更新OnOK（bug 4457）：先调用CAnyDirectParameterStrategy::DirectEstimate获得对应参数，再将参数恢复为界面的min、max，在调用CAnyDistributionStrategy::InitSamples生成分布。防止DirectEstimate调用后min、max改变的问题
5.更新CNpvCostBasicRecordPage、CNpvCostDetailRecordPage
1)更新GetDistribution：先调用CAnyDirectParameterStrategy::DirectEstimate获得对应参数，再将参数恢复为界面的min、max，在调用CAnyDistributionStrategy::InitSamples生成分布。防止DirectEstimate调用后min、max改变的问题
6.更新CEvidenceWeightModelDlg
	1)增加IsWeightValid（bug 4294）：检查证据图层是否存在异常值
2)增加ShowEvidenceCellInfo（bug 4295）：显示证据图层信息
3)更新OnOK：证据图层存在异常值时，提示用户
7.更新CNpvPracticeDlg
1)更新InitLayout（bug 4219）：CNpvResourceRecordPage *page = dynamic_cast<CNpvResourceRecordPage*>(GetParent())存在时，才可调用page的内容，防止不存在时，“快速经济评价”模块调用该代码死机

-----------------------------------------
20160129 wb
1底层增加了地质甜点克里金插值新变量
2底层小面元修改了结果输出（取exp实际值）

1 增加了地质甜点的变量控制，以及界面部分的调整，增加了参数限制
2 修改了了小面元结果文本输出的内容
3 菜单进行了调整
4 单井储量预测修改了数据获取
5 属性表增加了自动取消无效关联的选项
6 增加了自动获取点位坐标并添加入属性表的功能代码（未放开）
-----------------------------------
20160131 wb
1 底层井位基本信息增加了新字段
2 修改了小面元eur模拟字段增加的内容

3界面增加了证据权活动节点
4地质甜点增加了计时功能
5增加了modelless对话框处理函数
-----------------------------------
20160202 pc
增加了绘制三维球面功能
--------------------------------------------------------------------------------------------------
20160203
李治昊
2016/2/1 C 2016/2/3
1.更新CLayerTreeCtrl
1)更新OnStartEdit（bug 4490）：主界面编辑工具条未显示时启动编辑模式，直接打开编辑功能，用户可不再点击‘开始编辑’进入编辑状态（调用CAssessorFrame::OnLayerComboBoxCloseUp）
2.增加CWellLogSedimentaryCycleSettingDlg(wxWindow *parent, const CGeoRect<double> &extent, const CAnyLogSedimentaryCycle::CycleDescriptions &descs = CAnyLogSedimentaryCycle::CycleDescriptions())：配置旋回属性的窗口
3.更新CWorkWellProfileCanvas
	1)增加void OnCurveExchange(wxCommandEvent &event)：交换曲线道
	2)增加void OnSedimentaryCycleNew(wxCommandEvent &event)：新增旋回
	3)增加void OnSedimentaryCycleRemove(wxCommandEvent &event)：删除旋回
4)增加void OnSedimentaryCycleUpdate(wxCommandEvent &event)：调用2. CWellLogSedimentaryCycleSettingDlg，更新旋回属性
5)增加void OnSedimentaryCycleMapOperation(wxCommandEvent &event)：设置旋回操作类型，拖动、编辑等
6)增加成员变量：CAnyLogSedimentaryCycle *m_sedimentary（旋回道的对象）、int m_cycleOrderPos（编辑状态查询到旋回的位置：顶、底等）
7)增加OnContextMenu：增加‘沉积旋回道’相关菜单，‘新建旋回’、‘更新旋回’、‘删除旋回’、‘拖动旋回’、‘编辑旋回’
8)更新OnLButtonDown、OnMouseMove、OnLButtonUp：响应‘沉积旋回道’的‘拖动旋回’、‘编辑旋回’状态
9)增加AddSedimentaryCycle：在OnLButtonUp中调用，响应‘新建旋回’；调用2. CWellLogSedimentaryCycleSettingDlg，设置旋回属性
4.更新CSDELayerProfilePage
1)更新OnFieldListRightClick：elementid、geometryid、version、propertytablename限制以上字段不能删除
	2)更新ApplySetting（bug4486）：字段类型改变后，不改变其值

-------------------------------------------
20160217 wb 

1修改底层克里金插值接口，适应yan老师新修改
2调整了底层数据库读取函数
3调整活动树设置
4修改了小面元数据读取
5增加了地质甜点的计时和模拟结果输出，优化了内存部分代码和界面
6增加了新的非常规类比法界面
--------------------------------------------------------------------------------------------------
20160218
pc
测井持久化由明码改为二进制串
增加新增地震道功能
--------------------------------------------------------------------------------------------------
20160219
李治昊
2016/2/14 C 2016/2/19
1.更新CWorkWellProfileCanvas
	1)增加int m_curMapOperation：记录旋回道外的地图操作类型
2)更新OnMouseMove（道的编辑状态仅限道本身）：调用5)SetMapOperation，鼠标移动到相应道时，设置相应的地图操作类型；拖动、reshape旋回改变鼠标样式
	3)更新OnPan、OnZoomIn、OnZoomOut、OnZoomExtent：将对应地图操作类型存入m_curMapOperation
4)更新OnSedimentaryCycleNew、OnSedimentaryCycleMapOperation：记录地图操作类型，保存旋回道的地图操作类型到CAnyLogSedimentaryCycle::m_mapOperation
5)增加void SetMapOperation(const CGeoPoint<double> &scrPoint)：设置相应的地图操作类型；拖动、reshape旋回改变鼠标样式
6)增加void OnLithRasterNew(wxCommandEvent &event)：新增栅格
	7)增加void OnLithRasterRemove (wxCommandEvent &event)：删除栅格
8)增加void OnLithRasterUpdate (wxCommandEvent &event)：调用5. CWellLogLithRasterSettingDlg，更新栅格属性
9)增加void OnComponentOperation(wxCommandEvent &event)：设置旋回/栅格道的操作类型，拖动、编辑等
10)增加成员变量：CAnyLogLithTrack *m_lithTrack（岩性栅格道的对象）、int m_rasterPos
（编辑状态查询到栅格的位置：顶、底等）
11)增加OnContextMenu：增加‘岩性道’相关菜单，‘新建栅格’、‘栅格属性’、‘删除栅格’、‘拖动栅格’、‘编辑栅格’
12)更新OnLButtonDown、OnMouseMove、OnLButtonUp：响应‘岩性道’的‘拖动栅格’、‘编辑栅格’状态
2.更新wxPenStyleComboBox：线形下拉选择可以不包含透明线
	1)增加bool m_isTransparentOK：透明线模式
	2)增加构造函数：m_isTransparentOK，默认为true
3.更新CWelllogCurveFillingDlg
	1)增加wxOwnerDrawnComboBox* m_curveType1、wxBitmapButton *m_curvecolorbtn1、	wxColor m_curvecolor1：另外一个填充线的线形、颜色等
	2)更新InitLayout：增加另外一个填充线的线形、颜色的设置控件
	3)更新InitData：设置另外一个填充线的线形、颜色等
	4)更新RefreshWellCanvas：将另外一个填充线的线形、颜色写入底层
	5)更新CheckValid：检查另外一个填充线的线形是否选择
4.更新CWelllogCurvePropertyDlg
	1)更新struct LineInfo：增加CAnyLogCurveTrack::GridProperty m_gridProperty，网格信息
	2)更新InitLayout：增加网格设置控件
	3)更新OnComboBoxCurveUpdate：道切换后，保存上个网格设置、读取下一个网格设置
	4)更新RefreshWellCanvas：将网格信息设置入底层
5.增加CWellLogLithRasterSettingDlg：设置栅格属性
----------------------------------------------------
2016 0219 wb

1 底层增加了非常规类比参数表的定义和读写操作
2 底层修改了类比法活动的函数，以适应非常规参数调整
3 修改了活动树优选模块
4 修改了了小面元数据读取的问题
5 重构了非常规类比法的界面
6 修改了常规模板的读取和加载
7 右键属性增加了非常规的类比法参数界面，并与类比法绑定
----------------------------------------------------
2016 0222pc
增加批量移动图层到某个节点下，增加批量校验点

--------------------------------------------------------

2016 0223 wb

1 增加了shaleanalogpredicator类型
2 修改了底层数据获取和张洹原来错误接口代码
3 完善了非常规类比的界面
4 临时处理了小面元无效值的问题
-------------------------------------------------------------
2016 0224 wb
1 底层增加了新的非常规体积法
2 element对象增加了新的记录非常规类型的节点
3 增加了新的体积法活动
4 修改了小面元 地质甜点拖放 三维模拟显示 二维界面 等提出的问题
5 放开了优选模块
--------------------------------------------------------------------------------------------------
20160226
李治昊
2016/2/22 C 2016/2/26
1.更新CWorkWellProfileCanvas
	1)增加bool DeleteComponent(const wxString &type)：封装删除道的功能
	2)更新OnDelete：调用DeleteComponent("selected")，删除当前选中的道
3)更新OnCurveUnionRight：更改名称为OnCurveUnionLeftRight；增加响应“向左合并”功能；合并曲线后，调用DeleteComponent("union")，提示用户是否删除被合并的道
	4)更新OnContextMenu：增加‘向左合并’、‘曲线拆分’菜单
5)增加void OnCurveSplit( wxCommandEvent& event )：响应‘曲线拆分’菜单，将多条曲线拆分为一或多条曲线
6)更新OnLButtonDblClick：双击不同道，弹出不同属性设置窗口；除曲线道外，双击道头位置弹出道头设置窗口
2.更新CWellLogSedimentaryCycleSettingDlg
	1)更新InitGrid：增加 “旋回位置”列
	2)更新InitGridData、OnAdd、GetSedimentaryCycles：设置、获取旋回在道中的位置
3)更新构造函数CWellLogSedimentaryCycleSettingDlg(wxWindow *parent, CAnyLogSedimentaryCycle *sedCycle, const CGeoRect<double> &extent, const CAnyLogSedimentaryCycle::CycleDescriptions &descs = CAnyLogSedimentaryCycle::CycleDescriptions())：增加参数CAnyLogSedimentaryCycle *sedCycle，对CAnyLogSedimentaryCycle的对象进行操作
4)增加CAnyLogSedimentaryCycle *m_sedimentary（旋回对象）、int m_bkCycleCount（初始情况下旋回的个数）
	5)更新InitPage：增加‘应用’按钮
6)增加void OnApply(wxCommandEvent& event)：增加\更新旋回属性，可不关闭窗口，随时观察旋回的变化
3.更新CWellLogLithRasterSettingDlg
1)更新构造函数CWellLogLithRasterSettingDlg(wxWindow *parent, const CGeoRect<double> &extent, CAnyLogLithTrack *lithTrack, const CAnyLogLithTrack::RasterSymbolMap &bkRsMap, const CAnyLogLithTrack::RasterSymbolMap &rsMap = CAnyLogLithTrack::RasterSymbolMap())：增加参数CAnyLogLithTrack *lithTrack，对CAnyLogLithTrack的对象进行操作
2)增加CAnyLogLithTrack *m_lithTrack：岩性道的对象
3)增加void OnApply(wxCommandEvent& event)：增加\更新栅格属性，可不关闭窗口，随时观察旋回的变化
4.更新CWelllogCurvePropertyDlg：将曲线填充功能整合入该窗口；将不同功能分页配置
5.更新CWelllogAllPropertyDlg：将比例尺、顶深、底深等功能整合入该窗口；将不同功能分页配置
6.更新CWelllogDepthPropertyDlg
1)更新构造函数CWelllogDepthPropertyDlg(wxWindow *parent, CAnyLogTrackSection *hook, int wellnum, int componentnum, bool isComponentHead = false)：增加参数bool isComponentHead = false，标记是否为道头设置
2)增加bool m_isComponentHead，记录是否为道头设置
3)更新InitLayout、InitData、RefreshWellCanvas、CheckValid：增加道宽读取；区分是否为道头设置，执行不同功能（道头设置不管tick设置）；字体读取、设置，需要匹配AnyMap::FontName（原先直接读取path）
7.更新CWorkMapCanvas
	1)更新OnContextMenu：移动拐点模式下，增加“移动到…”菜单
2)更新OnAddGeometryPrecisely：响应“移动到…”，调用CAddGeometryDlg设置拐点的精确坐标
8.更新CAddGeometryDlg：增加设置拐点位置
1)更新构造函数CAddGeometryDlg(wxWindow *parent, CAnySdeGeometryEditor *editor, const std::vector<unsigned long> &selections = std::vector<unsigned long>(), const CGeoPoint<double> &pt = CGeoPoint<double>())：增加CGeoPoint<double> &pt，设置拐点位置
	2)增加变量CGeoPoint<double> m_curPt：记录当前拐点位置
	3)更新InitGridData、OnOk：设置、获取拐点信息
-------------------------------------
20160303 wb
1 底层增加了对类比法井和目标区的支持
2 底层修复了井和类比参数读取的错误
3 增加了自动读取lazy图层的接口
4 增加了gis属性表升降序排列
5 新增了裂缝计算的界面
6 修复了数据导入导出的错误
7 修复了地质甜点二维图层读取的名称错误问题
8 地质多场景相关性的问题（未彻底解决？）
9 小面元图层读取问题
10单井eur保存的问题
-------------------------------------
20160304 wb
1 增加了底层属性表排序功能
2 增加了界面打开属性表字段升降序功能
3 增加了裂缝统计图版界面
--------------------------------------------------------------------------------------------------
20160304
李治昊
2016/2/29 C 2016/3/4
1.更新CWorkWellProfileCanvas、CWorkMapCanvas、CWellPropertyDlg、CWelllogCurvePropertyDlg、CWelllogCurveFillingDlg、CWelllogAllPropertyDlg、CSyntheticWaveletScalingDlg、CSyntheticWaveletEstimatorDlg、CSeismicTranglarFilterDlg：将CAnyLogCurveTrack、CAnyLogSeisTrack中的属性数组（m_names等）替换为AnyBridge::CurveProperty的属性
2.更新CWelllogAllPropertyDlg
	1)更新InitVisualSettingPanel：增加设置标题x方向位置的控件
	2)更新InitData：读取底层标题x方向位置
	3)更新RefreshWellCanvas：设置标题x方向位置到底层
3.更新CWellLogSedimentaryCycleSettingDlg
	1)更新InitGrid：增加最小值/最大值颜色的列，便于设置
	2)更新OnAdd：增加设置最小值/最大值颜色的列的默认内容
	3)更新InitGridData：增加设置最小值/最大值颜色的列的内容
4)更新GetSedimentaryCycles：增加获取最小值/最大值颜色
5)更新OnCellDClick：增加设置最小值/最大值颜色的内容
4.更新CSDELayerProfilePage
1)更新OnStat：获取图元后CAnySdeGeometryLayer::GetGeometrys(accessor, ids, relationships, 0, geometries)，geometries中的对象不存在时跳过，防止死机
5.更新ContourGridPage
	1)更新SetContourSetting：选择IDW法时，设置krig的type不为协克里金，防止死机
6.更新CToolboxContourWizard
1)更新LoadContourSetting：读取krig参数
5.更新CWorkShapePropertyTablePanel
1)更新OnStat：获取图元后CAnySdeGeometryLayer::GetGeometrys(accessor, ids, relationships, 0, geometries)，geometries中的对象不存在时跳过，防止死机
2)更新OnCellSelected：获取图元后CAnySdeGeometryLayer::GetGeometrys(accessor, ids, relationships, 0, geometries)，geometries中的对象不存在时跳过，防止死机
------------------------------
20160308  wb
1 修改了数据导入导出的问题
2 修改了裂缝界面，增加了新nootbook
3 实验调用了裂缝底层代码
----------------------------------
20160310 wb
1 缺陷修改
2 区块评价版部分代码
--------------------------------------------------------------------------------------------------
20160311
李治昊
2016/3/7 C 2016/3/11
1.增加CVectorSymbolCanvas：CAnyVectorSymbolPlot的画板
2.增加CVectorSymbolCanvasDlg：CVectorSymbolCanvas的画板对话框
3.更新CWorkWellProfileCanvas
1)更新OnContextMenu：对于岩性道，增加‘新建矢量符号’菜单；查询到‘矢量符号’后，增加‘符号属性’、‘移除符号’等菜单
2)更新OnLithRasterNew：增加响应‘新建矢量符号’菜单，设置CAnyLogLithTrack:: m_symbolType为CAnyLogLithTrack::ST_Vector_Symbol；‘新建栅格’为CAnyLogLithTrack::ST_Raster_Symbol
3)更新AddLithRaster：根据CAnyLogLithTrack:: m_symbolType类型，弹出窗口设置矢量符号/栅格符号
4)更新OnLithRasterRemove、OnLithRasterRemove：根据CAnyLogLithTrack:: m_symbolType类型，删除/更新矢量属性
	5)更新OnLButtonDblClick：岩性道，双击‘矢量符号’弹出‘矢量符号’属性配置
	6)更新SetMapOperation：查找‘矢量符号’，改变鼠标样式；
	7)更新OnLButtonDown、OnLButtonUp、OnMouseMove：响应 ‘矢量符号’的查找
4.更新CWellLogLithRasterSettingDlg
1)增加构造函数CWellLogLithRasterSettingDlg(wxWindow *parent, const CGeoRect<double> &extent, CAnyLogLithTrack *lithTrack, const CAnyLogLithTrack::VectorSymbolMap &bkVsMap, const CAnyLogLithTrack::VectorSymbolMap &vsMap = CAnyLogLithTrack::VectorSymbolMap())：矢量符号的设置窗口
2)增加int m_symbolType（符号类型：记录栅格符号/矢量符号）、CAnyLogLithTrack::VectorSymbolMap m_bkVsMap（初始情况下的矢量符号map）、
CAnyLogLithTrack::VectorSymbolMap m_curVsMap（当前编辑的矢量符号）、
std::vector<std::vector<CAnyVectorSymbolPlot::VectorSymbolElement *>> m_elementss（记录每行对应的矢量符号）
3)更新InitPage、InitGrid、InitGridData、IsReocrdFilled、IsNameValid：区分m_symbolType类型，初始化不同界面/进行不同设置
4)更新OnAdd、OnRemove：m_symbolType为ST_Vector_Symbol，对m_elementss进行添加/删除操作
5)更新OnApply、OnOK：区分m_symbolType类型，对m_rastersymbols/ m_vectorSymbols进行操作
6)更新OnCellDClick：打开栅格图片时，仅过滤bmp文件；增加打开矢量符号编辑窗口
5.更新CSpatialAnalysisTreeCtrl
	1)更新OnMapAlgebra：证据权分析时，如果激活的图层小于2个，则提示用户激活其他图层
6.更新CWelllogAllPropertyDlg
	1)更新InitVisualSettingPanel：宽高度比控件最小值改为0.1
7.更新CWorkShapePropertyTablePanel
	1)更新SetSdeDataGrid：点图层，显示x、y坐标
	2)更新setGridData：点图层，显示x、y坐标
8.更新CToolboxContourGridPage：bug4580
1)更新OnWizardPageshow：设置idw最小查找样本点个数的极值为最大查找样本点个数，防止min>max时死机
9.更新CWorkMapCanvas：bug4458
1)更新OnLButtonDblClick：sde图层，查询到图层后，调用CWorkShapePropertyTablePanel:: SetNewData，在属性表中仅显示选中的图元
10.更新CBasinProfileDlg
1)更新long GetWellBore(long wellid)：改为static long GetWellBore(long wellid)，静态函数便于类外调用
----------------------------------
20160311 pc
hugearray
测网边界线绘制
圆柱参数配置界面
多图层操作加进度条
----------------------------
20160311 wb
1 增加了区块评价版（菜单，活动树，对象树，主框架等）
2 调整了登录界面
3 调整了地质甜点英文界面翻译
4 修改了类比法问题
----------------------------
20160315 pc
提交丁平已有三参数代码
新增地震数据三维MC
新增block对象相关6张库表
--------------------------
20160317 wb
1修改了最新的相关缺陷
2清理了layertree的功能菜单，增加了空间分析框架，将原有功能移入框架中
3裂缝修改了输出图层界面（按点线图层），增加了输出结果分析界面
4底层增加了区块版的数据库表格和对应的数据库读取
5取款版增加了新的属性读取操作和界面

--------------------------------------------------------------------------------------------------
20160318
李治昊
2016/3/14 C 2016/3/18
1.更新CWorkWellProfileCanvas
1)增加bool m_isSettingDlgShown：表示设置窗口是否打开，打开后不再响应鼠标移动的动作，防止移动后当前设置对象不存在的问题（当前旋回道，紧挨着也是旋回道，不处理的话有可能将当前道中的旋回创建到另一道中）
2)更新AddSedimentaryCycle、OnSedimentaryCycleUpdate、SetMapOperation、AddLithRaster、OnLithRasterUpdate：设置m_isSettingDlgShown的状态
	3)更新OnContextMenu：增加‘保存’、‘曲线加载’、‘曲线计算’菜单
4)增加void OnSave( wxCommandEvent& event )：响应‘保存’菜单，存储logcurve道、旋回道、岩性道
5)增加void OnCurveLoad ( wxCommandEvent& event )：响应‘加载曲线’菜单，调用CGISfileWizard
6)增加void OnCurveCalculate(wxCommandEvent& event)：响应‘曲线计算’菜单，调用CRasterCalculatorDlg，生成新的曲线，加入到当前图版中
2.更新CWellImportPage
1)增加CAnyLogTrackComponent *m_temp、CAnyLogTrackComponent *m_tempOther：记录加载曲线的临时道
2)更新DoImportWell：m_temp为空，加载井及曲线；否则，仅加载曲线
3.更新CNpvResourceRecordPage
	1)更新InitResourceParameter：仅海外模型，单独处理；防止其他模型中的pc、pe计算不出来
4.更新CAssessorFrame
1)更新DoWindowClose：m_activityTree->m_rasterDlg（CActivityTreeCtrl的CRasterCalculatorDlg）存在时，先删除之，防止‘地图代数’模块运行后，关闭程序时死机
5.更新CRasterCalculatorDlg
1)增加构造函数CRasterCalculatorDlg(wxWindow *parent, std::vector<CAnyLogCurveTrack *>&curveTracks)：测井曲线计算模式的构造函数
2)增加std::vector<CAnyLogCurveTrack *> m_curveTracks、std::vector<AnyTraceSample> m_traceSamples：当前曲线道及计算后的曲线数据（depth、sample）
	3)增加void InitCurveData(bool isInit = true)：设置测井曲线计算的数据
4)更新OnBtnOperator、InitLayout、OnLayersUpdate、OnAdd、OnDClickListBox、OnClickListBox：测井曲线计算模式，初始化不同界面、进行不同操作
5)更新OnOk：测井曲线计算模式，调用CAnyTraceSampleFormula获得新的曲线样本，赋值给2)的m_traceSamples
--------------------------------
20160318 wb
1 裂缝部分增加了玫瑰图绘制，放开了点线图层输出
2 增加了剩余的区块属性表
3 调整了部分菜单和GIStools翻译以及菜单选项等
-----------------------------------------
20160322 wb
1 修改了非常规Ro模块等值线名称过长和获取范围可以选择非多边形内各选区的问题
2 修改了数据库升级后，概率类型ID不一致类比法死机的问题
3 增加了block版本 区块评价 中等勘探程度评价模板
4 更新了非常规翻译的问题
-----------------------------------------
20160323 pc
readwrite+chain模式；
地质图层框架树增加子类别节点创建功能；
3D显示增加色标；
-----------------------------------------
20160325 pc
3D色标配置
----------------------------------------------------
20160325 wb
1 增加了区块表中 勘探程度  风险评价（低 较低 中） 以及价值评价功能
2 修改了对应的菜单和界面部分
3 增加了区块模糊打分和优选模块功能节点
4 修改了裂缝分析的界面和图形输出功能
5 修改了体积法和类比法资源量结果读取方式
6 修改了地质甜点最终结果输出格式
7 修改了最新缺陷
-------------------------------------------------------------
20160330 wb
1 裂缝增加了等值线插值模式，修改了拟合方法的个数，修改了界面翻译和菜单，直方图修改为概率直方图模式
2 裂缝输出文件修改为按目录输出，修改了目录同名时命名的方式
3 增加了线性递归的模块，基本界面，活动树，菜单等。
4 井属性增加井变量属性页。底层增加对应的数据属性结构和数据获取接口
5 修改了区块评价模板中，不准确的描述。
6 修改了王义刚最新的几个缺陷。
-------------------------------------------------------------
20160401 pc
三维切片hugearray
三维切片预览形状
地震剖面颜色任意配置
mapgis解译兼容空行和点数为2的多边形
删除三维球面模块
三维散点提供归一化选项
地震数据导入界面，增加地震数据类型，地震道头数据类型的4种选择
打勾和取消打勾不刷新整个画板，除非操作的是最顶层图层
------------------------------------------------------------------
20160401 wb
1 修改了区块版菜单的设置和翻译定义等
2 修改了活动树
3 修改了Gis属性页太宽的问题
4 修改了打开属性页可以选择多列进行统计以及可对文字列进行统计
5 修改了多层相关性显示不正常的问题
------------------------------------------------------------------
20160405 pc
解决shp导入不进去缺陷
mapreduce输参数界面调整
--------------------------------------------
20160406 wb
1增加了空间分析参数统计对话框和功能节点
2放开了栅格分析的校验功能
------------------------------------------------------------------
20160407 pc
增加r_well_rock，存储岩性符号
多处select * from改为select top 1 * from，增加速度
增加只升级数据库表结构的升级功能
增加地震道色标配置
实现低频函数接口
三维MC缺陷修复
增加删除分布式文件接口
---------------------------
20160408 wb 
1 添加波动分析活动节点和相关对象
2 和彭城放开栅格功能节点
3 增加空间分析，参数统计模块（初步）
4 修改多井eur模块删除问题
--------------------------------------------------------------------------------------------------
20160408
李治昊
2016/4/5 C 2016/4/8
1.更新CLayerTreeCtrl，bug4812，4813
	1)更新OnRadarCanvas：雷达图，选择列数小于等于3列时，弹出错误提示并返回
2)更新OnTernaryCanvas：三元图，选择列数小于5列时，弹出错误提示并返回
2.更新CToolboxTernarySourcePage，bug4810
	1)更新OnColRClick：弹出‘绑定字段类型’菜单
	2)增加OnBindField：响应‘绑定字段类型’菜单
	3)增加DoBindField：‘绑定字段类型’的实现
4)更新OpenFile：调用DoBindField
3.更新CCreateNewGISLayer，bug4811
	1)更新OnEditField：点击‘模板’后，设置地图范围为模板图层的范围
4.更新CSDELayerProfilePage，bug4860
1)更新InitPage、ApplySetting、OnSimplifyMethodSelectionChanged：图元简化的长度、面积控件，设置range为0―20
5.更新CWorkShapePropertyTablePanel，bug4874
	1)更新DoSaveChanges：存储datetime字段的内容
	2)更新setGridData：读取数据时，处理DBF_Date的数据
6.更新CToolboxContourGridPage，bug4789
	1)更新CheckDataValid：检查IDW查找样本的最小、最大值，非法时弹出消息
	2)更新OnWizardPageshow：增加重置IDW查找样本最大值的条件
7.更新CWelllogAllPropertyDlg，bug4934
1)更新InitVisualSettingPanel：道的显示状态分多行排列
8.更新CWorkWellProfileCanvas，bug4859
1)更新OnSave：保存前删除LTD_Synthetic、LTD_Timedepth、LTD_Path、LTD_Welladjust的记录，防止再次读取时，存在多条LTD_Synthetic、LTD_Timedepth、LTD_Path、LTD_Welladjust的道
9.更新CWorkMapCanvas，bug4936，拆分多边形图元
	1)更新OnLButtonUp：增加旋回道、岩性道的读取
2)更新OnLButtonDblClick：线拾取图元后，拆分多边形图元，调用CAnySdeGeometryEditor:: SplitPolygon
10.更新CWelllogCurvePropertyDlg，bug4858，4931
	1)更新OnComboBoxCurveUpdate：将网格设置保存到所有曲线
	2)更新RefreshWellCanvas：将网格设置保存到所有曲线
11.更新CVectorSymbolCanvas
1)更新OnContextMenu：增加‘保存’、‘加载’、‘清空’菜单；去除绘制符号菜单（‘线’、‘圆形’等）
	2)增加OnSave：保存矢量符号
3)增加OnLoad：读取矢量符号
4)增加OnClear：清空面板
12.更新CVectorSymbolCanvasDlg：将canvas中绘制符号菜单，变化为按钮，方便操作
	1)更新InitPage：增加绘制符号按钮（‘线’、‘圆形’等）
2)增加void OnSymbolType(wxCommandEvent &event)：响应InitPage中增加的绘制符号按钮；调用m_canvas->OnSymbolType(event)（m_canvas为CVectorSymbolCanvas的对象）	
13.更新CAssessorFrame，多边形拆分，合并暂未做
1)更新enum MenuFunction：增加TB_GEOEDIT_Polygon_Merge、TB_GEOEDIT_Polygon_Split，多边形合并、拆分的id
2)更新CreateGeometryEditTypeToolBar、OnEditToolControl、OnEditTypeToolControl：响应多边形合并、拆分的按钮
-------------------------------
20160408 wb
1 非常规增加盆地--裂缝分析功能
2 重新调整了裂缝模块函数，在活动树激活后，可以直接在界面中选择图层了，原来空间分析中的功能保持不变
3 修改了属性表，徐和王的几个缺陷

-----------------------------------
20160412  wb
1 体积法改为非模态对话框
2 增加体积法等值线获取面积的方法
3 对应修改了参数分析对话框
4 修改了模板公式，对应解决了打分公式错误和类比法死机的问题（老数据库可自行修改数据库解决）
-----------------------------------
20160412  pc
断层数据增加“分组”列的识别
分布式chunk停掉不影响继续上传
增加多选等值线三维显示，多选图层三维叠加显示

-----------------------------------
20160413  wb

1 增加了裂缝分析的断层电位的增加读取
2 处理了参数分析时SDE读取字段数据不正确的情况
3 处理了参数分析SDE数据默认Z值大小死机的情况
4 参数分析Z可以支持负数了
5 增加了参数分析区域网格行列大小的设定
6 增加了SDE属性表多选列的情况
7 增加了类比法无效对象的提示
8 修改了活动和其他模块的翻译
--------------------------------------------------------------------------------------------------
20160415
李治昊
2016/4/11 C 2016/4/15
1.更新CWelllogCurvePropertyDlg，bug5074
	1)更新CheckValid：左右刻度值相同时，提示用户不能相同
	2)更新OnComboBoxCurveUpdate：将网格显示设置保存到所有曲线
	3)更新RefreshWellCanvas：将网格显示设置保存到所有曲线
2.更新CWellLogLithRasterSettingDlg，bug4963
	1)更新InitGrid：更新时，顶/底深度列可设置
2)更新OnCellChanged：更新时，不用检查顶/底深度是否超出范围
3)更新OnApply：更新时，设置顶/底深度（m_lithTrack->AdjustRectExtent）
3.更新CWorkWellProfileCanvas，bug4963，bug4964
1)更新OnLithRasterUpdate：岩性道更新时，设置顶/底深度（m_lithTrack->AdjustRectExtent）
2)更新OnSedimentaryCycleUpdate：旋回道更新时，设置顶/底深度（m_sedimentary->AdjustRect Extent）
3)更新OnContextMenu：增加‘曲线统计’菜单；增加‘新深度道’菜单；增加‘修改样本值’菜单
4)增加void OnCurveStat(wxCommandEvent &event)，bug4964：响应‘曲线统计’菜单，调用5. CWellLogCurveStatDlg
5)更新OnCurveNew：响应‘新深度道’菜单，创建深度道
6)更新OnSave：存储多个深度道
7)增加void OnCurveModifySample(wxCommandEvent &event)：修改样本值
4.更新CWellLogSedimentaryCycleSettingDlg，bug4963
	1)更新InitGrid：更新时，顶/底深度列可设置
2)更新OnCellChanged：更新时，不用检查顶/底深度是否超出范围
3)更新OnApply：更新时，设置顶/底深度（m_lithTrack->AdjustRectExtent）
5.增加CWellLogCurveStatDlg(wxWindow *parent, CAnyLogTrackSection *hook, std::vector<CAnyLogCurveTrack *>&curveTracks)，曲线统计值的窗口，bug4964
6.更新CRasterCalculatorDlg
	1)更新InitLayout：增加CIM算子按钮，包括ACR\ASP等
	2)更新OnBtnOperator：响应CIM算子按钮动作
7.更新CWorkMapCanvas
1)更新OnLButtonUp、OnLButtonDblClick：读取多个深度道

-----------------------------
20160419 wb
1 增加了参数分析 生成的 网格图层 的颜色。（还可以在图层属性中动态调整）
2 提交了最新的线性回归界面
3 修改了体积法的缺陷
-----------------------------
20160422 pc
低频加多种公式组合
井曲线加载提供选择特定井功能
分布式增加基于网络共享文件模式切分
--------------------------------------------------------------------------------------------------
20160422
李治昊
1.增加CSymbolStyleSettingDlg，配置符号属性（颜色、线宽等）
2.更新CVectorSymbolCanvas
	1)更新OnContextMenu：增加‘属性’菜单
2)增加void OnSymbolProperty( wxCommandEvent &event)：响应‘属性’菜单，调用CSymbolStyleSettingDlg配置符号属性
3.更新CWellLogPropertyDlg，bug5068
	1)更新InitLayout：‘显示所有井’默认勾选
4.更新CWellLogCurveStatDlg，bug5141
	1)更新InitGridData：解决一个道含多个曲线时，统计错误的问题
-----------------------------
20160426 pc
分布式切分，共享文件给出IP，用户名，密码后自动访问
剖面切换时，后台起线程自动下载相邻剖面的子块

------------------
20160427 wb
1 线性回归增加了自动绘制交会图功能
2 打分模块曾记了Probit概率面板
3 参数分析增加了直接设置网格大小功能
4 forspan 参数设置增加了probit功能
5 forspan 结果增加了概率分析面板
6 逐步回归增加了添加了增加多次项列的功能
7 逐步回归增加了绑定图层功能
--------------------------------------------------------------------------------------------------
20160427
李治昊
2016/4/25 C 2016/4/29
1.更新CVectorSymbolCanvas，bug5158
	1)更新OnContextMenu：增加‘删除记录’菜单；增加‘网格设置’菜单
2)增加void OnDeleteRecord(wxCommandEvent &event)：响应‘删除记录’菜单，删除岩性符号记录
3)增加void OnGridSetting(wxCommandEvent &event)：调用5.CVectroSymbolGridSettingDlg，设置网格是否显示、大小
4)增加enum ID_Menu_Spline：样条插值线
5)更新OnSymbolType：ID_Menu_Spline时，设置CAnyVectorSymbolPlot的m_operation为VS_Spline
2.更新CWorkWellProfileCanvas，bug5138，5140
	1)更新OnCurveUnionLeftRight，bug5138：提示用户是否要合并
	2)更新OnSave，5140：保存时，添加进度条
	3)更新OnCurveNew：新建曲线道时，导入已存在曲线（删除的暂不可添加）
3.更新CWellLogSedimentaryCycleSettingDlg，bug5146
1)更新构造函数CWellLogSedimentaryCycleSettingDlg(wxWindow *parent, CAnyLogSedimentaryCycle *sedCycle, const CGeoRect<double> &extent, const CAnyLogSedimentaryCycle::CycleDescriptions &descs = CAnyLogSedimentaryCycle::CycleDescriptions(), bool isPositive = true)：增加bool isPositive，默认增加正旋回
	2)增加bool m_isPositive：记录构造函数中的bool isPositive
	3)增加OnAdd：2)m_isPositive为true，默认添加正旋回；为false，默认添加反旋回
4.更新CWellLogCurveStatDlg，bug5142：按顺序建立cols，之后不再调整cols的顺序，防止鼠标拉框选择grid时某些列不高亮显示
5.增加CVectroSymbolGridSettingDlg(wxWindow *parent, CAnyVectorSymbolPlot *hook, CAnyView *view)，配置矢量符号画板的网格是否显示、网格大小
6.更新CVectorSymbolCanvasDlg
1)更新InitPage：增加‘曲线’（样条插值线）按钮
7.更新CWelllogCurvePropertyDlg，bug5137：配置多条填充线；横平竖直曲线开关
1)增加成员变量wxComboBox *m_fillingLineChoice（填充线选择框）、int m_lastFillingLineSelection（当前填充线order）
2)更新InitCurveFillingPanel：增加填充线选择框控件m_fillingLineChoice；增加填充线‘删除’按钮
3)增加void SaveFillingLineProperty(bool &isFilling, CAnyLogCurveTrack::FillingLineProperty &lineProperty)：保存填充线设置
4)增加void LoadFillingLineProperty(bool isFilling, const CAnyLogCurveTrack::FillingLineProperty &lineProperty)：读取填充线设置
5)增加void OnComboBoxFillingLine( wxCommandEvent& event )：响应填充线变化，保存当前线设置，读取新线设置
6)更新InitData：初始化填充线选择框控件m_fillingLineChoice，调用LoadFillingLineProperty读取填充线设置；读取横平竖直曲线设置(m_check_component_square
7)更新RefreshWellCanvas：调用3)SaveFillingLineProperty，保存填充线设置；保存横平竖直曲线设置(m_check_component_square)
8)增加void OnRemoveFillingLine(wxCommandEvent& event)：响应‘删除’按钮，删除填充线
	9)增加成员变量wxCheckBox *m_check_component_square（道中曲线是否为横平竖直）
	10)更新InitComponentPanel：增加横平竖直曲线设置的控件（m_check_component_square）
8.增加CBindCurveFormulaDlg(wxWindow *parent, const wxArrayString &choices, const std::vector<std::string> &toReplacedStrs, bool isBindPara)：将公式中曲线与选择的曲线对应起来
9.更新CRasterCalculatorDlg
1)增加成员变量std::map<int,std::vector<std::string>> m_btnParaStrings：保存id对应公式中的参数
2)更新InitLayout：设置各算子公式中含有的参数m_btnParaStrings（例如ACR，含有AC参数）；增加CIM按钮，让用户匹配各方法曲线及设置权重，自动输出公式
3)更新OnBtnOperator：点击算子按钮（ACR等），调用CBindCurveFormulaDlg，匹配该曲线中的参数；点击CIM，调用CBindCurveFormulaDlg匹配各方法曲线及设置权重，自动输出公式
-----------------------------
20160428 pc
基于子块的三维魔方粒
-----------------------------
20160503 pc
沿层切片魔方模式
页岩油气活动树
--------------------------------------------------------------------------------------------------
20160506
李治昊
2016/5/3 C 2016/5/6
1.更新CWelllogAllPropertyDlg
	1)更新RefreshWellCanvas：设置每条道的宽高比CAnyLogTrackComponent::m_curWidthScale
2.更新CWelllogCurvePropertyDlg
	1)更新InitComponentPanel：增加宽高度比的输入控件
	2)更新InitData：读取道的宽高度比
	3)更新RefreshWellCanvas：设置道的宽高度比
3.更新CWelllogDepthPropertyDlg
1)更新InitLayout：增加宽高度比的输入控件
	2)更新InitData：读取道的宽高度比
	3)更新RefreshWellCanvas：设置道的宽高度比
4.增加CRealSymbolCanvas(wxWindow *parent, wxWindowID id, bool isAllSymbol)：底层CAnyRealSymbolPlot的图版
5.增加CRealSymbolCanvasDlg(wxWindow *parent, const wxString &title, int width = 400, int height = 400,	const std::string &fontname = "google", int page = 0, int index = -1, const ColorStyle &color = ColorStyle(), double size = 10., double rotation = 0.)：CRealSymbolCanvas的窗口，设置实体符号
6.更新CVectorSymbolCanvasDlg
	1)更新InitPage：增加‘符号’按钮，绘制实体符号
7.更新CVectorSymbolCanvas
	1)增加OnSymbolType：响应CVectorSymbolCanvasDlg中1)‘符号’按钮
	2)增加OnLButtonUp：调用CRealSymbolCanvasDlg，创建实体符号
	3)更新OnSymbolProperty：调用CRealSymbolCanvasDlg，配置实体符号的属性
8.更新CSedimentaryWaveAnalysisDlg
	1)更新InitPage：井图版默认为页面模式；隐藏Milankovitch cycle控件
	2)更新InitWell：图版范围默认为曲线深度范围
	3)更新OnLithoExplaination：岩性解释产生的曲线默认左边填充
	4)增加CSedimentaryScaleDetailDlg *m_scaleDetailDlg：自动扫描执行后，只弹出一个窗口
	5)更新OnAutoScan、OnAutoScan1：自动扫描，只弹出一个窗口
	6)更新ApplySetting：model、cycle图版，x标记线设为y值最大的x
9.更新CSedimentaryScaleDetailDlg
	1)更新OnMenuCalGeologicalTimingCurve：产生沉积速率曲线后，将该曲线设为方波
-----------------------------------
20160506 wb

1底层活动树修改
2增加了新体积法的资源参数定义
3增加了新体积法的计算方法和参数定义
4修改了有偏和无偏的死机和翻译错误，恢复了参数敏感分析结果图为原始值
5裂缝分析增加执行进度条，修改裂缝分析为非模态对话框
6参数分析可以支持等值线多选
7参数分析增加清空函数，在清空上次结果时会给出提示
8修改了参数分析死机问题
9修改了逐步回归死机问题
10界面重构了非常规体积法逻辑和相关界面

---------------------------------------------
20160511 wb
1 底层修复了活动树的显示问题
2 底层非常规体积法增加了新的参数（rf cf）和计算方法，以及参数类型
3 递减曲线增加了数据获取的新方法
4 修复了参数分析时多边形多选的错误
5 修改了概率面板显示不完整的错误
6 递减曲线现在会默认从最高位开始计算模拟了
7 非常规体积法增加了CF RF 参数以及对应的计算结果
8 修改了非常规体积法的计算流程
9 修改了参数分析多选时mapcanvas的变量控制
10 修改了活动树的显示错误和翻译   修改了体积法的翻译

-----------------------------------
20160511 pc
三参数反演代码效率优化
地质甜点cube cell显示
地震切片多线程
多图层管理
--------------------------------------------------------------------------------------------------
20160513
李治昊
2016/5/9 C 2016/5/13
1.更新CTextEntry3Dialog
1)增加成员变量wxRadioBox *m_phaseSample、wxSpinCtrlDouble *m_sampleAccurary：“相位采样”、“采样精度”输入控件
	2)更新InitPage：增加“相位采样”、“采样精度”输入控件
2.更新CVectorSymbolCanvas
1)更新OnContextMenu：存在多个选中图元情况，弹出‘克隆’、‘移除’、‘清空选中图元’菜单
	2)更新OnDeleteSymbol：存在多个选中图元情况，删除选中图元
	3)更新OnClear：清空图版时，清空选中的图元
	4)更新OnCloneSymbol：克隆多个选中图元
	5)更新OnClearSelections：清空选中图元
3.更新CToolboxContourGridPage
	1)更新CheckDataValid：证据权产生的等值线图层，不判断idw数量，防止死机
4.增加CMyMultiChoiceDlg(wxWindow *parent, const wxString& message, const wxString& caption, const wxArrayString& choices)：相对wxMultiChoiceDialog，增加‘全选’勾选控件
5.更新CSpatialAnalysisTreeCtrl::OnMapAlgebra：多选图层时，调用4.CMyMultiChoiceDlg
6.更新CActivityTreeCtrl::DoRunShalePlayEvidence：多选图层时，调用4.CMyMultiChoiceDlg
7.增加CRockPhysicalAnalysisDlg(wxWindow *parent, std::vector<CAnyLogCurveTrack *>&curveTracks)：岩石物理分析窗口
8.更新CWorkWellProfileCanvas
	1)更新OnContextMenu：增加‘岩石物理分析’菜单
2)增加void OnRockPhysicalAnalysis( wxCommandEvent &event)：响应‘岩石物理分析’菜单，调用7.CRockPhysicalAnalysisDlg
9.增加CSWTCurveDlg(wxWindow *parent, std::vector<CAnyLogCurveTrack *>&curveTracks)：swt波动分析窗口
10.更新CSedimentaryWaveAnalysisDlg
	1)更新InitPage：增加‘波动分析’按钮
	2)增加void OnSWT( wxCommandEvent& event)：响应‘波动分析’按钮，调用9.CSWTCurveDlg
---------------------------
20160517 wb

1清理了体积法和类比法的缺陷
2更正了体积法公式
3参数分析增加了自动计算网格行列的功能
---------------------------
20160519 pc
多sgy显示到一个剖面上；
--------------------------------------------------------------------------------------------------
20160520
李治昊
2016/5/16 C 2016/5/20
1.更新CSWTCurveDlg
	1)更新InitPage：“Level”改为“Single Level”的wxCheckBox
2.更新CSedimentaryWaveAnalysisDlg
	1)更新OnEraseWildValue：去野值后，保持一个道
	2)更新OnHighPassFilter：去趋势后，保持一个道；调用3.CHighLowPassFilterDlg
3)更新void InitWell(bool isInit = true)：增加参数bool isInit，为true情况，重置井曲线最大最小值
3.增加CHighLowPassFilterDlg，配置高低通窗口
4.更新CWellLogCurveStatDlg
1)更新构造函数CWellLogCurveStatDlg(wxWindow *parent, CAnyLogTrackSection *hook, std::vector<CAnyLogCurveTrack *>&curveTracks, const std::vector<double> &invalidValues)：增加参数const std::vector<double> &invalidValues，存储curveTracks对应的非法值
2)增加std::vector<double> m_invalidValues：存储curveTracks对应的非法值
	3)更新InitGridData：不统计非法值的sample
5.更新CRockPhysicalAnalysisDlg
1)更新构造函数CRockPhysicalAnalysisDlg(wxWindow *parent, std::vector<CAnyLogCurveTrack *>&curveTracks, const CAnyScatterMatrix::ElementVector &xpts = CAnyScatterMatrix::ElementVector(), const CAnyScatterMatrix::ElementVector &ypts = CAnyScatterMatrix::ElementVector())：增加参数xpts，ypts，记录已存在的x、y坐标
2)增加CAnyScatterMatrix::ElementVector m_xpts、CAnyScatterMatrix::ElementVector m_ypts：记录构造函数中的参数xpts，ypts
3)增加void GetSampleMinMax(double &minVal, double &maxVal, const std::vector<AnyTraceSample> &samples)：获取samples的最大最小值
	4)增加void Clone(CRockPhysicalAnalysisDlg *other)：复制属性
6.更新CWorkWellProfileCanvas
	1)更新OnCurveStat：统计各个曲线道的非法值，传入CWellLogCurveStatDlg中
7.更新CNPVScatterCanvas
	1)增加enum MenuType：表示调用的图版类型
{MT_Default = 0,
		MT_Rock_Physical,
		MT_Wave_Analysis,	};
2)更新OnContextMenu：MT_Rock_Physical，有element选中时，弹出‘参数重置’、‘交会图’菜单
	3)增加void OnReset(wxCommandEvent& event)：响应‘参数重置’
	4)增加void OnCrossPlot(wxCommandEvent& event)：响应‘交会图’，弹出岩石物理分析窗口
	5)增加bool IsElementPicked()：是否有点被选中
--------------------------------------------------------------------------------------------------
20160524
pc
SDE图层可修改绑定的资评对象；
同级资评对象间互相拖动改变排序；
地震道多线程；
360道集椭圆拟合；
UpLoadGFSBatch;
拆分测网信息表
-----------------------------------
20160527 wb
1增加了新的页岩气产量动态分析版本的框架(底层 + 界面)
2参数分析增加了自动保存框选范围功能
3增加了资源丰度类比的计算结构
-----------------------------------
20160530 pc
UploadGFSRemote
备份表加remark字段
-------------------------------------
20160601 wb 
1 修改了类比法资源丰度计算公式
-----------------------------------
20160601 pc
四种属性分析
动态分析版新增9个表

---------------------------------------
20160602 wb
1 添加了动态分析版本的菜单界面活动树及翻译
2 增加了动态分析版本相关的数据库表的读取及右键显示翻译等
3 增加了相关数据表，升级了数据库
--------------------------------------------------------------------------------------------------
20160603
李治昊
2016/5/30 C 2016/6/3
1.更新CRockPhysicalAnalysisParaDlg
	1)更新InitPage：增加‘归一化’控件；增加‘形状’选择下拉框
2.更新CNpvPracticePage：经济评价历史记录页面，增加“模糊查询”功能
	1)增加wxString m_fuzzyContent、wxString m_fuzzyField： 保存模糊查询“字段”、“内容”
2)增加void OnColRClick( wxListEvent &event )：右击列头，弹出‘模糊查询’菜单
	3)增加void OnFuzzySearch(wxCommandEvent &event)：设置查询字段、内容
	4)更新InsertRows：根据模糊查询设置，筛选记录
3.更新CRockPhysicalAnalysisDlg
1)更新构造函数CRockPhysicalAnalysisDlg(wxWindow *parent, std::vector<CAnyLogCurveTrack *>&curveTracks, const std::vector<std::string> &wellnames, const CAnyScatterMatrix::ElementVector &xpts = CAnyScatterMatrix::ElementVector(), const CAnyScatterMatrix::ElementVector &ypts = CAnyScatterMatrix::ElementVector())：增加const std::vector<std::string> &wellnames，存储每条道的井名
	2)更新OnOK：增加数据‘归一化’处理；y方向直方图按横向显示；处理多井维度显示
4.更新CWorkWellProfileCanvas
1)更新OnRockPhysicalAnalysis：调用CRockPhysicalAnalysisDlg时，传入一组井名称
5.更新CNPVScatterCanvas
1)更新构造函数CNPVScatterCanvas(wxWindow *parent, wxWindowID id, int type = MT_Default)：增加int type，指定图版类型，岩石物理图版需要初始化CAnyRockPhysicalTernaryPlot
2)增加CAnyRockPhysicalTernaryPlot *m_rockPhysicalHook
3)更新OnContextMenu：弹出‘三元图’相关操作菜单：‘创建’、‘拖动’、‘Reshape’、‘默认’
4)增加void CNPVScatterCanvas::OnTernaryOperation( wxCommandEvent& event)：响应‘三元图’相关操作菜单，处理三元图操作

---------------------------------------
20160602 wb
1重新添加了新的类比法
2动态分析增加了数据库导入

------------------------------------------
20160606 wb
1 类比法增加资源丰度选项和相对应的界面调整
2 修改了类比法公式
3 增加了地貌分析界面
--------------------------------------------------------------------------------------------------
20160608
李治昊
2016/6/6 C 2016/6/10
1.更新CNpvPriceRecordPage
	1)更新InitGrid：页岩油模式，增加补贴列
	2)更新SetColor：页岩油模式，设置补贴列颜色
	3)更新InitData：页岩油模式，设置补贴列默认值
	4)更新GetNPVPriceRecord：页岩油模式，设置补贴到底层
	5)更新IsRecordFilled：页岩油模式，检查补贴列数据是否填写
6)更新OnCellChanged：页岩油模式，检查补贴列数据是否合法
7)更新ResetRecord：页岩油模式，设置/读取补贴列数据
2.更新CRockPhysicalAnalysisDlg
	1)增加CAnyLogTrackSection *m_hook：当前所选井的hook
	2)更新Clone：对m_hook进行赋值
3)增加void CreateTernaryCurves(std::vector<CAnyRockPhysicalTernary Plot::TernaryPercentage> &ternaryPercentages)：根据三元组分比例，创建三条曲线
4)更新InitData：颜色、形状、大小选择列，加‘深度’选项
5)更新OnOK：处理颜色、形状、大小列的‘深度’选项
3.更新CWorkWellProfileCanvas
	1)更新OnRockPhysicalAnalysis：对CRockPhysicalAnalysisDlg::m_hook进行赋值
4.更新CNPVScatterCanvas
	1)更新OnContextMenu：弹出‘三元图’相关操作菜单，‘移除’、‘创建曲线’、‘属性’
2)增加void OnTernaryDelete(wxCommandEvent& event)：响应‘移除’菜单，删除图版中三元组分三角形
3)增加void OnTernaryCreateCurve(wxCommandEvent& event)：响应‘创建曲线’菜单，调用CRockPhysicalAnalysisDlg::CreateTernaryCurves,创建三组分曲线道
4)增加void OnTernaryProperty(wxCommandEvent& event)：响应‘属性’菜单，编辑三元组分三角形的属性（拐点名称、拐点位置、绘制颜色等）
5.更新CVectorSymbolCanvas
	1)增加wxString m_symbolName：记录当前elements的名称
	2)更新OnLoad、OnSave：读取/存储记录后，将名称赋值给m_symbolName
6.更新CWellLogLithRasterSettingDlg，bug5336
1)更新OnCellDClick：选择矢量符号时，将当前行名称传入CVectorSymbolCanvas；确定后，将CVectorSymbolCanvas的m_symbolName写入表格
7.更新CNpvSummaryRecordPage
	1)更新SetSummaryData：页岩油版本，显示油/气补贴

----------------------------
20160612 wb


1 增加了产能分析界面的初始界面，和活动树
2 增加了参数分析全范围的获取（待测试）
3 增加了类比法应用后直接计算中间和最终结果
4 修改了多地层资源量计算问题
5 修改了非常规打分模板内容
6 修改了非常规NPV相关问题
7 增加了数据库的三个产能分析新表的读写
----------------------------
20160615 pc
相干体创建

--------------------------------------------------------------------------------------------------
20160617
李治昊
2016/6/12 C 2016/6/17
1.更新CRockPhysicalAnalysisParaDlg
	1)更新OnOK：不将x、y选择disable，防止弹出二次交会后主窗口x、y轴不可选择
2.更新CLogCFMAnalysisDlg
1)更新构造函数：CLogCFMAnalysisDlg( wxWindow* parent, std::vector<CAnyLogCurveTrack *>&curveTracks, const std::vector<double> &invalidValues, double minDepth, double maxDepth,…)：增加参数std::vector<CAnyLogCurveTrack *>&curveTracks, const std::vector<double> &invalidValues, double minDepth, double maxDepth，传入曲线道、非法值、最小、最大深度
2)增加bool m_isOkClicked（ok按钮是否点击）；std::vector<CAnyLogCurveTrack *> m_curveTracks、std::vector<double> m_invalidValues、double m_minDepth、double m_maxDepth：存储构造函数中对应的值；CLogFractureFractal *m_logff：计算综合维度的类
	3)增加InitData：初始化各控件的值
	4)增加void OnCheckAll( wxCommandEvent &event )：响应‘全选’控件
5)增加void OnCellChanged(wxGridEvent &event)：响应表格中值的变化，检查非法值（左值需小于右值、权系数需大于1）
	6)更新OnOK：将界面数据传入底层CLogFractureFractal
3.更新CWorkWellProfileCanvas
	1)更新OnContextMenu：曲线道，增加‘综合维度分析’菜单
2)增加void OnFractureFractal( wxCommandEvent &event )：响应‘综合维度分析’，调用CLogCFMAnalysisDlg，之后产生新的曲线道
3)更新OnRockPhysicalAnalysis：对CRockPhysicalAnalysisDlg的m_loglayer赋值
4.更新CRockPhysicalAnalysisDlg
1)增加CAnyLogLayer *m_loglayer：通过其获取所有井
2)更新Clone：获取m_loglayer
3)更新InitPage：增加‘添加井’按钮；交会图面板，‘缩放’菜单可用
4)增加void OnAddWell(wxCommandEvent& event)：响应‘添加井’，通过m_loglayer，添加其他井，之后调用InitData，初始化所有的下拉选择框
5)更新InitData：初始化之前，先清空所有的下拉选择框
6)增加std::vector<CAnyLogCurveTrack *> m_addedCurveTracks：记录添加的所有井的道
5.更新CNPVScatterCanvas
1)更新OnContextMenu：弹出‘岩相’相关操作菜单，‘创建’、‘移除’、‘密度分析’、‘属性’；4)bool m_isZoomMenuValid为true时，弹出‘放大’、‘缩小’等菜单
2)更新OnTernaryDelete：响应‘岩相’‘移除’菜单，删除图版中岩相多边形
3)更新OnTernaryProperty：响应‘岩相’‘属性’菜单，编辑岩性多边形名称，刷新联合概率密度曲线；响应‘岩相’‘密度分析’菜单，调用CAnyRockPhysicalTernaryPlot::CreateEllipse- AndPdfCurveViaElements，生成并绘制联合概率密度曲线
4)增加成员变量bool m_isZoomMenuValid：缩放相关菜单是否起作用
5)增加OnZoomActivate、OnZoomIn、OnZoomOut、OnZoomExtent、OnZoomFull、OnPan：响应缩放功能
6.更新CVectorSymbolCanvas
	1)更新OnSymbolType：bug5428，点击‘圆形’、‘多边形’等按钮后，清空选中符号
	2)更新OnLoad：bug5442，用户输入搜索内容读取记录，便利用户
7.更新CNpvResourceRecordPage
1)更新ResetRecord：评价项目版，读取记录前，如果资源类型不为体积法时，设置当前资源类型为体积法
8.更新CSDELayerProfilePage
	1)更新InitSelectedGeometries：bug5420，点图层批量修改，重新设置长度
---------------------------
20160621 pc
地震多线程清cache缺陷


------------------------------
20160622 wb
1 调整了动态分析的菜单和活动树
2 调整了动态分析的属性表显示可见与不可见
3 完成了动态分析的界面部分调整
4 完成了动态分析属性数据的多种输入提交方式
5 完成了动态分析的地质变量计算功能
6 完成了动态分析8个图版的绘制功能（待测试）
7 完成了动态分析导入导出数据模块的扩展
8 完成了动态分析基于实际数据的产量压力图版的绘制
9 完成了已有实际输入的导入导出（导入导出数据表已上传至doc目录）
10 完成了非常规对象属性对话框的文字说明
11 完成了非常规菜单的调整
12 修改了参数分析自定义行列和距离时的联动和网格的生成。
---------------------------
20160623 pc
地震功能模块、切片，计算进度输出到Log
相干体内存优化
三参数法内存优化
--------------------------------------------------------------------------------------------------
20160701
李治昊
2016/6/20 C 2016/6/24
1.更新CNpvTreeBook
	1)更新构造函数：页岩油打开海外模型的经济评价
	2)更新LoadPagesData：海外模型（页岩油）的经济评价，读取历史记录时，改变页面id
2.更新CNpvDecisionTreePage
	1)更新ResetAbroadRecord：初始化页岩油经济评价的观察参数（现金流出、钻井投资、净现值）
3.更新CNpvPolicyRecordPage
1)更新ResetAbroadRecord：初始化页岩油经济评价的起止时间
4.更新CNpvPracticePage
	1)更新InsertRows：设置页岩油版本的备注为“Shale”
5.更新CNpvProfitPage
1)更新CanPageChanged：设置页岩油版本的净现值、内部收益率
6.更新CNpvSpiderDiagramPage
	1)更新OnPageShow：设置页岩油版本的敏感性最小值、最大值、变化步长
	2)更新ResetAbroadRecord：设置页岩油版本显示的敏感性值为内部收益率
7.更新CFormulaParserDlg
	1)更新InitVariableBtnsSizer：增加‘最大值’、‘最小值’check控件
	2)更新OnOK：响应‘最大值’、‘最小值’check控件，增加关键词<Mn>\<Mx>
3)更新OnCheck：响应‘最大值’、‘最小值’check控件
8.更新CVectorSymbolCanvas
	1)更新OnLButtonDblClick：bug5489，绘制多边形，最少三个点起，防止绘制直线
---------------------------
20160707 pc
地震剖面增加按入射角排序功能
成像测井解译
chunk挂掉了不要每次都判断isrunning，改为挂掉后一段时间内都认为它挂掉了

--------------------------------------------------------------------------------------------------
20160708
李治昊
2016/7/4 C 2016/7/9
1.增加CRiskFactorRatioCanvas：风险因素对比图版
2.增加CRiskFactorRatioCanvasDlg：风险因素对比图版的窗口
3.更新CConditionProbabilityDlg
	1)更新GetResourceComparisionRecord：获取历史记录中的面积、厚度
2)更新InitResourceComparisonPanel：初始化面积、厚度、偏差图版
	3)增加InitRCAreaCanvas：绘制面积canvas
	4)增加InitRCThicknessCanvas：绘制厚度canvas
5)增加InitRCDeviationCanvas：绘制偏差canvas
	6)更新InitResourceComparisonCanvas：调用2)―4)绘制相应图版
7)增加成员变量CRiskFactorRatioCanvas *m_riskFactorCanvas（风险因子统计图板）、
	8)更新InitDrillFailurePanel：增加CRiskFactorRatioCanvas图版；增加图版选择控件
	9)更新OnSize：刷新风险因子统计图版m_riskFactorCanvas
10)增加成员变量wxPanel *m_drillFailurePanel（失利井面板）、wxComboBox *m_failureCanvasChoice（失利井面板中图版选择）、CNPVScatterCanvas *m_failureCauseCanvas（失利原因分析图版）
11)更新InitDrillSuccessPanel：增加m_successCountCanvas（不同类型成功比例分析图板）、m_successProbabilityCanvas（成功概率与钻后成功率图板）；增加增加图版选择控件
12)更新OnSize：增加刷新图版m_riskFactorCanvas、m_successCountCanvas、m_successProbabilityCanvas
13)增加成员变量wxPanel *m_drillSuccessPanel（成功井面板）、wxComboBox *m_sucessCanvasChoice（成功井面板中图版选择）、CNPVScatterCanvas *m_successCountRatioCanvas（不同类型成功比例分析图板）、CNPVScatterCanvas *m_successProbabilityCanvas（成功概率与钻后成功率图板）
14)增加void InitDrillFailureCauseCanvas(DrillFailureRecord &record)：绘制失利原因分析图版
15)增加void InitDrillFailureRiskFactorCanvas (DrillFailureRecord &record)：绘制风险因子统计图版
16)增加void InitDrillSuccessCountRatioCanvas(DrillSuccessRecords &records)：绘制不同类型成功比例分析图板
17)增加void InitDrillSuccessPostProbabilityCanvas(DrillSuccessRecords &records)：成功概率与钻后成功率图板
4.增加CNpvAbroadReverseCalculationDlg(wxWindow *parent, AboardGenericNPV *npv, const DependedParaMap &map)：经济评价，反算某一参数窗口
5.更新CNpvProfitPage
	1)更新InitPage：增加‘反算’按钮
2)增加void OnReverseCalculate(wxCommandEvent &event)：调用4. CNpvAbroadReverseCalculationDlg，反算某参数
---------------------------
20160708 pc
测网信息zlib压缩

---------------------------------
20160708  wb

1 重新修改了shalehydro模块和不确定模块的结合
2 提交了双孔交会图含添加编辑线功能
3 提交了双孔最后页面产量分组图绘制
4 和cj重构了双孔第一个界面的数据读写部分和界面
5 修改了产能分析的界面和数据读写模块
6 修改了产能分析动压和静压的图形（含平行线和选点）等。
---------------------------
20160713 pc
成像测井道继承地震道；
优化测网形状扫描；
添加参数记录测网各个变量是否有数据；
优化椭圆拟合、三角滤波、角道集部分时窗下计算速度
--------------------------------------------------------------------------------------------------
20160715
李治昊
2016/7/11 C 2016/7/15
1.更新CNpvPriceRecordPage
1)增加void OnCellLeftClick(wxGridEvent& event)：响应表格左键单击，调用2) SetAbroadCanvas，绘制海外模型参数的数据
2)增加static void SetAbroadCanvas(wxGrid *grid, CNPVScatterCanvas *canvas, int row)：在canvas中绘制表格grid第row行的内容，static便于其他类直接调用
3)增加static CNPVScatterCanvas *InitCanvas(wxWindow *parent, short id)：创建父亲为parent，编号id的CNPVScatterCanvas对象，static便于其他类直接调用
4)更新InitPage：海外模型，增加图版，用于显示每年数据
5)增加成员变量int m_abroadRow：记录图版显示数据的当前行
6)更新OnPageShow：海外模型，调用2)SetAbroadCanvas，绘制数据
2.更新CNpvCostOilRecordPage、CNpvCostBasicRecordPage、CNpvTaxRecordPage、CNpvSummaryRecordPage、CNpvProfitPage、CNpvEDPBasicRecordPage、CNpvEDPScheduleRecordPage、CNpvCostRecoverPage、CNpvProductionSharePage
	1)增加CNPVScatterCanvas *m_abroadCanvas：海外模型图版
2)增加增加成员变量int m_abroadRow：记录图版显示数据的当前行
	3)增加void OnSize( wxSizeEvent& event )：刷新1)m_abroadCanvas
4)更新OnCellLeftClick：响应表格左键单击，调用1.2)SetAbroadCanvas，绘制参数数据
5)更新OnPageShow：海外模型，调用1.2)SetAbroadCanvas，绘制数据
3.更新CNpvAbroadReverseCalculationDlg
1)增加void OnComboboxSelected(wxCommandEvent &event)：响应反算参数、结果参数的选择变化，将其对应原始值填写入文本框中
4.更新CRasterCalculatorDlg：bug5582，曲线计算时剔除非法点
	1)增加std::vector<double> m_invalidValues：记录测井道的非法值
	2)更新OnOk：将当前道的非法值m_invalidValues[j]，传入CAnyTraceSampleAlgebra
5.更新CNPVScatterCanvas：bug5564，岩石物理分析图版可配置x/y轴范围
	1)更新OnContextMenu：岩石物理分析模式，增加属性配置，便于用户设置x/y轴范围等
6.更新CToolboxContourGridPage
1)更新InitContourLevelsPanel：标注页面，增加‘小数位数’设置
2)更新LoadContourProperties：读取‘小数位数’
3)更新SetContourProperties：设置‘小数位数’到底层的CAnyContour
4)更新wxSpinCtrlDouble *m_ignoreDistanceSpin：忽略样本数据距离
5)增加wxStaticBoxSizer *InitSampleIgnoreDistanceSizer(wxWindow *parent)：增加‘忽略样本数据距离’配置控件
6)更新InitKrigingSettingPanel：调用5)InitSampleIgnoreDistanceSizer，创建‘忽略样本数据距离’配置控件
7.更新CToolboxContourWizard
1)更新SetContourSetting：设置‘忽略样本数据距离’到CAnyContour
	2)更新LoadContourSetting：读取‘忽略样本数据距离’
---------------------------
20160719 pc
增加AWE模式存储测网信息
增加managementphase字段在资评对象表
--------------------------------------------------------------------------------------------------
20160722
李治昊
2016/7/18 C 2016/7/22
1.更新CTopicCanvasDlg
	1)增加void OnSize(wxSizeEvent &event)：窗口大小变化时，刷新图版
2.更新CScatterMatrixCanvas
	1)更新OnWindowDisp：‘窗口显示’时，clone当前图版内容后打开
3.更新CLogCanvas
	1)更新OnWindowDisp：‘窗口显示’时，clone当前图版内容后打开
4.更新CBasinProfileDlg
	1)更新CreateBasicPage：仅三级圈闭增加trap step的选择（识别、评价、储备、钻探）
	2)更新UpdataTrapStep：trap step下拉框存在时，更新圈闭阶段
3)增加定义typedef std::map<std::string, std::vector<wxPanel*>> TrapPages，存储（识别、评价、储备、钻探）对应的页面
4)增加成员变量TrapPages m_trapPages：圈闭对应的页面
5)增加void InitTrapPages(wxBookCtrlBase *notebook)：初始化圈闭对应的页面
6)增加void OnComboBoxTrapPhaseSelected(wxCommandEvent &event)：响应圈闭阶段的变化，调用5)InitTrapPages，设置不同阶段对应的页面
7)更新SetSinglePropertyGrid：创建/更新”识别、评价、储备、钻探”阶段对应的界面
8)更新CommitsinglePropertyPage：提交”识别、评价、储备、钻探”阶段对应的界面数据
---------------------------
20160802 pc
地震相关缺陷；
数据库升级自动改phasetype空的为Ⅰ类；
报表合并单元格缺陷；
---------------------------
20160803 pc
特定版本号数据库升级缺陷修复；
资评对象加载自动修复速度优化；
模块权限控制；
--------------------------------------------------------------------------------------------------
20160803
李治昊
2016/8/1 C 2016/8/5
1.更新CConditionProbabilityDlg
1)更新构造函数CConditionProbabilityDlg(wxWindow *parent, CAccumulationElement *curElement, bool isConditional = true, int type = 0, int page = -1, long predrillPhase = -1, long postdrillPhase = -1)：增加int page, long predrillPhase, long postdrillPhase，page默认为-1，页面全部显示，为0-5时分别显示对应页面（成功井、失利井等）；long predrillPhase, long postdrillPhase为资源量比对时查找钻前、钻后对应的阶段
2)增加成员变量int m_page、long m_predrillPhase、long m_postdrillPhase：分别记录构造函数中传入的参数值
3)更新InitLayout：根据m_page值，分别显示不同页面
4)更新InitDrillSuccessCanvas：统计数据时，仅加入将与每一评价对象最新的managementphase匹配的记录
2.更新CBasinProfileDlg，补充体积三参数对应managementphase多套数据的保存
	1)增加void OnTrapSurveyPic( wxPropertyGridEvent& event)：地理信息存储/读取图片
2)增加void SaveTrapRelatedRecords(long managementphase, bool isCommit = true, bool isSave = true)：保存圈闭相关表格数据
3)增加void LoadTrapRelatedRecords(long managementphase)：读取圈闭相关表格数据
4)增加unsigned long GetManagementPhase(long ePhase = -1, long rPhase = -1)：获取识别阶段
	5)增加void GetSubPhase(long phase, long &ePhase, long &rPhase)：获取子识别阶段
	6)增加void ChangeTrapKindEnabledStatus()：设置圈闭类别控件（I,II,III）的可用性
	7)更新OnOK：trap提交数据时，同时设置子对象managementphase
--------------------------------------------------------------------
20160803 wb
1 重新整理了翻译文件和字段；
2 与pc核对了导出部分的翻译和字段；
3 完成了导入部分的工作；
4 解决了体积法和区带版本的缺陷
5 协助志浩完成属性页的调整
6 配合彭城志浩完成菜单报告等对应的菜单和界面修改
7 解决了王提出的非常规版本的几个问题
8 完成了非常规裂缝的单独活动直接弹出界面。完成了地震弹出选择图层和弹出对话框。
  完成了波动分析弹出选择图层和井位的对话框（直接显示读取曲线有困难，只做到打开图层那一步）
----------------------------------------------------------
20160804 pc
地震切片mapreduce崩机修复；
点图层SDE属性表保存崩机修复；

--------------------------------------------------------------------------------------------------
20160804
李治昊
统计可视化初版；
----------------------------------------------------------
20160817 pc
多个资源量计算模块提交时，managementphase的赋值
报表相关缺陷
升级数据库老软件版本不允许登录
优选缺陷

----------------------------------------------------------
20160819
李治昊
2016/8/16 C 2016/8/20
1.更新CNpvCostOilDetailDlg
	1)更新OnCellDClick：投资参数，修复双击不弹出投资设置的窗口
2.更新CNpvSummaryRecordPage
	1)更新OnCellSelected：emv参数，提示字符串，将最小商业规模改为最小商业成功率
3.更新CAssessorFrame
	1)更新OnActivity：投资组合版，响应页岩气经济评价
4.更新CNpvDecisionTreePage
	1)更新SetParametersForDecisionTree：圈闭版，概率由pg改为pc
5.更新CBasinProfileDlg
	1)更新OnNotebookPageChange：圈闭版本，断层表显示‘add’、‘del’按钮，其余表不显示
2)更新CreateBasicPage：基础参数页面，增加二维、三维地震程度输入控件
3)更新SetSinglePropertyGrid：圈闭相关表格，隐去不需要显示的字段；位置与测网表（PRT_Trap_Survey），image字段用颜色区分，填写默认的盆地及一、二级构造单元名称；预探井基本表，试油情况增加枚举值（完成、正试、待试）；PRT_Trap_Exploration表格，将写入二维、三维地震工作程度写入基础参数页面相应控件
4)增加成员变量std::vector<TrapExplorationRecord> m_TrapExplorationRecord（勘探数据数组）、int m_TrapExplorationRecordOrder（正在使用的勘探数据id）
5)更新SaveTrapRelatedRecords：保存勘探数据；预探井基本页面升降级，和基础信息页面钻后变动情况相同
	6)更新LoadTrapRelatedRecords：读取勘探数据
	7)更新OnComboBoxTrapPhaseSelected：报审状态选择“未报审”，提示切换到钻后状态
6.更新CElementVisualStatDlg
	1)更新InitPage：绘制风格增加饼图
	2)更新RefreshDiscoveryCountCanvas：新发现圈闭个数图版，增加饼图显示
	3)更新RefreshDiscoveryResourceCanvas：新发现资源量图版，增加柱状图、饼图显示
---------------------------------------
20160819 wb
1 圈闭版增加了导入评价对象后自动添加必要记录和字段值的功能
2 增加了报表导出EXCEL功能。实现了大小 文字 单元格 颜色 合并单元格等内容导出成excel表格。
3 增加了动态物质法横线和网格。
4 其他缺陷修复见对应的缺陷修复文档。
----------------------------------------------------------
20160823 pc
trap_exploration表的seismiclength,seismicarea改成字符串型
导出单个圈闭到mdb
多选资评对象删除
删除多余历史活动的接口
----------------------------------------------------------
20160826
李治昊
2016/8/22 C 2016/8/26
1.更新CBasinProfileDlg	
	1)更新OnOK：圈闭对象时，提前检查非法属性，防止属性非法时对象仍然创建的问题
	2)将英语I\II\III改为罗马数字Ⅰ、Ⅱ、Ⅲ
3)更新OnComboBoxTrapPhaseSelected：圈闭类别变化时，升级时不可选择III类；降级时不可选择I类
2.更新CWorkWellProfileCanvas
	1)更新OnContextMenu：增加‘归一化’菜单，用于曲线批量归一化
	2)增加OnCurveNormalization：曲线批量归一化
3.更新CElementVisualStatDlg：增加数据油田对比，年份对比，双坐标模式
----------------------------------------------------------
20160902
李治昊
2016/8/29 C 2016/9/2
1.更新CElementVisualStatDlg
1)更新OnNotebookChanged：增加表格与饼图颜色的匹配
2.更新CSDELayerProfilePage
1)更新struct fielddes：增加std::vector<double> m_minSymbolSizes、std::vector<double> m_maxSymbolSizes、std::vector<std::string> m_symbolSizeFields：存储字段符号的最小值、最大值、字段
	2)更新InitGrid：增加‘符号显示字段’、‘符号最小值’、‘符号最大值’
	3)更新InitGridData：初始化‘符号显示字段’、‘符号最小值’、‘符号最大值’列
4)更新SaveCurentColorRangetoMem、SaveCurentColorRangetoDB、LoadFeatureTableFields、InitSelectedGeometries：处理1)相关字段std::vector<double> m_minSymbolSizes、std::vector<double> m_maxSymbolSizes、std::vector<std::string> m_symbolSizeFields
3.更新CBasinProfileDlg
1)更新SetSinglePropertyGrid：钻后信息表格（PRT_Trap_Post），各概率条件设置为enum{0，1}
2)增加bool CanBeSaved(long managementphase)：判断当前评价阶段参数是否可存。钻后状态切换为别的状态后，新状态不可保存
3)更新OnComboBoxTrapPhaseSelected：评价阶段状态切换时，调用2) CanBeSaved，检查当前状态是否可保存
4)更新OnOK：三级圈闭，检查当前调用2) CanBeSaved，检查当前状态是否可提交
4.更新CKrigUncertaintyAnalysisDlg
	1)更新OnOK：解决bug5705，防止产生等值线图层范围不完全
----------------------------------------------------------
20160908
pc
升级数据库，版本号前2位相同则不自动升级，提示用户选择是否升级
增加输出部分地震SGY配置对话框
升级数据库，对带blob字段的表，优化速度，取消select *语句，改用新增的插入语句
AnyDB增加接口，插入带多个blob字段的数据到数据库
数据库清理，增加对概率树的清理，根据概率树表与a_risk的关联关系来进行

----------------------------------------------------------
20160909
李治昊
2016/9/5 C 2016/9/9
1.更新CToolboxContourGridPage
1)更新CheckXY：检查样本点个数限制最小为2（原先为4），防止井图层2个井生成等值线属性不可更改的问题
2.增加CWellContourSettingDlg：井图层，配置选择曲线、最大/最小深度、响应值类型、行、列、图层名称等
3.更新CRasterCalculatorDlg
1)增加构造函数CRasterCalculatorDlg(wxWindow *parent, std::vector<std::string>&trackNames)：用于批量井曲线运算
	2)增加std::vector<std::string> m_trackNames：记录井曲线名称
	3)更新InitLayout：批量井曲线运算，隐去曲线道、曲线名称选择控件
	4)更新InitCurveData：批量井曲线运算，将批量井曲线加入到待选控件中
	5)更新OnOk：批量井曲线运算，此函数不进行处理，在该类外进行运算
4.更新CLayerTreeCtrl
	1)更新ShowMenu：井图层，增加‘等值线绘制’、‘曲线解释’菜单
2)增加void OnWellContour( wxCommandEvent& event )：井图层，响应 ‘等值线绘制’菜单，根据井位坐标，确定z后（井曲线响应值的平均值/总和等），调用2.CWellContourSettingDlg生成等值线图层
3)增加void OnWellCurveInterpretation( wxCommandEvent& event )：井图层进行批量曲线解释，调用CRasterCalculatorDlg，响应 ‘曲线解释’菜单
---------------------------------------------------
2016 0909 wb
1 重新制作了双孔交会图的右键菜单。
2 和王重新校对了双孔的翻译和单位。
2 重新调整了双孔界面逻辑。
  log页面增加了onsize函数。第一个页面增加了数据合法性提示。增加了复制粘贴功能
  方便测试等直接快速导入数据。增加了第三个geological页面数据提交和修改等。
3 初步完成了动态平衡的界面和相关底层调用。
  有死机情况。双坐标图形添加需要和志浩协商。
 ----------------------------------------------------------
20160913
pc
瞬时属性，时窗属性
所有地震解释模块，Handler的pushback模式修改

----------------------------------------------------------
20160923
李治昊
2016/9/19 C 2016/9/23
1.增加CWellLogPickSettingDlg：well pick属性配置对话框
2.更新CWorkWellProfileCanvas
	1)更新OnContextMenu：增加well pick道的操作菜单，包括新建、变型、删除等
	2)增加void OnWellPickNew(wxCommandEvent &event)：新建well pick，改变鼠标为矩形拾取
	3)增加void OnWellPickRemove(wxCommandEvent &event)：删除一个well pick
4)增加void OnWellPickUpdate(wxCommandEvent &event)：更新一个well pick属性，调用1.CWellLogPickSettingDlg配置属性
	5)增加void AddWellPick()：增加一个well pick，调用1.CWellLogPickSettingDlg配置属性
6)增加成员变量CAnyLogPickTrack *m_pickTrack（well pick道）、int m_pickPos（变型时当前well pick对应的边界位置（顶/底））：
	7)更新OnCurveNew：响应新建‘well pick’道
	8)更新OnComponentOperation：响应well pick道的变形动作
	9)更新OnLButtonDown：鼠标左键按下，响应well pick道的变形动作
	10)更新OnLButtonUp：鼠标左键抬起，响应well pick道的变形动作
	11)更新OnMouseMove：鼠标移动时，响应well pick道的变形动作，或切换各道的动作
	12)更新OnSave：响应well pick道的存储
3.更新CLayerTreeCtrl
1)更新static CAnyViewHook *CreateContourLayer(CGeoPoint<double> *cells, int number, int row, int col, const std::string &layername, bool isFreeCells = true, bool isCommit = true, bool isRefresh = true,int weightType = CAnyGridTracing::WM_IDW)：插值类型默认改为IDW,原先为范克里金
4.更新CWorkMapCanvas
	1)更新OnLButtonUp：测井图层，增加读取well pick道
2)更新OnLButtonDblClick：测井图层，增加读取well pick道
----------------------------------------------------------
20160923 wb
1 增加了GIS图层打开属性表的导出功能
2 修复了参数分析对于无效样本数据的判断
3 提交了可用于测试的双孔初步完整版
  增加了数据快速导入修改保存的功能
  加入了LOGR图版和相关功能
  修改了个别参数的预设值等
4 产能分析调整了动态分析显示的效果（固定Y）
  提交了新修改的平衡图版显示
  ----------------------------------------------------------
20160927 pc
成像测井模块
----------------------------------------------
20160927
1 双孔logr增加了选择列
  地化数据提交后会重新加载
  增加了对曲线获取时无效数据的判断
  解决了logr交会图未取log，计算偏小问题
  解决了曲线道删除添加时的bug
2 参数分析解决了计算出现负数的问题
3 参数分析增加了直接读取范围和输出选取范围的功能

----------------------------------------------------------
20160929
李治昊
2016/9/26 C 2016/9/30
1.更新CEvidenceWeightModelDlg
	1)增加bool m_isPolygonMode：在地图中拾取范围的标识
	2)增加bool ResetExtent(std::vector<CGeoPoint<double>> &pts)：根据一组点pts，设置extent
	3)更新InitButtonSizer：增加‘拾取范围’按钮，在地图中通过鼠标拾取范围
	4)增加void OnPickExtent(wxCommandEvent& event)：响应‘拾取范围’按钮
2.更新CWorkMapCanvas
	1)增加CEvidenceWeightModelDlg *m_evidenceDlg：证据权窗口
2)更新OnLButtonDblClick：证据权窗口存在并且是拾取范围动作时，多边形拾取范围后，调用CEvidenceWeightModelDlg::ResetExtent，设置范围；绘制测井道时，提示用户是否‘连井剖面’显示
3)更新OnLButtonUp：绘制测井道时，提示用户是否‘连井剖面’显示
3.更新CWorkWellProfileCanvas
	1)更新OnContextMenu：测井道‘连井剖面’显示时，弹出‘连井剖面设置’菜单
	2)增加bool IsWellProfileMode()：是否为‘连井剖面’显示
	3)增加void OnWellPickProfile( wxCommandEvent &event )：更新‘连井剖面’设置
4.增加CWellPickProfileSettingDlg：连井剖面设置窗口
5.更新CToolboxContourGridPage、ContourGridPage
	1)更新InitContourGeneralSettingsSizer：设置等值线平滑最大值为500
	2)更新DoInitGridLineGeometrySizer：设置等值线网格行列数最小值为5
----------------------------------------------------------
20161012 pc
成像测井增加曲线名称重定向功能；读数据增加缓存消除重复读取，150M计算速度由1小时提升至2分钟；写数据支持深度上分段计算、分段写回结果；
完成岩石物理模块及界面，与张丰麒matlab计算结果一致

----------------------------------------------------------
20161014
李治昊
2016/10/8 C 2016/10/14
1.更新CToolboxContourGridPage
	1)更新OnComboBoxSelected：插值方法切换时，设置IDW、克里金设置控件的可用性
	2)更新InitContourModeSizer：隐藏趋势面开关控件
	3)更新InitCameraAngleSizer：隐藏趋势面角度设置
	4)更新OnButton：半变差图设置应用后，才改变界面块金值等
	5)更新OnCheckBox：克里金自动估计取消后，读入默认块金值等
	6)更新InitKrigingParameterSizer：新建状态下，不可设置半变差图
2.更新CToolboxContourWizard
1)更新LoadContourSetting：根据插值方法，设置IDW、克里金设置控件的可用性
3.更新CContourLineSettingDlg
	1)更新InitData：设置CAnyContour::ContourSetting的m_lineStatusMap等
	2)更新OnOk：设置CAnyContour::ContourSetting的m_lineStatusMap等
4.更新ContourGridPage：与CToolboxContourGridPage界面一致
5.更新ContourSourcePage
1)更新ResetGridData( const CGeoPoint<double> *samples, int number, const CAnyContour::ContourSetting &setting, const CGeoPoint<double> *krigingSamples)：增加参数CGeoPoint<double> *krigingSamples，设置协克里金的z值
6.更新CSemiVariogramDlg
	1)更新构造函数：图版模式增加阈值拖拽CAnyScatterMatrix::SOM_Intercept_Drag
2)更新DrawExpCurve：将sill、range、nugget值加入图版
	3)增加void GetRangeSillNugget()：拖动sill、range、nugget值后，将对应值写入控件
7.更新CFileImportPage
	1)更新InitPage：radiobox增加“geomap”文件类型
	2)更新OnSelectFile：增加“geomap”文件类型筛选
8.更新CLayerTreeCtrl
	1)更新OnImportGISLayer：增加导入“geomap”的gis图层
	2)更新ShowMenu：等值线图层，增加“另存为”菜单
	3)增加void OnContourSaveAs(wxCommandEvent &event)：另存等值线图层
----------------------------------------------
20161014 wb
1 重构了生排烃的不确定方法，增加了第三个页面用来显示，不确定性的组分图和计算结果
2 调整了生排烃方法的界面和底层不确定性计算方法
3 调整了不确定性分析界面以适应生排烃修改
4 调整了canvas界面以适应生排烃修改
5 双孔分析增加了数据全部删除功能
6 产能分析增加了鼠标选择重绘拟合线功能
7 产能分析XY坐标从0开始，回归线会在XY轴自动截断
8 PI和CF参数可以实施修改
9 解决了PI控件死机问题
10 检查了静态和动态分析吸附气问题。
11 参数为空时，自动读取默认结果
12 解决了非常规体积法数据读取错误的问题 

----------------------------------------------------------
20161019
李治昊
2016/10/17 C 2016/10/21
1.更新CRasterCalculatorDlg（地图代数/空间gis分析）
1)更新DoHandleRatserLayers：空间gis分析，先设置生成的网格均为不满足条件，再设置满足的网格。防止图层某些条件筛选后，产生等值线z值相同的问题
2.更新CActivityTreeCtrl（地图代数/空间gis分析）
	1)更新RunRasterAnalysis：空间gis分析，勾选绘制网格时，增加绘制网格面图层
3.更新CSpatialAnalysisTreeCtrl
	1)更新DoLoadTreeItems：增加“转等值线”树节点，对sde图层可用
	2)更新OnItemActivated：双击树节点，增加“转等值线”功能的响应
3)更新OnMapAlgebra：增加“转等值线”功能的响应，选择一个字段作为z值，同时将sde图层的所有点作为样本点，产生等值线图层
4.更新CPropertyPage
	1)更新InitPage：增加gis图层范围设置
2)增加gis图层范围设置相关变量：double m_minx;double m_maxx;double m_miny;double m_maxy;wxSizer * m_extentsizer、bool m_isExtentShown
3)增加void ShowExtentSizer(bool isShown, double minx = 0., double maxx = 0., double miny = 0., double maxy = 0.)：设置gis图层范围控件是否显示，以及边界大小
5.更新CGISfileWizard
1)增加gis图层范围设置相关变量：double m_minx;double m_maxx;double m_miny;double m_maxy;
2)更新OnWizardPageChanging：设置double m_minx;double m_maxx;double m_miny;double m_maxy为CPropertyPage的相关变量值
3)更新OnWizardBeforePageChanged：导入gis图层时，根据新建图层类型，调用CPropertyPage::ShowExtentSizer，设置gis图层范围控件的可见性（geomap格式可见，其他情况隐藏）
6.更新CLayerTreeCtrl
1)更新OnImportGISLayer：导入“geomap”的gis图层时，将CGISfileWizard设置的图层范围写入要创建的gis图层

----------------------------------------------------------
20161021 pc
完成成像测井各个模块，增加了刻度谱和矢量图两种测井道
界面：测井道右键--新建--成像测井
---------------------------------
20161021 wb
1 双孔修改了数据库结构，地化数据表增加了elementid字段
2 底层增加了计算tmaxf和无机孔的函数以及passy回归的函数
3 修改了双孔数据获取和保存相关的函数
4 取消了第一个界面中deltalogR图版，移至第二个界面中计算toc的对话框中
5 toc对话框增加了回归需要设置的基值参数
6 增加了各图版的图形设置属性

----------------------------------------------------------
20161027 pc
增加基追踪模块
井震标定对测井无效值进行了过滤
界面：
地震图层右键--模块--基追踪
地震点拾取，增加方位角-入射角关系图
----------------------------------------------------------
20161028
李治昊
2016/10/24 C 2016/10/28
1.更新CRasterCalculatorDlg（空间分析）
	1)更新InitLayout：增加‘绘制等值线’的勾选控件，不勾选时不绘制等值线
	2)增加bool IsRenderContour()：返回是否‘绘制等值线’
2.更新CActivityTreeCtrl（空间分析）
	1)更新RunRasterAnalysis：根据绘制情况，等值线\网格分别输出
3.更新CLayerTreeCtrl（等值线存储自定义地图范围）
	1)更新SerializeContourSetting：存储ContourSetting的CGeoRect<double> m_customExtent
	2)更新RestoreContourSetting：读取ContourSetting的CGeoRect<double> m_customExtent
4.更新CToolboxContourGridPage：等值线设置，增加设置地图范围控件
5.更新ContourGridPage：等值线设置，增加设置地图范围控件
-----------------------------------
2016 1028 wb
1 完善了生排烃的输出结果
  第二个页面增加了厚度 toc ro 生 排 残余图层的输出；
2 双孔第二个界面走通了
  回归模拟，
  Tmaxf自动计算， 
  基质孔自动计算 ，
  logR图形的绘制等。
3 产能分析重新构建了平衡产能分析的界面。
  并增加了对应的数据结构，函数等。
  并能够绘制相应的图形。
4 修改了双孔的主界面（winzard）相关，
  可以在测井图形中直接调用并将计算的toc曲线直接加入到测井图形中
----------------------------------------------------------
20161102 pc
地震三维MC增加contexthull模式，界面：三维框架--地震数据体--MC
增加栅格图层快速拾取线，界面：栅格图层右键--分析--栅矢转换 
gfsmaster实现metanode相关的2个接口
贝叶斯三参数反演增加测井无效值的过滤
等值线三角网插值接口

----------------------------------------------------------
20161104
李治昊
2016/10/31C 2016/11/4
1.更新CSpatialAnalysisTreeCtrl(图层“分析”菜单)
1)更新DoLoadTreeItems：增加“转线图层”、“输出数据”、“输出网格”树节点，对等值线图层可用
2)更新OnItemActivated：双击树节点，增加 “转线图层”、“输出数据”、“输出网格”功能的响应
3)更新OnMapAlgebra：增加“转线图层”功能的响应，将等值线图层的线转化为线图层；增加“输出数据”功能的响应，将等值线样本点放入内存，可供用户粘贴；增加“输出网格”功能的响应，将等值线插值的网格作为图层输出
2.更新CLayerTreeCtrl
1)更新CreateContourLayer：创建等值线时，遇名称相同的等值线图层，将新的样本点设置如当前图层。防止无法图层重名无法创建新图层的问题
3.更新CToolboxContourWizard（等值线属性）
1)更新LoadContourSetting：克里金方法，根据是否近邻方法设置近邻数的可用性；防止恢复等值线数据，近邻数第一次不可用的情况
4.更新CActivityTreeCtrl（地图代数产生网格图层增加行/列的字段）
	1)更新RunRasterAnalysis：产生等值线图层网格gis图层时，增加产生图元对应行/列的字段
5.更新CToolboxContourGridPage（等值线属性）
	1)更新InitInverseDistanceWeightingSizer：隐藏“IDW Found Number最大值”控件
	2)更新OnWizardPageshow：“IDW Found Number最小值”的最大范围为样本点数-1
6.更新ContourGridPage
1)更新InitInverseDistanceWeightingSizer：隐藏“IDW Found Number最大值”控件
2)更新OnWizardPageshow：“IDW Found Number最小值”的最大范围为样本点数-1
7.更新CElementVisualStatDlg：更新圈闭可视化统计，增加面积/资源量/pg/emv的区带、领域等统计
-------------------------------------------------
2016 1104 wb

1 重构了双孔加载测井曲线的代码
2 双孔第4页面增加了利用网格图层对结果网格进行选取的功能
3 增加了利用网格和等值线叠加计算非常规体积法的模块
4 参数分析增加了选取范围输出和生成图层的功能
----------------------------------------------------------
20161110 pc
井曲线3D显示，界面2处激活：测井道右键--3D，三维树--加载井图层
成像测井三维显示，界面2处激活：成像测井道右键--3D，新建成像测井道--生成后直接3D显示
低频模型过滤了测井无效值
各向异性，界面：地震图层右键--模块--各向异性

----------------------------------------------------------
20161111
李治昊
2016/11/7C 2016/11/11
1.更新CToolboxContourGridPage（等值线属性窗口）
	1)更新InitKrigingTypeSizer：增加‘三角剖分’方法选择
	2)更新OnComboBoxSelected：切换插值方法后，增加处理‘三角剖分’
2.更新CToolboxContourWizard（等值线属性窗口）
	1)更新LoadContourSetting：读取‘三角剖分’方法
	2)更新SetContourSetting：设置‘三角剖分’方法
3.更新ContourGridPage（等值线导入窗口）
	1)更新InitKrigingTypeSizer：增加‘三角剖分’方法选择
	2)更新OnComboBoxSelected：切换插值方法后，增加处理‘三角剖分’
3)更新LoadContourSetting：读取‘三角剖分’方法
	4)更新SetContourSetting：设置‘三角剖分’方法
4.更新CLayerTreeCtrl
1)更新OnVoronoiDiagram(泰森多边形)：等值线图层生成泰森多边形时，增加“zvalue”字段的输出
2)更新OnWellContour(测井图层生成等值线)：测井图层生成等值线处理小层道的深度
5.更新CElementVisualStatDlg（统计可视化）：增加‘钻探情况’对应页面；增加个数、资源量等维度不同深度范围统计，范围可自定义；油田选择用树型结构表示，读取区带级别以上的对象
6.增加CElementVisualFilterSettingDlg（统计可视化-‘条件设置’按钮）：自定义范围配置窗口，在CElementVisualStatDlg调用
7.更新CWellContourSettingDlg(测井图层生成等值线)
1)更新构造函数CWellContourSettingDlg(wxWindow *parent, const wxArrayString &toAddCurves, const std::map<std::string,CGeoRect<double>> &curveExtent, CAnyLogTrackSection::WellPickProfileMap &allwppMap)：增加参数CAnyLogTrackSection::WellPickProfileMap &allwppMap，供用户选择小层
2)更新InitLayout：增加‘深度类型’下拉框，第一选项为‘直接指定’，后续选项为‘小层名称’
8.更新CWorkMapCanvas（连井剖面）
1)更新OnLButtonUp：选择连井剖面时，如无小层，也默认显示ac、gr、den曲线
	2)更新OnLButtonDblClick：选择连井剖面时，如无小层，也默认显示ac、gr、den曲线
------------------------------------------------
2016 1111 wb
1 数据库地化数据表增加了新字段。非常规目标区增加体积法新活动。
  原体积法增加基于小面元方法。
2 基于小面元体积法增加了确定和不确定2种方法。不确定增加可输出概率图
3 双孔增加了关于absorbgas的计算。一界面增加了vltoc图版拟合和bg M参数
  四界面增加了相关参数的TOC和PL，压力的数据。
  计算结果组分图增加了absorbgas的输出。
4 生排烃模块和产能模块修改了部分界面缺陷等。
----------------------------------------------------------
20161116 pc
等值线数据输出到excel
倾角方位角属性缺陷修复
成像测井显示效率优化
gfsreactor接口修改
三维skin接口
井震标定时深关系保存

----------------------------------------------------------
20161118
李治昊
2016/11/14C 2016/11/18
1.更新CBasinProfileDlg（圈闭属性，防止科学记数法显示）
	1)更新SetSinglePropertyGrid：设置‘时间’等属性控件为整型，防止科学记数法显示
2.更新CToolboxScatterMatrixProfilePage（双坐标模式，解决自定义配置不正确的问题，增加右Y轴设置）
1)更新InitDisplaySettingsPanel：当前画板包含双座标模式时，增加配置右Y轴的选项
2)增加void OnStatPropertyChanged(wxPropertyGridEvent &event)：控件内容变化前的动作。X、Y轴自定义范围切换后，先保存当前设置，调用LoadAxisProperties
3)更新LoadAxisProperties：增加读取右Y轴的设置
4)更新SetAxisProperties：增加保存右Y轴的设置
3.更新CSpatialAnalysisTreeCtrl（等值线，导出网格，设置默认名称并且替换名称中的非法字符）
1)更新OnMapAlgebra：导出网格，默认图层名称为图层树中的名称；输入名称后，检查名称的合法性（替换字符串中的‘-’）
4.更新CNPVScatterCanvas（交会图版，增加‘线段旋转’功能）
	1)更新OnContextMenu：线段编辑模式，增加‘线段旋转’菜单
2)更新OnEditLine：增加响应‘线段旋转’菜单，设置当前旋转点、旋转线id、旋转模式到CAnyScatterMatrix
5.更新ContourGridPage、CToolboxContourGridPage（等值线属性，暂时去掉“三角网”插值类型）
1)更新InitKrigingTypeSizer：暂时不添加“三角网”插值类型
6.更新CLayerTreeCtrl（等值线，保存‘裁剪’区域）
1)更新SerializeContourSetting：保存CAnyContour::ContourSetting的std::vector<std::vector<CGeoPoint<double>> > m_blanks
2)更新RestoreContourSetting：读取CAnyContour::ContourSetting的std::vector<std::vector<CGeoPoint<double>> > m_blanks
7.更新CToolboxContourWizard
1)更新SetSamplesAndSettings：首先读取等值线hook的ContourSetting，防止‘裁剪’区域被忽略
8.更新CWelllogAllPropertyDlg(测井曲线图版属性，显示控制模块增加‘全选’控件)
9.更新CElementVisualStatDlg，统计可视化模块，更新双坐标图版


--------------------------------------------------
20161118 wb

1 产能分析。
增加了综合压缩系数的计算和对应界面修改（结果待检验调整）
修改了基础参数图版的显示和其他模块图版的显示（坐标轴等调整）
动态物质平衡增加了新的可以选取的图版页面。
物质平衡分析增加了新的算法模块和界面。（结果待检验）
历史前后的不同方法。
物质平衡的新算法的图版输出调整为按tick等。
2 双孔增加了非法数据的判断。保证曲线结果的输出有效。
  双孔增加了吸附气数据的获取的判断。
  相关缺陷的修复等。
3修复了生排烃的算法错误和单位问题。
--------------------------------------------------
20161124 pc
3Dsurface接口走通
rcf上传下载测试，位于三维地震导入界面

----------------------------------------------------------
20161125
李治昊
2016/11/21C 2016/11/25
1.更新CElementGisStatDlg（空间统计分析，王义刚）
	1)更新UpdateStatResultGrid：‘油田’字段内容用评价单元名称
2.更新CElementVisualStatDlg（统计可视化，王义刚）
1)更新RefreshDiscoveryCountCanvas：更新图版id为圈闭个数相关图版，解决圈闭个数图版不显示的问题
	2)更新DoRefreshResourceAreaCanvas：更新图版Y轴名称为统计内容（资源量、面积等）
3)更新DoRefreshDoubleYAxisValueCanvas：双座标，更新油田/年度对比数据的加入方式，防止右Y轴刻度不显示的问题
3.更新CBasinProfileDlg（圈闭属性，王义刚）
	1)更新SaveTrapRelatedRecords：不自动更新“管理信息”的“结束时间”
4.更新CRasterCalculatorDlg（曲线解释，李逸）
	1)更新OnDel：更改名称匹配比较方法，防止有些时候加入的图层不可删除
	2)更新OnCurveCalculate：新建的曲线加入异常值，防止指定的异常值被绘制
5.更新CWelllogAllPropertyDlg（测井曲线‘图版设置’，更换显示控制控件，李逸）
	1)更新InitVisualSettingPanel：曲线道显示控制用checklistbox替代原先的checkbox
	2)更新InitData：根据曲线道是否显示，设置checklistbox中的曲线道是否勾选
	3)更新RefreshWellCanvas：根据checklistbox中的曲线道是否勾选，设置曲线道是否显示
	4)更新OnCheckComponent：根据check all控件的选项，控制checklistbox中的曲线道是否勾选
5)更新OnCheckListBoxComponent：根据checklistbox中的曲线道是否全部勾选，控制check all控件的选项
6.增加CNpvMultiplePlayWizard、CNpvMultiplePlayBasicPage、CNpvMultiplePlayWorkloadPage、CNpvMultiplePlayExplorationBenefitPage（增加多层兼探模块，徐忠美）

---------------------------------------------
20161125 
wb
1产能分析
 平衡产能分析增加了新的图版
  增加了历史拟合调用
  增加了控制查看对话框
  增加了数据导入的链接SQLServer数据源对话框
  修改了动态产能分析的选择图版数据读取和选择控制
2 生排烃
  修改了算法公式
  修改了网格数的计算方法
  修改了不确定性界面的显示
  修改了生排曲线的计算方法
  修改了不确定性对话框的调用方式
  修改了等值线的读取
3 双孔
  修改了最后资源丰度图层的输出

----------------------------------------------------------
20161202
李治昊
2016/11/28C 2016/12/02
1.更新CElementGisStatDlg（空间统计分析，王义刚）
	1)更新UpdateStatResultGrid：获取评价对象资源量，解决圈闭资源量读取不正确的问题
2.更新CBasinProfileDlg（圈闭属性，王义刚）
	1)更新CanBeSaved：钻后状态参数可随意切换/保存
3.更新CNpvMultiplePlayExplorationBenefitPage（多层兼探，徐忠美）
	1)更新InitData：显示结果保留2位小数
4.更新CNpvMultiplePlayWorkloadPage（多层兼探，徐忠美）
	1)更新InitPage：增加‘移除’按钮，用于删除评价单元
	2)增加OnRemoveItem：响应‘移除’按钮，删除选中评价单元
	3)更新IsValid：没有记录时返回false，不进入下个页面
5.更新CRockPhysicalAnalysisDlg（测井-岩石物理分析，李逸）
	1)更新OnOK：所有曲线去除非法点，防止交会时数据不一致导致图版不能绘制的问题
6.更新CElementVisualStatDlg：统计个数时，解决折线图、饼图不显示的问题；统计资源量等，解决领域图折线图不显示的问题

----------------------------------------------------
20160 12 02 
wb
1 完成了产能分析的修改要求的代码部分（仅代码部分，还须具体一一核实测试和新改动）
2 解决了圈闭和投资组合版不能互相打开的问题
----------------------------------------------------------
20161205
pc
地震剖面加色标
地震读数据效率优化
成像测井调深度范围缺陷
----------------------------------------------------------
20161207
pc
沿层切片效率优化
地震振幅统计模块，界面：地震图层右键--模块--振幅统计
频谱分析模块，界面，地震剖面右键--频谱分析，矩形拾取
RGB融合，界面：1.图层右键--分析--RGB融合;2.地震图层右键--模块--RGB融合
MC算法优化，显示效果、速度、空间占用都有很大改进

----------------------------------------------------------
20161209
李治昊
2016/12/5C 2016/12/9
1.更新CToolboxContourGridPage（张丰麒，rgb融合）
	1)更新InitPage：等值线图层为CAnyGridTracing::WM_Color模式，不添加插值页面
2.更新CToolboxContourWizard（张丰麒，rgb融合）
1)更新SetContourSetting：等值线图层不为CAnyGridTracing::WM_Color模式，设置插值类型到底层
	2)更新LoadContourSetting：：等值线图层不为CAnyGridTracing::WM_Color，读取插值类型
3.更新ContourGridPage（张丰麒，rgb融合）
1)更新InitPage：等值线图层为CAnyGridTracing::WM_Color模式，不添加插值页面
2)更新SetContourSetting：等值线图层不为CAnyGridTracing::WM_Color模式，设置插值类型到底层
	3)更新LoadContourSetting：：等值线图层不为CAnyGridTracing::WM_Color，读取插值类型
4.增加CTrapImportDlg（王义刚，导入圈闭属性窗口）
5.更新CElementVisualStatDlg（王义刚，圈闭统计可视化：优化查询、绘图性能；增加‘窗口显示’）
6.更新CNPVScatterCanvas（王义刚，圈闭统计可视化：增加‘窗口显示’菜单）
	1)更新OnContextMenu：增加‘窗口显示’菜单
7.更新CElementVisualStatDlg（王义刚，空间统计分析：优化查询速度）
1)增加InitDataSet：创建视图，将所有需查询字段放入视图；查询结果集放入内存供调用，从而加快查询速度
----------------------------------------------------
20161209 wb
1 重新制作了产能模块的数据导入部分，
  提升了导入导出的速度，
  增加了非法数值的修改判断和修改后的还原
  增加必须导入的列的判断等
2 数据库部分隐藏了压力表的列
  底层增加了压力表读取列的设置
  统一了产量数据表的单位和图版显示
3 调整了基础参数界面防止分辨率不同显示不全
4 平衡去掉预测月数概念，直接由工作制度获取
5 平衡调整了制度输入方式，由表格编辑输入读取
6 平衡修改了最后EUR计算方法
7 修改了静态和动态产能评价的压力数据读取方法
8 修改了产能模块部分翻译
9 双孔增加了最后的超概率曲线图版
10小面元调整了输出的数据列从而略微增加了计算速度。
----------------------------------------------------------
20161212
pc
MC精度可调
地震属性模块加Log输出
gfsreactor的upload回调实现
倾角方位角模块内存优化
切片等值线多线程

----------------------------------------------------------
20161216
李治昊
2016/12/12C 2016/12/16
1.更新CLogCanvas（吴博，增加线段编辑类菜单）
1)增加void OnRemoveLine(wxCommandEvent &event)、void OnAddLine(wxCommandEvent &event)、void OnEditLine(wxCommandEvent &event)、void OnRemovePoint(wxCommandEvent &event)、void OnAddPoint(wxCommandEvent &event)、void EditLine()：线段编辑功能函数
	2)更新OnContextMenu：增加线段编辑类菜单
2.更新CTrapImportDlg（王义刚，导入圈闭属性窗口，增加自定义字段内容导入）
1)更新struct TrapContent：增加新的需导入的变量，如std::string m_approvalstatus（报审状态）等
2)增加wxArrayString m_fields：待导入的候选字段
3)更新InitPage：对进行2)m_fields赋值, 待导入的候选字段
4)更新OnLoadFile：数据读取完成后，grid在第一行插入候选字段，供用户选择该列导入的具体字段
5)增加void GetTrapContent(const wxString &field, const wxString &str, TrapContent &content)：根据字段field，设置对应内容str到content的相应变量
6)更新OnOK：导入数据前，先调用5)GetTrapContent获取待导入内容，之后写入数据库；增加钻后表、位置与测网表、预探井进度表的数据的写入
3.更新CElementVisualStatDlg（王义刚，统计可视化）
1)更新DoRefreshDoubleYAxisValueCanvas：解决双坐标右轴平均数值时，tick显示不正确的问题
2)更新InitDataSet：增加读取“送审时间”（submitdate）；最新状态为钻前|新发现的，状态设置为discovery
4.更新CWelllogCurvePropertyDlg(张丰麒，井曲线左右端值)
	1)更新InitComponentPanel：井曲线左右端值取消-99999/99999的限制
------------------------
20161216 wb
1 产能分析 数据导入死机除0问题。隐藏不必要列。重新确认潺潺数据和压力数据的读取
           明确单位和图版单位显示，翻译问题
2 物质平衡图版显示错位时间数据
3 产能平衡去掉总月数。重新制作生产制度界面和加载方法。
4 产能平衡新的哦eur计算
5 配合志浩调整了平衡和几个图版显示效果
6 重新绘制了特征曲线和历史拟合曲线
----------------------------------------------------------
20161220
pc
圈闭优选加载慢缺陷修复
栅矢转换总没反应缺陷修复
成像测井界面优化
岩石物理加单位
三角视频内存优化，防崩机
倾角方位角防内存不足
----------------------------------------------------------
20161222
pc
边缘带镂空的层位，3D显示不出的缺陷
栅矢转换速度优化
测井曲线保存缺陷

----------------------------------------------------------
20161223
李治昊
2016/12/19C 2016/12/23
1.更新CProbitGraphPlotCanvas（徐忠美）
	1)更新OnContextMenu：增加‘对数正态曲线’菜单
2)增加void OnLognormal(wxCommandEvent& event)：响应‘对数正态曲线’菜单，显示/隐藏对数正态曲线
2.更新CShpConnElementDlg（徐忠美）
	1)更新Ontreeselect：关联评价单元后，自动更改该对象对应的级别
3.更新CWelllogCurvePropertyDlg（李逸，测井曲线左右值保存）
	1)更新RefreshWellCanvas：存储曲线的左、右值
4.更新CAssessorFrame（徐忠美，打断线图元）
	1)更新OnEditToolControl：打断图元对线图层也起作用
5.更新CDiscoveryPredicationInputDlg（徐忠美，有偏模块；提交按钮一直可用）
	1)更新OnClose：关闭对话框，提示保存
6.更新CElementVisualAdvanceDlg(王义刚，圈闭data cube查询)

-----------------------------------------------
20161223 wb
1 产能分析增加了新的特征分析模块的活动和菜单
2 重新构造了产能平衡预测曲线功能（待胡小虎调整底层）
3 增加了基础参数的的校验判断和基于区域的y改功能功能
4 重构了流动物质平衡的交互绘制
5 修改了部分翻译和界面调整
6 样本分析重新调整了默认分布设置
7 样本分析增加了卡方校验界面

-----------------------------------------------
20161226
李治昊
1.更新CBasinProfileDlg（王义刚，圈闭属性）
	1)更新SetSinglePropertyGrid：显示圈闭管理信息中的‘发现时间’
2.更新CAssessorFrame
	1)增加std::map<std::string,bool> m_3TrapImportStatus：三级圈闭导入状态
2)更新OnImportReserveTrap：先获取所有三级圈闭，之后设置三级圈闭导入状态1)m_3TrapImportStatus
3.更新CTrapImportDlg（王义刚，导入储备圈闭）
1)更新struct TrapContent：增加double m_discoverDate（发现时间）
2)更新GetTrapContent：设置m_discoverDate
3)更新OnOK：存储m_discoverDate；导入phase开始时间大于新发现时间，更新新发现时间；
导入圈闭后，更新对应圈闭导入状态（2.1)m_3TrapImportStatus）为true，为导入圈闭时间改为2015
----------------------------------------------------------
20161227
pc
sde图层图元重复不死机
栅矢转换扫描范围设置
----------------------------------------------------------
20161229
pc
三参数时窗缺陷
rcf重构
合并数据库，增加重名对象合并选项
----------------------------------------------------------
20161230
pc
页岩物性反演
测井单独道保存，测井加载缺陷
栅矢转换无限制选点

----------------------------------------------------------
20161230
李治昊
2016/12/26C 2016/12/30
1.更新CBasinProfileDlg（王义刚，圈闭属性）
	1)更新SetSinglePropertyGrid：显示圈闭管理信息中的‘发现时间’
	2)更新CreateBasicPage：增加圈闭识别状态选项“钻前|原储备”
	3)更新GetManagementPhase：获取“钻前|原储备”对应的管理状态managementphase
	4)更新GetSubPhase：获取“钻前|原储备” managementphase对应的圈闭识别状态选项值
2.更新CAssessorFrame
	1)增加std::map<std::string,bool> m_3TrapImportStatus：三级圈闭导入状态
2)更新OnImportReserveTrap：先获取所有三级圈闭，之后设置三级圈闭导入状态1)m_3TrapImportStatus
3.更新CTrapImportDlg（王义刚，导入储备圈闭）
1)更新struct TrapContent：增加double m_discoverDate（发现时间）
2)更新GetTrapContent：设置m_discoverDate
3)更新OnOK：存储m_discoverDate；导入phase开始时间大于新发现时间，更新新发现时间；
导入圈闭后，更新对应圈闭导入状态（2.1)m_3TrapImportStatus）为true，未导入的圈闭时间改为2015； i_el_trap表，设置当前managementphase状态的isinuse字段为true，表示当前phase正在使用
4.更新CElementVisualStatDlg（王义刚，导入储备圈闭）
1)更新DoInitDataSet：更新圈闭状态，一个圈闭可以同时拥有新发现、储备、重点预探状态；增加读取“发现时间”
2)更新RefreshDiscoveryCountCanvas、RefreshDiscoveryResourceCanvas、RefreshDoubleYAxisCanvas：更新检查圈闭状态方法，匹配字符串改为包含字符串，例如（status.Contains("discovery")）；“所有三级圈闭”时间选为‘管理信息’中的开始时间
	3)更新InitPage：专题类别增加“所有三级圈闭”下拉选项
	4)更新OnSize：专题类别选项为“所有三级圈闭”时，刷新图版
5.增加CElementVisualAdvanceFilterDlg：（王义刚，多维查询过滤条件窗口）
6.更新CElementVisualAdvanceDlg（王义刚，多维查询，可增加多个过滤条件）
	1)增加成员变量CLightGrid* m_filterGrid：过滤条件表格
	2)增加struct ConditionFilter：过滤条件结构，包括名称、类型、条件等
	{
		std::string m_name;
		std::string m_type;
		std::string m_condition;
	};
typedef std::vector<ConditionFilter> ConditionFilters;
	3)增加ConditionFilters m_filters：存储多个条件
	4)增加void InitFilterGrid()：创建过滤条件表格
	5)增加void InitFilterGridData()：根据m_filters，在过滤条件表格中，加入内容
6)增加void OnAdd(wxCommandEvent& event)：调用CElementVisualAdvanceFilterDlg，在过滤条件表格增加条件
	7)增加void OnDelete(wxCommandEvent& event)：删除过滤条件
	8)更新InitPage：调用InitFilterGrid，将过滤条件表格加入到控件中
	9)更新OnQuery：根据3)ConditionFilters m_filters，获取查询内容
	10)更新OnColRClick：选中3列数据，增加‘双坐标’菜单
	11)更新OnStat：增加响应‘双坐标’菜单的功能；
	12)更新InitData：开始时间、发现时间等改为枚举变量
7.更新CLayerTreeCtrl（等值线属性）
1)更新SerializeContourSetting：增加存储ContourSetting的m_rowTickNumber、m_colTickNumber
2)更新RestoreContourSetting：增加读取ContourSetting的m_rowTickNumber、m_colTickNumber
8.更新CToolboxContourGridPage（等值线属性，设置行列标注数量）
9.更新ContourGridPage（等值线属性，设置行列标注数量）
------------------------------
20161230 wb
1 双孔增加了含气饱和度字段及界面和底层算法修改等
  增加了对非法toc数据计算结果的判断
  对单位进行了重新校订
2 生排烃增加了单位设置功能
3 产能模块增加了特征线模块的界面，并完成了三个图版的交互功能的实现
  重新调整了平衡预测的接口和代码
  流动物质平衡修改了交互菜单和模式（与底层图版修改适应）
4 区带版根据反馈调整了样本分析模块
  增加了无偏取样参数结果模块的调整等
  ----------------------------------------------------------
20170103
pc
沿层三角时频层位范围小于测网范围时，结果不正确的缺陷
倾角方位角崩机缺陷
  ----------------------------------------------------------
20170104
pc
栅矢转换相关缺陷
低频模型增加功能，可以选择所有井曲线
报表缺陷，涉及1.圈闭上钻率，2.储备变动统计表中的圈闭面积，3.预探井圈闭综合评价优选数据表中的油/气，4.预探井进展情况汇总表结果数过多,5.VolumetricPredicator报表死机
地震扫道头增加buffer大小配置，地震扫到头内存优化,GFS的parameter的survey可以一次传过去
----------------------------------------------------------
20170105
pc
三角时频测网与层位范围不一致时计算结果不正确缺陷修复
多个地震输入文件的模块，各个地震数据测网范围不一致时的缺陷修复
生成地震新文件时，增加写入NAN值的选择
TOC崩机缺陷
vector.resize缺陷
数据库增量更新缺陷
岩石物理归一化

----------------------------------------------------------
20170106
李治昊
2017/01/03C 2016/01/07
1.更新CWorkShapePropertyTablePanel(王义刚，图层属性表增加‘查询窗口’开关)
	1)更新Creategriddownbar：增加‘查询窗口’开关
	2)增加成员变量bool m_isQueryDlgShown：是否显示‘查询窗口’
3)增加void OnSwitchQueryDialog(wxCommandEvent& event)：设置m_isQueryDlgShown，‘查询窗口’开/关
2.更新CWorkMapCanvas(王义刚)
1)更新OnContextMenu：多选图元菜单项，图层匹配改为匹配itemname（原先为filepath），防止itemname更改后与filepath不符时无法弹出菜单项
2)更新OnBatchModify：多选图元菜单，图层匹配改为匹配itemname（原先为filepath），防止itemname更改后与filepath不符时，无法获取正确图层
3)更新OnLButtonUp、OnLButtonDblClick：图层编辑动作为查询图元时，属性表页面（CWorkShapePropertyTablePanel）显示时，如果m_isQueryDlgShown为true，那么每次查询时显示查询窗口；否则不显示。
3.修正合并线段位置不正确的问题（徐忠美、王鹏威）
4.修正移动图元后绘制多余线的问题（王义刚）
5.修正标记等值线间隔为0，程序长时间不响应的问题（徐忠美）

------------------------------------
2017 0106 wb
1 修改了双孔曲线的菜单，去掉了固有曲线的删除功能
  增加了双孔模块中未添加入地化数据的井孔的临时添加
  修改了几个司机的地方和计算的错位
2 产能模块增加了特征曲线的固定斜率线的绘制和菜单的修改。
  动态平衡增加了移动线
  基础属性数据区分了界面图版显示的压力上限和实际后台上限的设置
3 区带部分完成了样本分析报表的输出。
  检查了评价单元绑定和查询的问题
  ----------------------------------------------------------
20170109
pc
栅矢转换屏幕和调色板取色

-----------------------------------------------------
20170110 wb
1 增加了双孔临时井位的默认信息
  修改了VL-toc拟合图的XY顺序
  调整了结果单位
  修复了选择范围时界面不动的缺陷
2 圈闭版
  增加了导出excel报表的进度条 ，简单提高了报表生成速度
  增加了直接在对象树中根据对象名称模糊查找定位对象的功能和界面
3 产能分析
  增加了井对象的基础属性的非法值判断，和限制条件的判定
    ----------------------------------------------------------
20170111
pc
脆性反演，数据库升级a_parameter表的parameter数据修改缺陷，报表圈闭面积缺陷

----------------------------------------------------------
20170113
李治昊
2017/01/09C 2016/01/13
1.更新CRasterCalculatorDlg（王鹏威, 解释zvalue分不同区间赋值的表达式）
1)更新DoHandleRatserLayers：增加解释zvalue分不同区间赋值的表达式Raster(…)ZValue(Layer(),(0,100,0.1),(100,200,0.3),…)
2)更新InitLayout：增加‘ZValue’算子按钮；调整文本输入框长度
3)更新OnBtnOperator：响应‘ZValue’算子按钮，在输入控件中增加示例公式ZValue(Layer(x),(0,100,0.5))
--------------------------------------------------------------
20170113 wb

1 增加了双孔的hi-tmax自动拟合线的界面和底层函数
  增加了对底层资源量值非法值时的判断
  修改了资源量结果单位
2 增加了流动物质平衡的选择点的高亮的控制
  增加了特征线的中间资源量计算结果的显示
----------------------------------------------------------
20170117
pc
地震切片的分布式存储和加载
Logistic模块

-------------------------------------------------
20170118
1 双孔修改了密度计算TOC的初始计算参数
  修改了自动拟合TmaxHi线的迭代次数加快速度
  增加了取0值时，第一个页面各个拟合图无效值的判断
  修改了TmaxHi线的样式
 
  增加了多元回归拟合时，中间结果的显示。以此判断拟合结果的有效性
  同时支持通过设置无效值的方式，设置参加多元拟合的测井曲线

2 测井曲线模块
  增加了计算TOC时测井曲线deltalogR的拟合非法值的判断和加载曲线有时司机的情况
3产能分析增加了选取点后对高亮点的显示控制
----------------------------------------------------------
20170120 
景妍
等值线图层导入页面增加坐标系类型选择，选择经纬度坐标系统时增加投影类型转换对话框，
增加投影参数设置，目前支持高斯克吕格投影6度带跨带坐标数据转无带号坐标。
解决以高斯投影坐标给出的等值线数据显示错误的问题。
------------------------------------------------------------
2017 0120 wb
1 增加了产能分析复制粘贴对多种日期格式的支持
2 产能分析导入时去掉了井底流压的必填字段的限制
3 压力数据表增加了产量数据列
4 修改了部分翻译和单位名称等。
5 增加了导入数据时对单位的预判断处理

----------------------------------------------------------
20170120
李治昊
增加埋藏史恢复窗口(暂未配合模拟模型)
----------------------------------------------------------
20170209
pc
mapreduce切片重构，采用reactor框架，分布式文件在sliceservant里从mapper和reducer传到chunk

----------------------------------------------------------
20170210
李治昊
2017/02/06C 2017/02/10
1-3 埋藏史，王鹏威测试
1.更新CFormulaParserDlg
1)更新构造函数CFormulaParserDlg(wxWindow *parent, const std::string &formula = "", bool isProspectMode = false, const std::string &type = "")：增加参数const std::string &type，记录界面类型，初始化不同界面
	2)增加std::string m_type：记录构造函数中的const std::string &type
	3)更新InitVariableBtnsSizer：m_type为‘burial’，增加‘depth’按钮
4)更新OnVariable：m_type为‘burial’，响应‘depth’按钮，在输入框中加入‘depth’字符串
5)更新OnApply：m_type为‘burial’，记录当前公式到m_formula
6)增加bool m_isOKClicked：记录关闭方式（ok/cancel）
2.更新CBurialHistoryBasicPage
	1)更新OnCellLeftDClick：双击公式列‘lithology’，弹出公式编辑器CFormulaParserDlg
3.更新CBurialHistoryBoundaryPage
1)更新InitGrid：根据ID，初始化不同列名（ID_BOUNDARY_SEA_HORIZON/ID_BOUNDARY_TEMPERATURE/ID_BOUNDARY_HEATFLOW）
4.更新CToolboxContourGridPage（张丰麒，切片等值线属性后断裂消失）
1)更新DoGetSamples：增加处理ANY_NAN情况的值，防止ANY_NAN直接转换z值变为1的情况
5.更新CElementVisualStatDlg（王义刚，统计可视化，油田全选）
	1)更新InitPage：评价对象树增加根节点，便于用户全选/全不选
	2)更新InitTree：展开根节点
6.更新CNpvPracticePage（王义刚，可读取其他评价阶段InitComponentPanel
经济评价历史记录）
	1)更新InsertRows：圈闭版，读取历史记录后，备注是否是当前评价阶段
	2)更新InsertCols：圈闭版，增加‘备注’列宽度
7.更新CWelllogCurvePropertyDlg（曲线绘制增加样本点模式）
1)更新成员变量wxCheckBox *m_check_component_square，变为wxComboBox*，曲线类型由checkbox变为下拉框选择类型（标准曲线/方波曲线/样本点）
2)更新InitComponentPanel：初始化m_check_component_square下拉框选择类型（标准曲线/方波曲线/样本点）
3)更新InitData：m_check_component_square下拉框选择CAnyLogCurveTrack::m_isSquareLineMode对应选项
4)更新RefreshWellCanvas：设置CAnyLogCurveTrack::m_isSquareLineMode为m_check_component_square当前选项

----------------------------------------------------------
20170210
景妍
1、更新CCoordinateTransformDlg：调整坐标系转换参数，增加投影参数设置；
更新CAnyCoordinateProjector：修正坐标系转换函数Transform，增加椭球转换和投影转换两种不同情况。
2、更新CSpatialAnalysisTreeCtrl：增加sdegeometry图层的坐标数据导出为文本文件功能。
-----------------------------------
20170210 wb
1 双孔增加了读取TOC org 计算曲线结果的界面和底层代码。
2 双孔增加了Tmax-F自动平滑的计算
3 产能分析增加了静态物质平衡读取和保存计算结果的界面和底层代码
4 产能分析增加了计算参数团的函数
5 产能分析修改了底层数据库表（具体见SQL.txt）
6 修改了页岩油气版的名称和活动树，放开了盆地模拟的节点
7 修复了其他一些缺陷，具体见readmire；
----------------------------------------
----------------------------------------------------------
20170214
pc
权限配置相关
栅矢转换、栅格校验相关缺陷
地震扫道头增加cache文件，下次扫直接使用
----------------------------------------------------------
20170217
pc
gdx拆分为多个分布式文件
切片结果改为从分布式切片文件获取
切片分布式文件移到reduceflush时产生
gfsmasterfile界面增加导出sgy功能
chunk分配文件均匀分配到各个文件夹
曲率，相干模块中，层位与地震体，地震体与地震体范围不一致导致的缺陷

------------------------------------
20170217 wb
1 提交跟进的最新的界面翻译及修改

------------------------------------
20170217 
景妍
1 修改toolboxcontourwinzard，等值线属性页样本点由从原始文件中读取改为从hook中读取；
2 修改assessorframe中geoedittoolbar选择图层名称的layercombo尺寸；
3 修改sdegeometrylayer中DoRenderSelectedGeometries，处理多选状态下当前没选中时以选中图元的高亮显示问题；
4 完善坐标投影转换：
（1）删除projectionselectdlg，将等值线图层和SDE图层的坐标转换界面统一；
（2）修改coordinatetransform界面，增加等面积投影类型Albers，增加各种投影类型的默认参数；
（3）修改coordinateprojector，增加Gauss-Kruger投影的三种坐标类型（6度带、3度带、无带号）两两之间的转换；
----------------------------------------------------------
20170223
pc
三维xyz坐标改颜色
Logistic模块调整
活动树调整

----------------------------------------------------------
20170224
李治昊
2017/02/20C 2017/02/24
1.更新CWorkWellProfileCanvas（李逸，导出曲线数据到剪切板）
	1)更新OnContextMenu：曲线道增加‘导出数据’菜单
	2)增加void OnOutputCurveData(wxCommandEvent& event)：导出曲线数据到剪切板
2.更新CToolboxScatterMatrixSourcePage（徐忠美，导入等值线文件，删除空行）
	1)更新OpenTextFile：读取文本后，删除grid中的空行
	2)更新OpenExcelOrDBFile：读取文本后，删除grid中的空行
3.更新CLayerTreeCtrl::SaveContour( int classid, CAnyContour::ContourSetting &setting…)
的所有调用，传入的参数setting用CAnyContour::GetContourSetting获取，防止死机

4-8 徐忠美，变差分析等方法生成的等值线，支持更换其他方法插值
4.更新CLayerTreeCtrl
1)更新SerializeContourSetting：增加存储等值线setting的double m_bkRows、double m_bkCols、short m_bkWeightType
2)更新RestoreContourSetting：增加读取等值线setting的double m_bkRows、double m_bkCols、short m_bkWeightType
3)更新CreateContourLayer：创建等值线图层前，设置等值线setting的double m_bkRows、double m_bkCols、short m_bkWeightType
5.更新ContourGridPage
1)更新SetSamplesAndSettings：新建等值线时，设置等值线setting的double m_bkRows、double m_bkCols、short m_bkWeightType
6.更新CToolboxContourWizard
1)更新SetSamplesAndSettings：新建等值线时，设置等值线setting的double m_bkRows、double m_bkCols、short m_bkWeightType；更改等值线属性时，如果是‘直接插值’类型，将插值行列数设置为double m_bkRows、double m_bkCols
7.更新CToolboxContourGridPage
	1)更新InitKrigingTypeSizer：某些情况，增加插值类型‘直接插值’
8.更新SetContourSetting
	1)更新SetContourSetting：设置‘直接插值’的插值类型
	2)更新LoadContourSetting：读取 ‘直接插值’的插值类型

9.更新CWorkWellProfileCanvas（李逸，更新测井曲线道菜单）
1)更新OnContextMenu：重新编排测井曲线道的菜单

10-14 埋藏史，王鹏威，压实模型增加‘C’、‘φ0’算子；增加‘事实校验[温度]’页面

10.更新CFormulaParserDlg（王鹏威，埋藏史，压实模型增加‘C’、‘φ0’算子）
	1)更新InitVariableBtnsSizer：埋藏史类型，增加‘C’、‘φ0’算子
	2)更新OnVariable：埋藏史类型，增加响应 ‘C’、‘φ0’算子
	3)更新OnApply：埋藏史类型，检查公式是否含有非法算子、字符等
11.更新CBurialHistoryBasicPage（王鹏威，埋藏史）
1)更新OnCellValueChanged：改变数值时，不再检查逻辑，离开页面时最后统一判断；设置顶/底深时，同时设置其他行的底/顶深
	2)更新SaveRecord：top/base数值可以相等
12.更新CBurialHistoryTreeBook（王鹏威，埋藏史，增加‘事实校验[温度]’页面）
1)增加CBurialHistoryCanvasPage *m_realityCheckTemperaturePage：事实校验[温度]’页面对象
2)更新InitBook：增加‘事实校验[温度]’页面
	3)更新OnPageShow：进入‘事实校验[温度]’页面前，设置地层参数、进行模拟等
13.增加CBurialHistoryCalibrationDlg：（王鹏威，埋藏史输入现今数据（深度对应温度/ro等）
14.更新CBurialHistoryCanvas（王鹏威，埋藏史，‘事实校验[温度]’页面，增加‘Cabralition Data’菜单，输入现今数据（深度对应温度/ro等）
	1)更新OnContextMenu：增加‘Cabralition Data’菜单，输入现今数据
	2)增加OnCalibrationData：调用7.CBurialHistoryCalibrationDlg弹出窗口，输入现今数据

15.更新CKrigUncertaintyAnalysisDlg
1)更新OnOK：计算gridwidth为总宽/(cols-1), 计算gridheight为总高/(rows-1)，使得插值网格点与行列数相符，防止变差分析产生的等值线图层与原图层趋势不符

---------------------------------
20170224 wb
 1 已提交最新的翻译，界面修改，图片等

---------------------------------
20170224 景妍
1、	anysdegeometrylayer.cpp:
修改CreateEnclosingPolygon()函数，增加对复杂图元的处理，解决合并图元后外包多边形不正确的问题。
2、	anycoordinateprojector.cpp:
修改Transform（），增加对复杂图元的处理， CreateGISLayer（）待做相应修改。
3、	anysdegeometrylayer.cpp:
修改AdjustLines（）函数，增加对折线过头的处理。
4、界面调整：
（1）contoursourcepage：坐标类型：Cartesian Coord.（直角坐标）、Geographic Coord.（地理坐标）。
（2）workmapcanvas：多选后右键菜单，Merge Lines改为Connect Lines（连接线）。
（3）assessorframe.cpp:窗体名称“Spatial Analysis”改为”Toolbox”。
（4）spatialanalysistreectrl.cpp：根据不同类型图层加载不同的工具箱树节点，调整节点名称和位置。
---------------------------------
20170301 pc
复合图层logistic,复合图层选井
栅格导入支持.jpg;*.png;*.gif
地震滑动切片
三角时频servant，reduce时将计算结果上传到chunk，支持后续多次导出sgy
400G切分，延迟缺陷修复
---------------------------------
20170302 pc
mapper多线程

----------------------------------------------------------
20170303
李治昊
2017/02/27C 2017/03/03
1.更新CKrigUncertaintyAnalysisDlg（王鹏威，生排烃模块点击‘不确定性’按钮死机）
	1)更新OnProbilityChanged：防止生排烃模块调用变差分析死机

2-6:王鹏威，生排烃生成的等值线，解决再次插值后不绘制等值线的问题
2.更新CToolboxContourGridPage
1)更新InitContourGeneralSettingsSizer：等值线间隔控件小数精度设为9位，防止z值极小情况下，间隔变为0的问题
	2)更新SetZValueRange：等值线间隔控件小数精度设为9位
3.更新CToolboxContourWizard
	1)更新LoadContourSetting：等值线间隔控件小数精度设为9位
4.更新ContourGridPage
1)更新InitContourGeneralSettingsSizer：等值线间隔控件小数精度设为9位，防止z值极小情况下，间隔变为0的问题
	2)更新SetZValueRange：等值线间隔控件小数精度设为9位
3)更新LoadContourSetting：等值线间隔控件小数精度设为9位
5.更新CToolboxContourSourcePage
1)更新ResetGridData：表格中小数精度设为9位
6.更新CToolboxScatterMatrixSourcePage
1)更新SetGridData：读取txt数据，将表格中小数精度设为9位
2)更新OpenExcelOrDBFile：读取excel数据，将表格中小数精度设为9位

7.更新CFormulaParserDlg（王鹏威，增加压实模型的选择按钮，固化三个压实模型）
1)更新InitVariableBtnsSizer：增加压实模型的选择按钮，"Sclater Christie"，"Falvery Middleton"，"Baldwin Bulter"
	2)更新OnVariable：响应新增压实模型按钮，在文本框中输出压实模型公式
8.更新CBurialHistoryCanvas（王鹏威，切换温度/RO渲染模式：颜色渲染/等温线渲染）
	1)更新OnContextMenu：增加‘等值线’菜单，切换温度/ro渲染模式
	2)增加OnContourMode：切换温度/ro渲染模式

9．更新CToolboxContourWizard（徐忠美，解决等值线图层更改x、y比例后，颜色填充位置与等值线位置错位的问题）
	1)更新OnApply：更改等值线属性后，重新设置该图层的mapport
	2)更新OnWizardPageEnd：更改等值线属性后，重新设置该图层的mapport
-------------------------------
20170303 wb
1 修改了新的界面框架，翻译活动等
2 调整了生排烃的界面 菜单 界面位置 获取范围 进度条 等。

-------------------------------
20170303 景妍
1 修改了编辑工具条的部分工具名称（assessorframe）：TB_GEOEDIT_Select改为TB_GEOEDIT_Move， TB_GEOEDIT_CopyGeometry改为TB_GEOEDIT_SelectGeometry，TB_GEOEDIT_Reshape改为TB_GEOEDIT_Pan。
2 修改了编辑状态（Anysdegeometryeditor）：EAT_Copy改为EAT_Select（选择图元）；新增编辑状态：RT_Continue（继续画线）。
3 Boostsdegeometry：增加方法DeletePtInGeometryByExtent，根据范围删除图元节点；
Anysdegeometryeditor : 增加方法DeleteNodesInSelectedGeometry，根据范围删除所选图元的节点。
4 图元编辑功能调整：先选择图元，再编辑图元。Anysdegeometryeditor\anysdepointeditor\anysdelineeditor\anysdepolygoneditor
5 地图操作功能调整（Workmapcanvas）：配合编辑状态。
-------------------------------
20170309 pc
椭圆拟合，alpha滤波，各向异性，瞬时属性，倾角方位角servant

-------------------------------
201703010 景妍
1 多边形图层增加编辑状态RT_Continue（继续绘制）（anysdepolygoneditor）。
2 修正打开多个图层时编辑操作错乱缺陷（workmapcanvas）。
3 调整基础数据版界面：GISfilewizard中各页面布局。
4 基础数据版中英文翻译po文件。
---------------------------------------
20170310 wb
1 跟进最新的修改和生排烃
2 增加了生排烃输出变差结果的功能
3 页岩油气整合了产能分析的模块

----------------------------------------------------------
20170310
李治昊
2017/03/06C 2017/03/10
1-2 徐忠美，解决等值线‘半变差图’按钮有时点击不正确的问题
1.更新CToolboxContourGridPage
	1)更新OnWizardPageshow：设置idw方法查找样本点最小、最大个数为样本点数
	2)更新OnComboBoxSelected：切换插值方法时，由非krig切为krig时，禁用‘半变差图’按钮
2.更新CToolboxContourWizard
1)更新OnApply：等值线图层点击按钮‘应用’后，如果是krig方法，将‘半变差图’按钮设置为可用
2)更新LoadContourSetting：读取等值线图层后，如果是krig方法，将‘半变差图’按钮设置为可用

3-5 王鹏威，埋藏史ro、tti模型；ro校正
3.更新CBurialHistoryBoundaryPage：增加输入calibration data
1)更新void ResetRecord(CAnyBurialHistoryPlot::GeologicalLine &seahorizon, bool isInit = true)：增加参数bool isInit，初始化调用，表格中填写默认值
2)更新OnPageShow：调用ResetRecord时，参数bool isInit填为false，防止‘古水深’界面数据删除后再次填写默认数据的问题
3)更新ResetRecord：读取ro的calibration data，需要单位转化digit->%（*100.）
4)更新SaveRecord：保存ro的calibration data，需要单位转化%->digit（/ 100.）
4.更新CBurialHistoryTreeBook
1)增加成员变量CBurialHistoryBoundaryPage *m_calibrationTemperaturePage、CBurialHistoryBoundaryPage *m_calibrationRoPage：事实数据页面（温度、ro）
	2)更新InitBook：增加事实数据输入页面（温度、ro）
3)更新OnPageShow：calibration页面，读取数据到表格中；事实校验页面，将calibration数据导入底层
	4)更新OnInitParameter：calibration页面，保存数据
	5)增加bool m_isCalibrationRoActive：ro的calibration页面，数据输入的标志
	6)更新InitPagesFlag、OnInitParameter：设置m_isCalibrationRoActive的值
	7)更新IsReady：检查ro的calibration页面，数据是否输入（m_isCalibrationRoActive）
5.更新CBurialHistoryCanvasPage
	1)更新InitPage：埋藏史RO页面，显示颜色设置控件
-------------------------------
20170314 pc
读地震数据速度优化，生成地震子块速度优化
三参数反演，脆性反演，页岩物性反演，基追踪反演，相干体创建servant

----------------------------------------------------------
20170317
李治昊
2017/03/13C 2017/03/17
1.更新CBurialHistoryBasicPage（王鹏威，增加地层岩性颜色\符号配置） 
	1)更新InitGrid：增加‘岩性颜色’\‘岩性符号’列
	2)更新OnCellLeftDClick：双击‘岩性颜色’列，配置颜色
	3)更新ResetRecord：读取岩性颜色、岩性符号到表格中
	4)更新OnAddItem：设置岩性颜色、岩性符号到底层
2-3 王鹏威，设置Mc Kenzie参数
2.更新CBurialHistoryCalibrationDlg，设置Mc Kenzie参数
	1)增加enum DialogType：对话框类型，设置现今校验数据/设置Mc Kenzie数据（用于计算热流）
	{
		DT_Calibration = 0,
		DT_FsMcKenzie,
	};
2)更新构造函数CBurialHistoryCalibrationDlg(wxWindow *parent, wxWindowID id, int type = DT_Calibration)：增加参数int type，初始化不同类型的窗口
3)增加void InitGrid()、void ResetRecord()、bool SaveRecord()、void OnCellValueChanged(wxGridEvent& event)、void OnRemoveItem(wxCommandEvent& event)、void OnAddItem(wxCommandEvent& event)：设置Mc Kenzie数据（用于自动计算热流）
3.更新CBurialHistoryBoundaryPage
1)增加成员变量CAnyBurialHistoryPlot::FsMcKenzieRecords m_FsMcKenzies，记录Mc Kenzie数据
	2)更新InitPage：当前页面为‘热流’页面时，增加按钮‘Mc Kenzie’
3)增加void OnFsMcKenzie(wxCommandEvent& event)：响应按钮‘Mc Kenzie’，设置计算热流的数据

4.更新CKrigUncertaintyAnalysisDlg（王鹏威，修正变差分析产生等值线图层网格不显示、等值线追踪不正确的问题）
1)更新OnOK：改变插值点位置（左至右下至上->下至上左至右），修正变差分析产生等值线不正确的问题
5.更新CRasterCalculatorDlg（王鹏威，行列等参数输入位置对齐；图层名称错误给予提示）
1)更新InitLayout：空间GIS分析，调整‘绘制等值线’、‘绘制网格’控件位置，使它们与行列控件对齐
2)增加wxString m_errorLayerMsg：记录Raster算子中非法图层信息
3)增加DoHandleRatserLayers：记录Raster算子中非法图层信息到m_errorLayerMsg
4)更新OnOk：输出非法图层信息

6-7 王鹏威，全图显示时等值线图层不被边界压盖
6.更新CLayerTreeCtrl
1)更新CreateContourLayer：增加参数int contourStyle = CAnyContour::CRS_Contour_Filling|CAnyContour::CRS_Contour_Line，等值线显示风格，默认为显示追踪出的等值线；mapport的extent放大，全图显示时使得等值线图层不被边界压盖
7.更新CToolboxContourWizard
1)更新OnApply、OnWizardPageEnd：mapport的extent放大，全图显示时使得等值线图层不被边界压盖
8.更新CActivityTreeCtrl（王鹏威，空间gis分析产生的等值线图层，默认为不绘制追踪的等值线；没有可用图层的情况下，提示用户激活图层）
	1)更新RunRasterAnalysis：空间gis分析产生的等值线图层，默认为不绘制追踪的等值线
2)更新DoRunRasterAnalysis：运行空间gis分析模块，没有可用图层的情况下，提示用户激活图层

-------------------------------
201703017 景妍
1、GIS图层属性表：
（1）增加窗口CAttributeTableDlg显示全部属性记录；
（2）修改原属性表窗口workshapepropertytable。
2、GIS图层属性设置对话框改为无模式显示：
（1）CLayertreectrl增加成员变量	CShpLayerProfilePage *m_shpprofileDlg;CSDELayerProfilePage *m_sdeprofiledialog。
（2）修改CLayerTreeCtrl::OnLayerProperty。
3、等值线图层输出数据改为先选择输出文件路径：CSpatialAnalysisTreeCtrl修改OnMapAlgebra（）。

------------------------------------------
20170317 wb 
1 重构了小面元体积法的代码和界面部分
2 增加了单位设置，范围选取，值域设置等功能
3 针对圈闭增加了了小面元体积法的方法
4 修改了双孔的初始数据获取机制
5 增加了测井模块中TOC计算功能的相关修改
6 跟进了最新的菜单和界面修改
-------------------------------
20170324 pc
曲率，角道集输出，时窗属性servant
分布式直接传内存到chunk,不生成本地文件

----------------------------------------------------------
20170324
李治昊
2017/03/20C 2017/03/24
1.更新CBurialHistoryBasicPage（王鹏威：粘贴数据时，行数不够自动扩展；‘基础参数’页面增加‘沉积厚度’列）
1)增加void OnChar(wxKeyEvent& event)：响应键盘动作，粘贴（ctrl+v）后，行数如果增加，在表格中设置地层岩性符号配置下拉选项
	2)更新InitGrid：增加‘沉积厚度’列
	3)更新OnCellValueChanged：‘沉积厚度’列，数据不可小于0
	4)更新ResetRecord：读取‘沉积厚度’到表格
	5)更新OnAddItem：设置‘沉积厚度’列的数据
	6)更新SaveRecord：保存‘沉积厚度’列的数据
2.更新CBurialHistoryCanvas（王鹏威：埋藏史[ro]页面，可切换RO方法）
1)更新OnContextMenu：埋藏史[ro]页面，可切换RO方法（ro-tti、simple ro、easy ro、basin ro）
	2)增加void OnRoType( wxCommandEvent &event )：设置ro方法，刷新图版

3.更新CLightGrid
1)增加成员变量int m_previousRows：记录粘贴动作前，表格的行数
2)更新Dopaste：粘贴数据时，根据列顺序执行（原先按列id执行），防止列顺序与列id不相符时粘贴数据出错；记录粘贴动作前，表格的行数；粘贴数据时，行数不够时，自动增加行
-----------------------------------
20170324  wb
1 完善了圈闭体积法
2 完善了测井模块中TOC计算功能（增加对象绑定等）
3 增加双孔参数设置的保存读取
4 跟进了区带 圈闭 非常规等模块最新的翻译和修改。
5 修改了特征曲线的参数团计算方法。

-------------------------------
201703024 景妍
1、图元编辑中的属性操作：
  1）CAnySdeGeometryLayer：增加函数NewFeature()创建一条新属性记录、GetFeatureRecord()获取一条属性记录。
  2）CAnySdePointEditor、CAnySdeLineEditor、CAnySdePolygonEditor：增加属性操作和Redo/Undo属性记录。
  3）CAnySdeGeometryEditor：ExcuteUndo()、ExcuteRedo()中增加对属性的操作。
2、属性表：
  1）CAttributeTableDlg：改为无模式对话框，实时刷新。
  2）CWorkShapePropertyTablePanel：增加DoSaveChangesToCatch（）、GetAllRecords（），处理内存中属性表的变化。
  3）CAssessorFrame：处理Undo、Redo属性表刷新。
3、界面调整：
  1）CWorkMapCanvas：增加鼠标事件OnSetCursor（）。
  2）CSpatialAnalysisTreeCtrl“分析”对话框调整。
-------------------------------
20170329 pc
分布式切块配置对话框增加若干配置
切片增加rgb数据体的切片
三维rgb融合
cmd命令对含有特殊字符的路径执行时报错的问题
扫到头处可以配bufsize

-------------------------------
20170401 景妍
1、读取GeoTIFF遥感影像
CRasterImportPage：修改OnOpen（），使用GDAL读取GeoTIFF影像坐标范围，使图像在正确的地理坐标上显示。
2、修改界面：“分析”随图层切换刷新；“分析”中包含的界面的名称、对图层的有效性等。
3、修改po翻译文件。

----------------------------------------------------------
20170401
李治昊
2017/03/27C 2017/03/31
1.更新CBurialHistoryBasicPage（王鹏威，高亮虚拟地层的行；‘现今厚度’列与‘沉积厚度’合并;更新古地温算法）
	1)增加void HightLightDummyLayers()：高亮虚拟地层的行
	2)更新OnPageShow：显示当前页面时，调用HightLightDummyLayers，高亮虚拟地层的行
	3)更新OnChar：粘贴结束后，调用HightLightDummyLayers，高亮虚拟地层的行
	4)更新InitGrid：隐藏‘现今厚度’列，现今厚度填可写在‘沉积厚度’
	5)更新SaveRecord：地层存在现今厚度，将‘沉积厚度’变量置为0
-------------------------------
20170407 pc
内存映射模式切分
-------------------------------
20170407 jy
“分析”工具箱界面调整；
修改po文件。
-------------------------------
20170411 pc
Logistic可以查看和修改井数据
修改界面翻译
实现TIFF图片四叉树导入和存储，并且不开辟大内存

-------------------------------
20170412 jy
1、修复“复制图元到已有图层”死机的问题：CShplayerSelectionDlg::OnCopyToExistLayer, CLayerChooserDlg::InitData()。
2、修复“无法添加水平线和竖直线”的问题：CAnySdeGeometryLayer::IsIgnored。
3、修复图层“属性”设置死机问题：CLayerTreeCtrl::OnLayerProperty。
20170413 jy
1、优化图层编辑工具条及操作：CAssessorFrame::OnEditTypeToolControl。
2、修改打开属性表：
（1）CWorkShapePropertyTablePanel增加按id排序；修改属性数据来源GetAllRecords；
（2）CWorkMapCanvas::OnLButtonDblClick 编辑操作同时刷新属性表
（3）CAssessorFrame::OnEditTypeToolControl 编辑操作同时刷新属性表
20170414 jy
1、CAnySdeGeometryLayer::SetHighLight中修改图元获取方式：
   GetGeometrys（从数据库查找）改为DoGetGeometriesByIndexes（从内存中查找），否则新增图元无法被选中高亮。
2、CWorkShapePropertyTablePanel中修改图元获取方式：
   GetGeometrys（从数据库查找）改为DoGetGeometriesByIndexes（从内存中查找），否则新增图元无法从属性表中关联和修改属性。
3、CWorkShapePropertyTablePanel中OnRowLableDClick（双击表头）改为OnRowLableClick（单击表头），并且屏幕不缩放到所选图元（只高亮显示）。
4、CShplayerSelectionDlg::CopyGeometry复制图元的同时复制属性

----------------------------------------------------------
20170414
李治昊
2017/04/10C 2017/04/14
1-2：李逸：‘方波曲线’的实现
1.更新CMyMultiChoiceDlg
1)增加enum DialogType，窗口类别id
	{
		DT_Normal = 0,
		DT_Text_Ctrl,
	};
2)更新构造函数CMyMultiChoiceDlg(wxWindow *parent, const wxString& message, const wxString& caption, const wxArrayString& choices, int m_type = DT_Normal,const wxString &txtString = "")：增加参数int m_type = DT_Normal,const wxString &txtString = ""，传入显示风格、文本框label
	2)更新InitLayout：DT_Text_Ctrl模式，增加文本框
	3)增加wxString GetValue()：获取文本框中的字符串
	4)增加void SetValue(const wxString &str)：设置文本框中的字符串	
2.更新CWorkWellProfileCanvas
	1)更新OnContextMenu：增加‘方波曲线’菜单
2)增加void OnCurveSquare( wxCommandEvent& event )：响应‘方波曲线’菜单，调用CMyMultiChoiceDlg，选择曲线、阈值

3-5：王鹏威：埋藏史温度／Ro页面，可同时查看温度和Ro趋势；
3.更新CBurialHistoryCanvas
	1)更新OnContextMenu：增加‘温度与Ro’菜单，同时显示温度与Ro
2)增加void OnRenderTypeSelected( wxCommandEvent &event )：响应‘温度与Ro’菜单，切换显示单指标/双指标（温度与Ro）
4.更新CBurialHistoryCanvasPage
1)更新InitPage：创建CBurialHistoryCanvas对象时，将该类的id传入，以便区分显示菜单（温度/Ro）
5.更新CBurialHistoryBoundaryPage
	1)更新CanPageChanged：Ro参数校验页面，不是必须输入参数
6.更新CBurialHistoryBasicPage
	1)增加double m_toage：记录最远古的时代，界面计算McKenzie热流时需要用
	2)更新SaveRecord：记录最远古的时代
7-10：王鹏威：三组分图版，带权重数据的输入、显示
7.更新CToolboxTernarySourcePage
1)增加成员变量wxString m_weightColStr;int m_weightCol;wxComboBox *m_weightChoice；wxStaticText *m_weightTxt：存储三元图数据的权重列
2)更新InitPage：三元图模块，增加‘权重列’下拉框
3)更新IsDataValid：三元图模块，检查‘权重列’配置是否合法
4)更新OpenFile：三元图模块，初始化‘权重列’的内容，显示‘权重列’控件
5)更新ResetGridData：三元图模块，增加参数int weightCol，根据weightCol恢复‘权重列’的配置
	6)更新AddElements：三元图模块，根据权重列选择与否，设置底层三组分图的显示方式
8.更新CWorkScatterMatrixCanvas
	1)增加成员变量int m_weightCol：三元图图版，存储权重列
	2)更新OnProfile：读取三元图属性时，将m_weightCol传入，读取之前选择的权重列
9.更新CToolboxTernaryProfilePage
1)更新InitDisplaySettingsPanel：三元图模块，增加等值线最小颜色/最大颜色/阈值的设置控件
2)增加void LoadTernaryContourSetting(const CAnyTernaryPlot::ContourSetting &setting)：根据setting设置对应控件的值
3)增加void SetTernaryContourSetting(CAnyTernaryPlot::ContourSetting &setting)：根据控件的值设置setting对应的值
10.更新CToolboxTernaryWizard
	1)更新构造函数：三元图模块，读取等值线最小颜色/最大颜色/阈值
2)更新FinishPlot：三元图模块，设置界面的等值线最小颜色/最大颜色/阈值到CAnyTernaryPlot::ContourSetting

----------------------------------------------------------
20170419
李治昊
2017/04/17C 2017/04/21
1-2：王鹏威，埋藏史地质信息的平面分布显示
1.更新CLayerTreeCtrl
1)更新OnWellContour：测井图层等值线菜单，弹出窗口，让用户选择‘测井图层’/ ‘埋藏史’数据，产生等值线图层
2.更新CWellContourSettingDlg
1)增加构造函数：CWellContourSettingDlg(wxWindow *parent, const wxArrayString &toAddLayers, double fromage, double toage)：井图层等值线，增加埋藏史数据的输入
2)更新InitLayout：‘埋藏史’类别，增加‘地质变量’下拉选择框、‘年代’下拉选择框、‘埋藏史层位’下拉选择框

3-4：王鹏威，页岩油版本，盆地对象激活埋藏史模块需要先选择一口井
3.更新CLayerChooserDlg
	1)更新构造函数：增加参数const wxString &actionStr，记录当前窗口打开类型
	2)更新OnLayerChanged：切换井图层后，自动选择一个井位
	3)更新OnBtnOK：‘选择井位数据’窗口类型，记录当前所选井id
4.更新CActivityTreeCtrl
1)更新DoRunShaleBasinSimulationBury：盆地对象激活埋藏史模块，先调用CLayerChooserDlg选择一口井，之后将该井对应的boreIdx传入CBurialHistoryTreeBook
5.更新CBurialHistoryTreeBook
1)更新构造函数：增加参数long boreIdx，记录井id；增加参数const wxString &wellname，记录井名，如果井名不为空，显示在标题栏
	2)更新InitBook：将构造函数传入的井id传入CAnyBurialHistoryPlot
	3)增加bool m_isTemperatureActive、bool m_isRoActive、	bool m_isCalibrationRoActive、
bool m_isCalibrationTemperatureActive：分别表示埋藏史[温度]、埋藏史[RO]、校验模型[温度]、校验模型[RO]页面是否被访问过
4)增加bool CanCommit()：是否有埋藏史结果，结果存在才可以提交

6-8： 徐忠美， 资源丰度模块，遇不存在/未激活等值线图层，直接新建等值线图层；解决某些情况下‘资源量模型’对话框无法关闭的问题
6.更新CGeologicalModelSimulatorDlg
	1)更新ShowMap：名称存在但未激活的图层，直接创建新的等值线图层
7.更新CResourceAbundanceStochasticsDlg
	1)更新DoShowMap：名称存在但未激活的图层，直接创建新的等值线图层
8.更新CResourceModelSimulatorDlg
1)更新OnOK：名称存在但未激活的图层，直接创建新的等值线图层
2)更新InitLayout：‘展示等值线’按钮，换一个自定义id，防止关闭窗口时不断调用OnOK，产生的提示对话框无法关闭

9-10：王鹏威，等值线模块，解决某些情况下点击‘半变插图’按钮出现死机的状况
9.更新CToolboxContourWizard
1)更新OnApply：点击‘应用’按钮后，根据是否为克里金方法，决定‘半变插图’按钮的可用性
10.更新CToolboxContourGridPage
1)更新OnComboBoxSelected：切换插值方法后，根据是否为克里金方法，决定‘半变插图’按钮的可用性
----------------------------------------------------------
20170503
pc
资评对象数据导出TXT
导SHP无DBF文件时自动创建属性表记录
当前屏幕内的图层打勾，自动刷新画板
三参数，页岩物性输出数据集可选是否采用当前的survey

----------------------------------------------------------
20170505
李治昊

2017/05/02C 2017/05/05
1.更新CBurialHistoryBasicPage（王鹏威，埋藏史模块，地层序号插值后，批量设置各地层岩性颜色）
	1)更新InitPage：增加‘设置岩性颜色’按钮，通过插值设置各地层岩性颜色
	2)增加OnBtnColour：改变岩性颜色
	3)增加OnRefresh：通过插值设置各地层岩性颜色

2-3：王义刚，经济评价结果页面，计算单井极限产量
2.增加CNpvWellExtremeYieldDlg，计算单井极限产量
3.更新CNpvSummaryRecordPage
1)更新OnCellRightClick：右击‘最小经济规模’、 ‘最小商业规模’时，弹出菜单‘单井极限产量’
2)增加OnWellExtremeYield：响应菜单‘单井极限产量’，调用CNpvWellExtremeYieldDlg，计算单井极限产量

4.更新CToolboxTernaryProfilePage（王鹏威，三元图增加等值线设置）
	1)更新InitDisplaySettingsPanel：更新‘三元图’等值线配置控件
	2)更新LoadTernaryContourSetting：读取‘三元图’等值线配置到界面
	3)更新SetTernaryContourSetting：设置‘三元图’等值线配置到底层

5-7：王义刚，经济评价模块，提交记录，提示用户是否覆盖当前记录
5.更新CNpvTreeBook
	1)增加成员变量long m_loadedPracticeId：记录读取的历史记录id，新建为-1
6.更新CNpvPracticePage
	1)更新ResetRecords：读取历史记录/新建记录后，设置历史记录id（m_loadedPracticeId）
7.更新CNpvCommitPage
	1)增加成员变量bool m_isUpdateRecord：记录用户选择，是否覆盖当前历史记录
	2)更新Commit：弹出对话框，询问用户是否覆盖当前记录，并标记m_isUpdateRecord
	3)更新DoCommit：覆盖当前记录情况，先删除当前历史记录，之后再提交数据

----------------------------------------------------------
20170505
景妍
1、更新CAnySdeGeometryLayer：增加PropertyTypeTrans（）和GetAllRecordsString（），属性记录数据类型转换。
2、更新CLayerTreeCtrl：图层右键打开属性表，地图界面切换到该图层。
3、更新CWorkMapCanvas：拾取图元在属性表中高亮显示。
4、更新CWorkShapePropertyTablePanel，修改工具条，选择高亮，修改属性等。
----------------------------------------------------------
20170511
pc
等值线三维solid模型
----------------------------------------------------------
20170508-20170512 
景妍
1、导入矢量数据屏幕闪烁问题：
CLayerTreeCtrl:: DoImportSdeGeometryLayer不使用进度对话框；
CAnySdeGeometryLayer::ImportFromDBF，ImportFromSHP不使用进度对话框，改为进度条。
2、图层编辑结束后若不保存恢复原始状态，同时刷新属性表：
CAssessorFrame::OnEditToolControl
3、Undo\Redo兼容多个图元同时编辑：
（1）CAnySdeGeometryEditor：增加要素结构体SDEElement，修改RedoUndoElement结构为数组；修改ExcuteUndo、ExcuteRedo、UpdateUndoRedoVector，使可以处理同一步操作前后图元数量不等的情况。
（2）更新CAnySdePointEditor、CAnySdeLineEditor、CAnySdePolygonEditor图元编辑中的Undo、Redo操作。
（3）修正CAnySdeGeometryLayer、CAnySdeGeometryEditor中涉及多图元的编辑操作的缺陷：SplitPolygon、MergeGeometries、MergeLines。
（4）更新界面CShplayerSelectionDlg、CWorkMapCanvas、CWorkShapePropertyTablePanel中的Undo、Redo操作。
4、坐标系转换：
（1）测井数据导入界面CWellImportPage增加投影转换
（2）坐标系转换类CCoordinateTransformDlg增加测井数据类型
5、属性记录迁移：
（1）连接线、合并图元时，若属性值相同，则复制到新图元属性中。CAnySdeGeometryLayer增加合并属性记录函数MergeFeature；
修改CAnySdeGeometryEditor中MergeLines(),MergeGeometries().
（2）复制图元的同时复制属性值：复制到当前图层、复制到其他图层。
CAnySdeGeometryLayer增加复制属性记录函数CopyFeature；修改CShplayerSelectionDlg中的CopyGeometry()、OnCopyToExistLayer()。
----------------------------------------------------------
20170515
pc
mysql初步版本
使用注意事项：
1、应该先安装mysql，然后在工程中添加include和lib的路径，VC++ Directories-->Include directories加上C:\Program Files\MySQL\MySQL Server 5.7\include;VC++ Directories-->Library directories加上C:\Program Files\MySQL\MySQL Server 5.7\lib;Linker-->input加上libmysql.lib
2、在mysql服务器命令行界面中用set global max_allowed_packet=1*1024*1024*1024修改最大blob字段长度，show variables like '%max_allowed_packet%'查看当前长度
其他一些不同：
1、脚本中用nvarchar存unicode字符
2、脚本中float精度较低，应该用double
3、AppendBlobField,AddNew,AddNewMultiblob用AppendBlobFieldSTMT代替，FetchBlobField不变
4、mysql没有“select top 1 * xxxxxx”用"select * from xxxxxxxx limit 1"代替
5、用户权限相关语法不相同
----------------------------------------------------------
20170518
pc
层序地层模块，位于三维框架中

-------------------------------------------------------------
20170519 wb
1 重新放开了区块版本的菜单 活动树 界面等
2 增加了圈闭管理版本的菜单界面 和模拟框架等。

-------------------------------------------------------------
20170515-20170519 jy
1、“继续绘制”功能改为“继续向左绘制”和“继续向右绘制”两个编辑动作：
CAnySdeGeometryEditor中增加编辑状态RT_Continue_Right和RT_Continue_Left；
修改CAnySdeLineEditor和CAnySdePolygonEditor；
界面CAssessorFrame工具条中增加按钮TB_GEOEDIT_Continue_Point_Right,TB_GEOEDIT_Continue_Point_Left。
2、修复属性表改属性值保存不上的问题：
CWorkShapePropertyTablePanel::DoSaveChangesToCatch
3、设置属性表可编辑状态:
修改CAssessorFrame::OnEditToolControl, CLayerTreeCtrl::OnAttributeTable\ActivateItem\EnableEdit：增加SetGridEditable().
4、完成属性表不分页模式的数据加载、滚动条显示、查询等。
增加滚动条事件OnGridScollMoved，不分页模式下拖拽滚动条加载数据。
5、增加按钮跳转至指定页。
CWorkShapePropertyTablePanel增加按钮m_gotopagebtn和事件OnGoToPage。
6、修复属性表高亮记录不正确问题。
CWorkShapePropertyTablePanel::IsRowInCurrentPage、IsRowInPage.
7、地震数据加载页面增加坐标投影转换：
C3DSeismicImportPage增加转换坐标pts_coordtrans和事件OnSelectProjection。

-------------------------------------------------------------
20170519 李治昊
2017/05/08C 2017/05/12
1.更新CBurialHistoryBoundaryPage（王鹏威，热流页面，显示mckenzie对应的热流）
	1)更新InitGrid：热流页面，增加mckenzie列，显示mckenzie对应的热流
	2)更新ResetRecord：热流页面，计算年代对应的mckenzie热流
	3)更新OnFsMcKenzie：热流页面，改变mckenzie条件后，计算年代对应的mckenzie热流
2.更新CLightGrid（王鹏威，检查剪切板列数是否超过表格中列数，给予用户错误提示）
	1)更新Dopaste：检查剪切板列数是否超过表格中列数，给予用户错误提示

3-4：王鹏威，埋藏史图版，右键‘详细’，显示埋藏史结果信息
3.更新CNpvSpiderDetailDlg
1)增加构造函数CNpvSpiderDetailDlg( wxWindow *parent, CAnyBurialHistoryPlot *hook )，显示埋藏史结果信息
2)更新InitGridData：显示埋藏史结果信息
4.更新CBurialHistoryCanvas
	1)更新OnContextMenu：显示菜单‘详细’
2)更新OnProfile：响应菜单‘详细’，显示埋藏史结果信息


2017/05/15C 2017/05/19
1-3：王鹏威，埋藏史模块，热流页面，设置瞬态热流；基础参数页面，设置瞬态热流相关参数
1.更新CBurialHistoryBoundaryPage
	1)更新InitPage：热流页面，增加‘瞬态热流’checkbox控件
	2)增加bool m_isTransitHeatFlow：存储是否为‘瞬态热流’状态
3)更新SaveRecord：根据‘瞬态热流’checkbox控件,设置m_isTransitHeatFlow的状态
2.更新CBurialHistoryTreeBook
	1)更新OnPageShow：埋藏史页面，设置‘瞬态热流’状态到底层CAnyBurialHistoryPlot
3.更新CBurialHistoryBasicPage
	1)更新InitGrid：增加‘瞬态热流’相关参数列（比热容、流速、密度等）
	2)更新OnCellValueChanged：‘瞬态热流’相关参数不可小于0
	3)更新ResetRecord：设置‘瞬态热流’相关参数到grid中
	4)更新OnAddItem：新加一行，设置‘瞬态热流’相关参数到grid中
	5)更新SaveRecord：设置grid中‘瞬态热流’相关参数到底层CAnyBurialHistoryPlot
4-6：王义刚，测井图层，增加‘导入分层/解释成果数据’的功能
4.更新CWorkMapCanvas
1)更新OnLButtonUp：连井剖面显示模式，只统计CAnyLogPickTrack::m_pickType为PT_Default的剖面道
2)更新OnLButtonDblClick：连井剖面显示模式，只统计CAnyLogPickTrack::m_pickType为PT_Default的剖面道
5.更新CWorkWellProfileCanvas
1)更新OnWellPickProfile：连井剖面显示模式，只统计CAnyLogPickTrack::m_pickType为PT_Default的剖面道
2)更新IsWellProfileMode：连井剖面显示模式，只统计CAnyLogPickTrack::m_pickType为PT_Default的剖面道
3)增加static CAnyView *LoadWellComponents(CAnyLogLayer *hook, const std::vector<std::string> &wellnames = std::vector<std::string>())：封装读取测井道的功能
6.更新CLayerTreeCtrl
	1)增加OnImportWellData：导入测井‘分层/解释成果’数据，作为剖面道；

7-8：王义刚，地图代数模块，增加读取切片中等值线图层
7.更新CActivityTreeCtrl
	1)更新DoRunRasterAnalysis：地图代数模块，增加读取切片中等值线图层
	2)更新RunRasterAnalysis：地图代数模块，增加读取切片中等值线图层
8.更新CRasterCalculatorDlg
	1)更新GetIntersectExtent：增加切片中等值线图层的匹配
	2)更新DoHandleRatserLayers：增加切片中等值线图层的匹配
3)更新CreateNewRasterCells：增加切片中等值线图层的匹配

9.更新CWelllogCurvePropertyDlg（王鹏威，测井曲线道属性，增加‘刻度数量’）
	1)更新InitComponentPanel：增加‘刻度数量’设置控件
	2)更新struct LineInfo：增加int m_tickNum，设置‘刻度数量’
	3)更新OnComboBoxCurveUpdate：设置每条曲线的‘刻度数量’
	4)更新RefreshWellCanvas：设置曲线的‘刻度数量’到CAnyLogCurveTrack
	5)更新InitData：读取‘刻度数量’
------------------------------------
20170524 wb
1 增加了评价项目菜单下直接快速导入报表数据的选项
2 增加了评价项目属性数据快速导入的功能
3 更新了地震部署和其他非常规，小面元体积法等缺陷法
------------------------------------
20170526 pc
两种分布式切分，1：顺序读源sgy，写入到各个子块，全部完成后，上传到各个chunk；2：顺序读源文件，顺序写入到与其所属chunk对应的临时文件中，
数据头加上块号和位置偏移信息，全部完成后，将临时文件传到各个chunk，每个chunk再顺序读出并按数据头写入到对应块中
三维显示增加1：地震数据的井轨迹圆筒纹理，2：层序地层的井轨迹圆筒纹理
分布式脚本单独拎出，可在servicetray界面中创建仅包含分布式相关表的数据库

-------------------------------------------------------------
20170527 李治昊
2017/05/22C 2017/05/27
1.增加CProspectEcoDataImportDlg（王义刚，导入评价单元经济评价参数，作为一个历史活动）

2.更新CBurialHistoryBasicPage（解国军，埋藏史模块[基础参数]页面，解决单击表格cell后不能输入数据的问题；改变沉积/剥蚀时间后，保证时间的连续性，方便用户更改数据）
	1)更新OnChar：增加代码event.Skip()，解决单击表格cell后不能输入数据的问题
	2)更新OnCellValueChanged：改变沉积/剥蚀时间后，保证时间的连续性，方便用户更改数据
3.更新CBurialHistoryTreeBook（解国军，埋藏史模块，如遇数据不完整时，提示用户具体哪个页面没有数据）
	1)更新IsReady：遇数据不完整时，提示用户具体哪个页面没有数据

-------------------------------------------------------------
20170527 景妍
1、	GeoTIFF影像读取坐标投影并转换：
（1）CRasterImportPage 增加GeoTIFF投影转换。
（2）CCoordinateTransformDlg 增加对Hook_Type_SDE类型图层的处理。
2、	创建新图层时增加对复杂图元的处理：
（1）修改CBoostSdeGeometry::CreateFromPoints：修改复杂图元分割点标记；使复杂图元的创建兼容普通图元。
（2）修改CAnyCoordinateProjector::Transform：修改投影转换的点坐标集合，加入复杂图元分割点标记。
（3）合并图元后修改图层类型，普通图层―>复杂图层。
3、查询图元属性表显示模式：
（1）CWorkShapePropertyTablePanel增加按钮切换显示模式
（2）CWorkMapCanvas拾取图元时区分属性表当前显示模式

---------------------------------------------------------
20170601  wb
1 增加了地震部署打分因子直接导入功能
2 提交了地震部署新的打分因子报表格式
3 修改了非常规的几处问题
---------------------------------------------------------
20170605 pc
rcf开源包，修改每次传输数据量1M-->128M
RGB融合新增一种配色方案
---------------------------------------------------------
20170608 pc
400G切分，索引上传速度优化
400G合并速度优化

---------------------------------------------------------
20170609 李治昊
2017/05/31C 2017/06/02
1.更新CBurialHistoryBoundaryPage（解国军，埋藏史模块，‘Mc Kenzie’设置时可勾选/不勾选）
1)更新InitPage：设置‘Mc Kenzie’方式，由按钮变为checkbox，可勾选/不勾选‘Mc Kenzie’参数
2)更新OnFsMcKenzie：勾选‘Mc Kenzie’checkbox，弹出对话框设置参数；不勾选，取消‘Mc Kenzie’模式，但参数保留，便于下次直接调用


2017/06/05C 2017/06/09
1.增加CLithologyEditDlg（解国军，埋藏史模块，岩性设置窗口（设置混合岩性等））
2.增加CLithologyImportDlg（解国军，埋藏史模块，岩性编辑/读取窗口（编辑岩性参数））
3.更新CBurialHistoryBasicPage（解国军，埋藏史模块，基础参数页面，设置/编辑岩性参数；提示需要定义为虚拟层的地层（剥蚀厚度大于自身厚度））
1)更新InitGrid：‘岩性’列改为‘岩性公式’列；增加‘岩性’列，用于选择岩性；隐藏ks、kw、c等列，其值由具体岩性指定（不再人工设置）；隐藏‘岩性颜色’、‘岩性符号’列，在后面页面设置
2)更新OnCellLeftDClick：双击‘岩性’列，调用1.CLithologyEditDlg弹出窗口，选择采用的岩性（可混合岩性）；调用CAnyBurialHistoryPlot::SetLithologyFormula，获取地层的岩性参数
	3)更新InitPage：增加‘编辑岩性’按钮；隐藏岩性颜色设置相关按钮
4)增加void OnSetLithology( wxCommandEvent& event )：响应‘编辑岩性’按钮，调用2. CLithologyImportDlg弹出窗口，编辑岩性参数
5)更新ResetRecord：设置地层默认岩性为“Limestone:micrite”，调用CAnyBurialHistoryPlot::SetLithologyFormula，获取地层的默认岩性参数
6)更新OnAddItem：新增地层，设置默认岩性为“Limestone:micrite”，调用CAnyBurialHistoryPlot::SetLithologyFormula，获取地层的默认岩性参数
7)更新CanPageChanged：提示需要定义为虚拟层的地层（剥蚀厚度大于自身厚度）
8)更新OnPageShow：调用ResetRecord，将records重新加入grid
9)增加void SetLithologyColorSymbol(CAnyBurialHistoryPlot::GeologicalLayerVector &layers)：根据layers更改m_layers中各地层的‘岩性颜色’、‘岩性符号’
4.更新CBurialHistoryTreeBook（解国军，埋藏史模块，自动读取岩性参数文件）
1)更新InitBook：调用CLithologyImportDlg，弹出窗口，自动读取岩性参数文件，设置岩性参数到底层CAnyBurialHistoryPlot::SetGeologicalLithology

5-6：解国军，埋藏史模块，在‘埋藏史’页面，通过右键菜单设置岩性符号、颜色
5.增加CLithColorSymbolSettingDlg：设置岩性符号、颜色的窗口
6.更新CBurialHistoryCanvas
	1)更新OnContextMenu：埋藏史页面，增加菜单‘设置岩性颜色/符号’
2)增加CBurialHistoryBasicPage *m_basicPage：便于调用m_basicPage对象
3)增加void OnLithColorAndSymbol( wxCommandEvent &event )：响应菜单‘设置岩性颜色/符号’，弹出窗口5.CLithColorSymbolSettingDlg，设置岩性符号、颜色的窗口；同时更改2) m_basicPage页面中对应地层的岩性符号、颜色

---------------------------------------------------------
20170606 jy
1、	查询图元对话框
（1）	修改CShplayerSelectionDlg:: OnItemSelected，从内存读取属性，避免新编辑图元查询不出属性值的情况。
（2）	修改CShplayerSelectionDlg::OnListItemActivated，双击属性条目可修改属性值。
（3）	修改CAssessorFrame::OnEditToolControl，执行撤销\重做等操作时刷新查询对话框。
2、	属性表
修改CAssessorFrame::RemoveWorkShapProfile，移除图层后销毁属性表tab页，避免在属性表没打开时刷新属性表。
3、	多选图元
修改CAnySdeGeometryLayer::DoRenderSelectedGeometries，考虑多选的情况，画所有已选中的图元，而非仅当前选中。
4、	编辑中的属性操作
修改CAnySdeGeometryEditor::ExcuteRedo、ExcuteUndo，修正多图元编辑和撤销重做时对属性的操作。
--------------------------------------------
2017 0609 wb
1 非常规增加了优选排队功能活动
2 增加了圈闭管理预览界面的查询部分
3 修改了非常规打分模块结果的保存方式，
  原有的打分保存必须重新保存，否则在非常规优选排队功能活动中不起作用
  ---------------------------------------------------------
20170612 pc
400G合并速度优化,local端减少readfile的文件的切换频率
---------------------------------------------------------
20170614 pc
mysql导SHP多线程、批量插入、中文BUG
---------------------------------------------------------
20170616 pc
增加分布式备份数设置

---------------------------------------------------------
20170612-20170616
1、GeoTIFF影像做投影转换
   CCoordinateTransformDlg修改自定义的坐标系参数。
2、属性表
（1）CAnySdeGeometryLayer增加函数：AddField给内存中的属性增加一个字段、DeleteFields给内存中的属性删除字段；
（2）修改CSDELayerProfilePage::ApplySetting()，当增加、删除字段时更新内存中属性。
3、圈闭管理版本
（1）CAssessorFrame::OnTrapMangementActivity：由圈闭对象生成点图层；加载图层数据菜单弹出导入图层对话框。
（2）CWorkMapCanvas::OnZoomIn放大至屏幕只有一个点时弹出关联图层对话框，选择图层加载显示。

---------------------------------------------------------
20170609 李治昊
2017/06/12C 2017/06/16
1.更新CBurialHistoryBasicPage（解国军，埋藏史模块，基础参数页面，增加toc列，用于地层是否为判断源岩层）
1)更新InitGrid：增加‘TOC’列
	2)更新OnCellValueChanged：‘TOC’列值不可小于0
	3)更新ResetRecord：设置各地层‘TOC’列的数值
	4)更新OnAddItem：增加地层后，设置‘TOC’列的数值
	5)更新SaveRecord：存储各地层‘TOC’的数值
2.更新CBurialHistoryBoundaryPage（解国军，埋藏史模块，增加‘降解率’页面）
	1)更新InitPage：‘降解率’页面，增加‘降解类型’下拉选择框（I\IIA\IIB\III\GAS）
	2)更新InitGrid：‘降解率’页面，列头改为‘Ro’、‘降解率’
3)增加void OnComboboxSelected(wxCommandEvent& event)：响应‘降解类型’下拉选择框，切换各类型降解率
4)增加bool SaveDegradationRate(int selection)：存储selection对应‘降解类型’对应的降解率
5)增加bool LoadDegradationRate(int selection) ：读取selection对应‘降解类型’对应的降解率
6)更新ResetRecord：‘降解率’页面，调用5)LoadDegradationRate，读取降解率
	7)更新SaveRecord：‘降解率’页面，调用4)SaveDegradationRate，存储降解率
3.更新CBurialHistoryTreeBook（解国军，埋藏史模块，增加‘生汀强度’页面）
	1)更新InitBook：增加‘生汀强度’页面；增加‘降解率’页面
	2)更新OnPageShow：进入‘生汀强度’页面、‘降解率’页面时设置Kerogen参数
	3)更新OnInitParameter：离开‘降解率’页面时保存Kerogen参数
---------------------------------------------
20170616 wb
1 增加了新的字段 投影和 坐标系
2 完成了圈闭管理查询和数据管理的主要功能
3 增加了坐标系和投影交互
4 调整了非常规活动树
5 评价项目修改了打分模板，增加了圈闭评价类型的导入
---------------------------------------------------------
20170620 pc
400G多副本切分，解决硬盘空间不够问题；
---------------------------------------------------------
20170621 pc
400G多副本切分优化，多副本移到chunk里面产生及分发；
分布式地震切片、分布式三维切片缺陷修复、优化；
投影坐标脚本及存取接口；
地震属性融合，增加公式编辑器编辑融合规则；

---------------------------------------------------------
20170623 wb
1 非常规优选模块增加了输出功能
2 优化了调整了圈闭查询的代码（原圈闭通用查询模块），增加了若干属性的查询和新功能。
3 完成了圈闭管理版本的除钻探数据统计的其他模块主要功能。根据现有需求增加了评价数据统计模块为（demo版，需要等待王最新需求）
4 优化调整了活动树。 
5 重新上传了‘PETROV trapmanagelogo .jpg’图片，圈闭管理版logo图片在
  D:\Code\petroV\outputs\bitmaps\logo 目录下

---------------------------------------------------------
20170623 李治昊
2017/06/19C 2017/06/23
1.更新更新CBurialHistoryBoundaryPage（解国军，埋藏史模块，‘降解率’页面，增加ro-降解率图版）
1)更新InitPage：‘降解率’页面，增加scatter图版，用于显示ro-降解率的关系；增加‘刷新’按钮，用于数据修改后刷新图版
	2)增加RefreshCanvas：‘降解率’页面，将grid中数据添加进图板
3)增加OnRefreshCanvas：‘降解率’页面，响应‘刷新’按钮，调用RefreshCanvas，将grid中数据添加进图板
4)更新LoadDegradationRate：‘降解率’页面，读入数据后，调用RefreshCanvas，将grid中数据添加进图板
2-4：解国军，埋藏史模块，增加‘反映动力学（LLNL）’页面，输入动力学参数
2.增加CBurialHistoryLLNLSubPage
3.增加CBurialHistoryLLNLParaPage
4.更新CBurialHistoryTreeBook
	1)更新InitBook：增加‘反映动力学’页面
	2)更新OnPageShow：进入‘反映动力学’页面时设置Kerogen动力学参数
	3)更新OnInitParameter：离开‘反映动力学’页面时保存Kerogen动力学参数

5.更新CBurialHistoryCanvas（解国军，埋藏史模块，‘生烃强度’页面，增加显示‘反映动力学’生烃强度）
1)更新OnContextMenu：‘生烃强度’图版，增加类别选择，叠加/单独显示‘降解率’/‘反映动力学’生烃强度；‘生烃强度’图版，增加‘显示地层’菜单，设置待显示的地层
2)增加void OnHydrocarbonIntensiveCanvasType( wxCommandEvent &event )：响应菜单，叠加/单独显示‘降解率’/‘反映动力学’生烃强度
3)增加void OnHydrocarbonIntensiveCanvasLayers( wxCommandEvent &event )：响应菜单‘显示地层’，设置待显示的地层

---------------------------------------------------------
20170619-20170623 景妍
1、修复面图元拆分后撤销死机缺陷：CAnySdeGeometryEditor::SplitPolygon
2、属性表浮点数改为保留两位小数CAnySdeGeometryLayer::PropertyTypeTrans，图元查询对话框属性值保留两位小数CShplayerSelectionDlg::OnItemSelected。
3、修复复制图元到新图层后无法查询的问题：
修改CShplayerSelectionDlg::OnCreateNewLayer，修改CLayerTreeCtrl::DoCreateNewGISLayerFromExitLayer，需要新建空图层、新增图元，然后创建索引、复制属性，不能直接复制图元表、属性表和索引表。
4、增加根据图层名称查找图层树节点函数CLayerTreeCtrl::SearchTreeElementByName。
5、CAssessorFrame增加函数CreateTrapLayer：由圈闭对象生成点图层包含属性表。
6、修改多选图元时的默认拾取方式CAssessorFrame::OnEditTypeToolControl。
--------------------------------------------------
20170628 wb
1 增加了视图菜单，工具条和选项功能
2 选项对话框中增加了设置默认投影和坐标系的页面（待jY提供相关接口）
3 选项对话框增加了设置查询列表的字段显示与否与字段排列的顺序的页面，调整后可通过重新查询实时刷新结果页面。
4 评价结果状态分三列显示
5 筛选后只保留筛选结果，可通过加还原或重查询或按钮恢复
6 调整了无效字段内容的单元格颜色
7 文件提交将文档和图片合为一个状态处理
8 多层资源量计算功能弹出时先弹出历史记录界面选择历史记录后再进入主页面，不再进入选择体积法计算类型选择框。
9 调整了菜单中对象导入的函数调用位置，统一为对象树中调用。
---------------------------------------------------------
20170629 pc
RGB融合，多线程公式解译，2图层融合；
三维地震mc，三维岩心mc结果分布式存储；
xgboost参数界面可配；
---------------------------------------------------------
20170630 pc
在mysql服务器命令行界面中用set global innodb_flush_log_at_trx_commit=0提高插入速度
show variables like '%innodb_flush_log_at_trx_commit%'查看当前值


---------------------------------------------------------
20170630 李治昊
2017/06/26C 2017/06/30
1.更新CLithologyEditDlg（解国军，埋藏史模块，‘编辑岩性’窗口，切换岩性类别后，默认选择第一个子类别；打开窗口时，设置当前岩性配置的公式）
1)更新构造函数CLithologyEditDlg(…,const std::string &lithformula)：增加参数lithformula，存储默认公式
2)更新InitParameter：切换岩性类别后，默认选择第一个子类别（原先默认未选择子类别）；打开窗口时，设置当前岩性配置的公式
2.更新CBurialHistoryBasicPage（解国军，埋藏史模块，基础参数页面，去除‘公式’列）
1)更新InitGrid：隐藏‘公式’列
3.更新CBurialHistoryTreeBook（解国军，埋藏史模块，生烃强度页面，y轴单位为[kg/m2]）
	1)更新InitBook、OnPageShow：生烃强度页面，y轴单位改为[kg/m2]
4.更新CWorkWellProfileCanvas（张丰麒，曲线归一化，去除非法值后，再计算）
	1)更新OnCurveNormalization：曲线归一化，去除非法值后，再计算

---------------------------------------------------------
20170626-20170630 景妍
1、	GeoTIFF转换给定默认文件路径CRasterImportPage::OnSelectProjection；
栅格文件导入允许修改图层名CRasterImportPage::DoImportRaster。
2、	修改“图层管理”对话框界面CGISLayerManagementDlg，增加“属性”和“分析”按钮。
3、	圈闭管理，增加GIS空间统计：雷达图、专题图。
4、	圈闭管理版“空间查询”生成点图层弹出“图层管理对话框”，激活\显示当前选中圈闭的关联图层CAssessorFrame::ShowRelatedLayersByElementID。
5、	圈闭管理版“选项”中增加默认投影系统选择。
6、	修改坐标系选择和坐标系转换对话框，读取系统默认坐标系和投影及参数。

-------------------------------------
20170630 wb
1 优化了圈闭查询的速度
2 增加了绑定图层操作的对话框
3 增加了查询和GIS交互定位和高亮显示的函数接口
4 增加了钻探统计的计算功能菜单
5 升级了评价项目和地震版本的数据库结构（需要数据库升级和更新翻译文件）
6 升级了文档查询对话框和批量导入对话框。
7 升级了圈闭管理版本下的图层导入对话框。

-------------------------------------
20170701 景妍
1、圈闭管理版，增加查询列表与地图的联动显示；
2、增加GIS专题图设置对话框CPropertyDisplayDlg。
-----------------------------------------------------------
20170705 wb
1 增加了圈闭管理上传图层数据时的绑定图层的功能（仅支持GIS图层）
2 修复了志浩圈闭查询时查询记录重复的问题
3 调整了圈闭查询对话框的界面
4 修改了批量导入对象时自动创建记录的功能
5 调整了圈闭管理界面和部分菜单和字段名称
6 统一了评价项目版本的评价阶段编码方法，新老数据库一致。

-------------------------------------------------------------
2017 0707 wb
1 增加扩展了分布直方图统计的统计模块。
2 增加并针对圈闭管理的参数修改了样本参数分析模块的功能。
3 增加并修改了了圈闭查询字段
4 裂缝分析修改了界面，增加了断层面图层和其他等值线图层的数据读取功能。
5 增加了地震和评价项目版导入导出时打分直接保存的功能
6 修改了界面菜单等
7 修复了wpw的一些简单缺陷

-------------------------------------------------------------
20170703-20170707
1、更新数据库脚本，r_gis_projection、r_gis_geographic_coordinate增加字段。
2、设置系统内置地理坐标系和投影类型，设置每种类型的默认参数：CLayerTreeCtrl::LoadGISProjandCoordRecords
3、向数据库写入自定义坐标系和投影类型时自动获取id：CLayerTreeCtrl::AddGISProjRecord、AddGISCoordRecord。
4、增加用户自定义地理坐标系（基准面）和投影类型对话框：CCoordinateCustomDlg、CProjectionCustomDlg。
5、修改原有坐标转换对话框和坐标系选择对话框CCoordinateTransformDlg、CCoordinateSelectionDlg。
6、圈闭管理版GIS空间统计，设置默认字段参数：雷达图CLayerTreeCtrl::DoRadarCanvas，专题图CAssessorFrame::OnTrapMangementActivity。
7、修改图层管理对话框界面，增加图标：CGISLayerManagementDlg。
8、更新po文件。
---------------------------------------------------------
20170713 pc
打开属性表速度优化；
三维数字岩心mr；
三维断层面绘制；
地震图层树下的等值线图层可移动到图层框架树下；
---------------------------------------------------------
20170713 pc
surveyinfo存文件存数据库2种模式；分布式去掉surveyinfo存数据库部分；

--------------------------------------------------------
20170714 wb
1 修改了区块相关数据库表结构和对应的数据读取接口等（需要升级数据库）
2 修改了文档blob数据的读取方法和对应表结构（需要升级数据库）
3 增加了区块版的新框架，包括菜单 对象树 活动数 右键属性列表等
4 修改了圈闭管理版的缺陷
5 修改了裂缝分析的部分功能
6 更新了翻译文件

--------------------------------------------------------
20170710-20170714 景妍
1、实时刷新GIS图层标注字段：修改CAnySdeGeometryLayer::GetRenderLabel，读取内存属性；CShplayerSelectionDlg::OnListItemActivated修改属性值后刷新显示；CAssessorFrame::OnEditToolControl保存编辑内容后重新加载属性表，更新内存中当前属性。
2、修改CAnySdePolygonEditor，解决多边形图层编辑节点缺陷。
3、栅格图层导入增加非法路径提示CRasterImportPage。
4、修改地貌分析算法函数：
计算山脊点CAnyRasterMorphometricAnalysis::CalculateRidgeLines，
计算水系线特征点CAnyRasterMorphometricAnalysis::CalculateStreamLines。
5、优化坐标投影转换界面CCoordinateTransformDlg。

--------------------------------------------------------
20170718 景妍
1、创建新图层和导入矢量图层时增加坐标系统的选择；优化坐标系选择对话框。
2、修复圈闭管理版制作雷达图缺陷。

---------------------------------------------------------
20170719 李治昊
埋藏史：完成骨架线、地质变量提取；温度、Ro颜色填充暂未完成
---------------------------------------------------------
20170720 pc
纹理属性；栅矢转换效果优化；

---------------------------------------------------------
20170721 景妍
1、导入.img格式影像（还需按照DEM高程值配色显示）；
2、分析工具箱增加“提取山脊线”工具（栅格图层，针对IMG格式的DEM数据）；
3、修复打开属性表仅显示查询图元模式缺陷。

---------------------------------------------------------
20170728 李治昊
2017/07/24C 2017/07/28
1.更新CBurialHistoryBasicPage（解国军，埋藏史模块，基础参数页面，增加‘年代步长’、‘厚度步长’、‘超压’设置控件；改变地层输入方式为basinmod方式）
	1)更新InitPage：增加‘年代步长’、‘厚度步长’、‘超压’设置控件

--------------------------------------------------------
20170728 wb
1 修改了区块相关数据库表结构和对应的数据读取接口
2 修改了区块版的新框架，包括菜单 对象树 活动数 右键属性列表等
3 增加了区块版的已有模块
4 更新了翻译文件

--------------------------------------------------------
20170728 景妍
地貌分析：基于地表水流模拟的水系线算法，增加多线程。

---------------------------------------------------------
20170804 李治昊
2017/07/31C 2017/08/04
1.更新CUnitTreeCtrl（王义刚，圈闭管理版，对象树增加‘导入图层’菜单；切换树节点，显示当前对象绑定的图件）
	1)更新DoLoadChildren：圈闭管理版，对象树不加载圈闭及其下对象
2)更新DoSelChange：圈闭管理版，筛选出当前对象下的所有圈闭，并显示其绑定的图件；圈闭点图层中，高亮显示选中的圈闭
	3)更新ShowMenu：圈闭管理版，对象树增加‘导入图层’菜单
	4)增加void ImportLayer( wxCommandEvent &event )：圈闭管理版，响应‘导入图层’菜单
	5)增加void LoadDefaultMap()：圈闭管理版，读取并显示根节点绑定的图件
2-3：王义刚，圈闭管理版，初始界面显示对象树及根节点绑定的图件
2.更新CAssessorApp
1)更新OnInitPost：圈闭管理版，调用CUnitTreeCtrl::LoadDefaultMap，显示根节点绑定的图件，默认不显示查询结果窗口
3.更新CAssessorFrame
	1)更新InitLayout：圈闭管理版，初始界面显示对象树
2)更新ResetFrame：圈闭管理版，初始界面显示对象树
3)更新void CreateTrapLayer(CElementVisualStatDlg::QueryResults &results, const std::string &name)：增加参数const std::string &name，传入待创建的图层名称
4)更新void HightLightTrapCanvas(std::vector<long> &elementids, const std::string &name) ：增加参数const std::string &name，传入待高亮显示elementids的图层名称

4.更新CBasinProfileDlg（王义刚，坐标x、y不通过科学记数法显示）
	1)更新SetSinglePropertyGrid：float型property grid控件，不通过科学记数法显示
5.更新CWorkWellProfileCanvas（王鹏威，双孔模块，合并测井曲线后，不显示被合并的曲线道）
	1)更新OnCurveUnionLeftRight：双孔模块，合并测井曲线后，不显示被合并的曲线道

--------------------------------------------------------
20170804 景妍
1、修改地貌分析水流累积量算法函数
2、属性表图片字段增加有无图片标记
3、等值线图层命名包含非法字符检查
--------------------------------------------------------
20170810 pc
基于地理码的测井分布式存储

---------------------------------------------------------
20170811 李治昊
2017/08/07C 2017/08/11
1.更新CLayerTreeCtrl（王义刚，圈闭管理版，封装定位图层的功能）
1)增加void LocateLayerPosition(CAnyView *cur_view, std::vector<std::string> &cmp_filepaths, bool is_switch_off_other)：封装定位图层的功能，根据一组图层名称（cmp_filepaths），定位对应图层
2.更新CUnitTreeCtrl（王义刚，圈闭管理版，对象树切换树节点，优化查询圈闭图层速度）
1)更新DoSelChange：圈闭管理版，调用CLayerTreeCtrl::LocateLayerPosition定位图层，优化查询圈闭图层速度（图层不存在，创建；图层存在，直接定位）
	2)增加void CreateAllTrapLayer()：圈闭管理版，圈闭点图层如果不存在，创建该图层
3.更新CBurialHistoryBasicPage（解国军）
1)更新InitGrid：更改事件名称（Formation->Layer，Dummy->Virtual Layer，Fault->Hiatus）；更改列头（现今厚度->厚度）；更改列有效位数（厚度、顶深列1位小数；年代列2位小数）
2)更新HightLightDummyLayers：沉积间断行标识为红色，且厚度、顶深设置为空不可修改
3)更新OnCellValueChanged：切换‘事件名称’后，调用HightLightDummyLayers，根据事件类型设置各行的颜色；修改厚度列数值，“Erosion”行的厚度必须输入负数；修改厚度列数值，更改下一地层行的顶深；修改顶深列，更改上一地层行的厚度
4)更新SaveRecord：检查地层年代/顶深数据是否合法；检查erosion/dummy地层厚度设置是否匹配
4-5：解国军，增加‘超压系数’图版
4.更新CBurialHistoryTreeBook
	1)更新InitBook：增加‘超压系数’图版
5.更新CBurialHistoryCanvas
1)更新OnContextMenu：‘超压系数’图版，增加菜单‘年代-超压系数’、‘超压系数-深度’选择显示元素；增加菜单‘显示地层’，选择显示的地层
2)更新OnHydrocarbonIntensiveCanvasType：响应‘年代-超压系数’、‘超压系数-深度’，切换‘超压系数’图版的显示内容
3)更新OnHydrocarbonIntensiveCanvasLayers：‘超压系数’图版，响应菜单‘显示地层’，选择要显示的地层

6.更新CAssessorFrame（王义刚，圈闭管理版，创建界面时刻，创建圈闭点图层）
1)更新InitconnectPost：调用CUnitTreeCtrl::CreateAllTrapLayer，圈闭管理版，创建界面时刻，创建圈闭点图层

--------------------------------------------------------
201708011 jy
1、修改地形分析坡度坡向算法函数，界面分析工具箱增加地形分析工具
2、GIS图层导入增加“保存为新图件”功能，设置图件名称，批量导入后新增一个树节点
3、圈闭管理版增加图件管理器：
（1）点击评价单元列出绑定的图件和图层
（2）单击图件\图层前的勾选框可以控制图层的显示
（3）双击图件\图层可以控制在地图上聚焦图件\图层
----------------------------------------
20170811 wb
1 增加了区块版资源量切分模块（蒙特卡罗部分暂时未放开，待商议）
2 圈闭管理更新了图标和菜单翻译界面等。
3 优化了圈闭管理查询部分的代码，增加了分析面板刻度编辑功能。
4 增加了页岩油版本（和原页岩气版本一样，须更新活动树，数据库和权限、图片等）
5 修改了页岩气部分的体积法和热解法的功能。
6 复核了裂缝分析的等值线生成等。
--------------------------------------------------------
20170816 pc
地震切片、剖面增加RGB配色方案
--------------------------------------------------------
20170817 pc
频率属性，KMean++属性
--------------------------------------------------------
20170822 pc
dem数据配色标；
地震光照效果；
栅格速度优化：DEM数据取消压缩，导入时存入缓存，查询时优先从缓存获取；

---------------------------------------------------------
20170824 李治昊
2017/08/21C 2017/08/25
1.更新CBurialHistoryBasicPage（解国军：toc列小数精度设置为2位；剥蚀层、虚拟层对应的行，‘顶深’列不显示为0.0；修改‘厚度’/‘顶深’列数值，重新设置所有地层的顶深、厚度）
	1)更新InitGrid：toc列小数精度设置为2位
2)更新HightLightDummyLayers：剥蚀层、虚拟层对应的行，‘顶深’列不显示为0.0，设置为空字符串，不可编辑
3)增加ResetAllLayersTopAndThickness：根据每行的顶深、深度，设置下一行的顶深（下一行顶深=上一行顶深+上一行厚度）
4)更新OnCellValueChanged：更改‘厚度’/‘事件类型’列的cell值，调用ResetAllLayersTopAndThickness，重新设置每一行的顶深；更新‘顶深’列的cell值，更改前一行的厚度，之后调用ResetAllLayersTopAndThickness，重新设置每一行的顶深
2.更新CBurialHistoryCanvas（解国军：所有参数可以像压力系数显示）
1)更新OnContextMenu：压力系数图版，弹出地质变量选择菜单
2)增加OnShownVariableType：选择地质变量后，刷新图版内容
3.更新CWorkWellProfileCanvas
1)更新DoCurveUnionLeftRight：删除之前被合并的道，解决产生TOC等道后，之前被合并的道再次出现的问题

---------------------------------------------------------
20170825 景妍
1、	圈闭管理版：
（1）	评价对象树增加显示三级圈闭；
（2）	图件树中图层增加右键菜单“属性”和“分析”；
（3）	“空间查询”时若已经存在圈闭图层则不再创建新图层，直接聚焦显示该图层；
（4）	“空间查询”时去掉图层管理对话框。
2、	地形分析：
（1）	完成基于3*3分析窗口的宏观因子：地形起伏度、地表切割深度、高程变异系数、坡型因子；
（2）	完成光照度（山体阴影）算法；
（3）	整理地形分析算法类，提取基本操作函数：求反地形、求最大最小高程值、扩展DEM。

---------------------------------------------------------
20170901 李治昊
2017/08/28C 2017/09/01
1.更新CBurialHistoryBasicPage（解国军，修正存入的岩性始终为微晶岩性的错误）
	1)更新InitGrid：grid增加“岩性比例”列，不显示，用于存储混合岩性比例
2)更新OnAddItem、ResetRecord：将地层混合岩性比例按一定格式编为字符串，存入“岩性比例”列
3)更新SaveRecord：将“岩性比例”列字符串，转化为混合岩性比例
	4)更新OnCellLeftDClick：设置/读取岩性比例
2-3：解国军，增加‘历史记录’页面，可读取/存储历史记录
2.增加CBurialHistoryPracticePage
3.更新CBurialHistoryTreeBook
	1)更新InitBook：增加‘历史记录’页面

---------------------------------------------------------
20170901 jy
地形分析：
1、	优化水流方向、水流累积量算法，提升计算速度。
2、	AnySDE包中增加地形分析类，保存原始数据和计算结果，不重复读取数据和计算中间变量。
3、	界面Layertree中封装由DEM数据保存为IMG文件函数。

--------------------------------------------------------
20170908 pc
栅格图层的snesim训练

--------------------------------------------------------
20170908 jy
1、	增加CGCS2000坐标系，补充优化坐标系投影转换相关功能；
2、	图层属性中增加图层显示比例范围和标注显示比例范围；
3、	圈闭管理版在不同页面下点击评价对象有不同响应。

---------------------------------------------------------
20170908 李治昊
2017/09/04C 2017/09/08
1-3：解国军，设置零深度参考面
1.更新CBurialHistoryTreeBook
1)更新OnPageShow：调用CAnyBurialHistoryPlot::SetCalculateWaterDepth，设置零深度参考面（是否计算古水深）
2.更新CBurialHistoryPracticePage
1)更新ResetRecords：调用CAnyBurialHistoryPlot::IsCalculateWaterDepth，获取零深度参考面（是否计算古水深）
3.更新CBurialHistoryBoundaryPage
	1)更新InitPage：古水深页面，增加‘零深度参考面’设置控件
	2)增加bool m_is_calculate_water_depth：存储‘零深度参考面’的值（是否计算古水深）
3)更新SaveRecord：古水深页面，设置m_is_calculate_water_depth的值为‘零深度参考面’控件值
4.更新CBurialHistoryBasicPage（解国军，剥蚀/沉积间断地层，岩性显示为空，不可编辑；检查最后一行地层是否合法（只能为地层或虚拟地层）；检查第一个真实地层顶深是否为0；检查独立虚拟地层的错误（必须与剥蚀地层配对）；区分虚拟地层、剥蚀层的显示颜色）
1)更新HightLightDummyLayers：剥蚀/沉积间断地层，岩性显示为空，不可编辑；区分虚拟地层、剥蚀层的显示颜色
	2)更新OnCellLeftDClick：双击‘岩性’列，岩性为空，不弹出岩性编辑窗口
3)更新SaveRecord：检查最后一行地层是否合法（只能为地层或虚拟地层）；检查第一个真实地层顶深是否为0；检查独立虚拟地层的错误（必须与剥蚀地层配对）
5.更新CBurialHistoryCanvas（解国军，‘地质变量’图版，选择备选地层，不加入剥蚀、沉积间断的地层）
1)更新OnHydrocarbonIntensiveCanvasLayers：‘地质变量’图版，选择备选地层，不加入剥蚀、沉积间断的地层
6.更新CWorkProbabilityTreeProfileDlg（徐忠美，bug7511,7502,7498，如果3分支以上，将‘至少几个为真’控件置灰）
	1)更新SelectTrueLines：如果3分支以上，将‘至少几个为真’控件置灰
7.更新CWorkBayesNetworkProfileDlg（徐忠美，bug7561，‘概率’列，将有效位数改为6位）
	1)更新InitGrid：‘概率’列，将有效位数改为6位，原先是3位
8.更新CWorkBayesNetworkCanvas（徐忠美，bug7560，解决读取贝叶斯网络记录后概率值不可修改的问题）
1)更新OnLoad：读取记录后，调用CAnyBayesNetwork::MakeBayesNetwork，生成网络，解决读取记录后概率值不可修改的问题
9.更新CHorizonSurfacePropertyDlg（王鹏威，裂缝模块，玫瑰图，增加输出对称的角度数值；输出未达到成图标准的图名称）
	1)更新DorefreshCanvas：玫瑰图，增加输出对称的角度数值
	2)更新ExportMaps：输出未达到成图标准的图名称
10.更新CWorkMapCanvas（王义刚，测井曲线的振幅在竖井内按井轨迹显示）
1)更新OnLButtonDblClick、CWorkMapCanvas：将井轨迹变量存入测井曲线道
--------------------------------------------------------
20170912 pc
地震模块进度条；
基追踪算法调整；
自定义成熟度模板在数据库升级时进行保留；
山脊线算法调整；
--------------------------------------------------------
20170913 pc
SNESIM增加3D图像训练和模拟；
SOM模块；
修复三维崩机缺陷；
--------------------------------------------------------
20170915 pc
sedsim实现沉降效果，与sedview达到一致
--------------------------------------------------------
20170915 jy
1、地形分析：
   1)窗口分析求DEM均值；
   2)求正、负地形；
   3)改进山脊线、山谷线求特征点算法；
   4)宏观因子可设置分析窗口大小；
   5)计算光照度界面增加参数设置对话框；
   6)计算结果命名为“图层名+地形因子名称”；
   7)计算结果直接生成栅格图层，与原图层放置在同一树节点下。
2、GIS图层比例尺：
   1)工具栏显示当前地图比例尺
   2)放大、缩小、全图显示时，图层和标注按照设定的比例范围显示。

---------------------------------------------------------
20170915 李治昊
1.更新CWorkMapCanvas（王义刚，测井曲线按井轨迹显示）
1)更新OnLButtonDblClick、OnLButtonUp：将井轨迹变量存入测井曲线道

-----------------------------------------------
20170915 wb
1 区带版增加了专门记录资源量类型的数据表及相关读写接口。
2 去代表增加了资源量分类Tab页面。并实现资源量设置和提交。（需更新数据库）
3 增加了特尔斐资源量设置的tab页面。
4 修改了了资源量计算历史记录的读取方法。
5 增加了页岩气和页岩油的界面操作
6 增加了页岩油的公式计算方法的动态资源量计算
7 修改了页岩油和页岩气的活动。
8 修改了圈闭管理的一些问题的修复。
--------------------------------------------------------
20170921 pc
snesim模块参数配置界面；
井旁道沿井轨迹显示；
三维井旁道沿井轨迹显示；
MC增加体积统计；
三维等值线配置界面；
DEM数据转等值线；
等值线关联资评对象

---------------------------------------------------------
20170922 李治昊
2017/09/18C 2017/09/22
1.更新CLightGrid
	1)增加bool m_insert_into_back：插入行在当前行之前/之后的标记
	2)更新DoInsertRows：m_insert_into_back为true，之后插入；为false，之前插入
2.更新CBurialHistoryBasicPage（解国军，解决沉积间断显示在深度为0的问题；询问用户在当前行之前插入，还是之后插入）
1)更新SaveRecord：设置沉积间断层的顶、底深为上一个真实地层的底深
	2)更新OnAddItem：询问用户在当前行之前插入，还是之后插入
3.更新CBurialHistoryCanvas（解国军，更改菜单名称，由“地质变量-深度”改为“深度-地质变量”）
	1)更新OnContextMenu：更改菜单名称，由“地质变量-深度”改为“深度-地质变量”
4.更新CWelllogAllPropertyDlg（王义刚，测井曲线图版可配置按井轨迹显示；可配置井轨迹方位角）
	1)更新InitWellInfoPanel：增加‘按井轨迹绘制’、‘井轨迹方位角’的设置控件
	2)更新InitData：读取‘按井轨迹绘制’、‘井轨迹方位角’的值，设置到对应控件
	3)更新RefreshWellCanvas：设置‘按井轨迹绘制’、‘井轨迹方位角’的值到底层
5.更新CHorizonSurfacePropertyDlg（王鹏威，裂缝模块，输出粗化的线图层）
1)更新ExportMaps：调用CAnyGeoFractureAnalysis:: GetGeoFractureAsLine_Rough，输出粗化后的线图层

5-6:张丰麒，解决等值线属性应用过慢的问题。
徐忠美，点击‘半变差图’按钮，恢复之前设置的参数；克里金插值，勾选‘自动估计’，将自动估计的块金值等参数填回界面。
5.更新CToolboxContourGridPage
1)更新ResetColumnValueChoices：行数过多时，不设置按值域设置样本属性，防止属性应用过慢
2)更新OnCheckBox：克里金插值，勾选‘自动估计’，将自动估计的块金值等参数填回界面
3)更新OnButton：点击‘半变差图’按钮，恢复之前设置的参数
4)更新SetContourSetting：勾选‘自动估计’，设置角度、步数、比例、半变差模型为默认值
6.更新ContourGridPage
1)更新ResetColumnValueChoices：行数过多时，不设置按值域设置样本属性，防止属性应用过慢

---------------------------------------------------------
20170922 景妍
1、增加地形分析填洼算法
2、计算结果图层图标设置
3、栅格图层属性设置对话框界面


----------------------------------------------------------------
20170922 wb

1完成了小面元体积法的修改
 增了加概率计算参数和绘图设置，底层修改了行列读取方法，修改了资源丰度计算方法和控制网格读取方法。（需要升级数据库）
2 增加了常规体积法的动态系数参数，分离了气油两种方法。（需要升级数据库）
3 区带类比法
 修改了底层计算方法，增加了专家法的类比系数和权重参数。调整了界面，增加了类比参数表的读取和一系列界面参数的读取和修改操作。（需要升级数据库）
4 区带属性表增加了类比参数表的读取。（需要升级数据库）
5 增加了区带资源量结果表的自动添加和删除的功能，以应对老的数据库和数据库升级操作（需要升级数据库）
6 增加了区带盆地属性表的读写和右键属性（未全部完成）。（需要升级数据库）
7 修复了页岩气和区块版的活动树。
8 修复了圈闭管理版本中的一些界面问题。
9 修改了原来区带的部分翻译和字段。（需要升级数据库）

---------------------------------------------------------
20170929 李治昊
2017/09/25C 2017/09/29
1-2：王鹏威，解决参数分析与地图代数模块求得面积不一致的问题
1.更新CRasterCalculatorDlg
	1)更新DoHandleRatserLayers：通过判断每个网格（4个点）的3个点是否符合标准，计算面积
2.更新CParameterSpatialStatisticAnalysisDlg
	1)更新AddCellLayer：获取网格时，行列数不用加1
	2)更新OnArea：通过判断每个网格（4个点）的3个点是否符合标准，计算面积

3.更新CLayerTreeCtrl（徐忠美，等值线图层，增加‘直方图分析’、‘交叉验证’功能）
	1)更新ShowMenu：等值线图层，增加‘直方图分析’、‘交叉验证’菜单
2)增加void OnContourAnalysis( wxCommandEvent &event )：响应‘直方图分析’、‘交叉验证’菜单

---------------------------------------------------------
20170929 wb
1 增加修改了usgs的图形
2 增加了修改的页岩油体积法
3 增加了区带的通用类比法部分
4 修改了体积法和usgs的算法部分和界面部分
5 修改了区带版的对象树和页岩油气版的活动树

---------------------------------------------------------
20170929 jy
1、	圈闭管理版：
（1）	图层右键增加删除功能；
（2）	雷达图、直方图由表格中筛选出的圈闭点生成。
2、	栅格图层增加显示比例范围设置。
3、	栅格图片属性设置：
24位普通栅格图片可调整颜色波段顺序；
DEM数据可选择颜色。
---------------------------------------------------------
20171011 PC
栅格色标底层接口
cap,resource,reservoir表增加字段、活动树修改
分布式转sgy速度优化，增加NAN值或0值的选择
类比法修复一处崩机缺陷
---------------------------------------------------------
20171011 PC
类比法区分体积丰度和面积丰度，类比系数初值使用成熟度结果比值
分布式转sgy内存优化，减少扫描surveyinfo

---------------------------------------------------------
20171011 jy
1、	栅格图层属性设置：
24位普通栅格图片两种显示模式：选择一个波段设置颜色拉伸，调整波段顺序；
DEM数据两种显示模式：拉伸和分类。
2、	修复栅格图片导入后图标问题。
3、	修改地质图层框架树的默认类别。

---------------------------------------------------------
20171011 wb

1 修改了usgs风险获取和p50获取问题等
2 修改了盆地属性表的读取
3 修改了体积法相关的问题
4 更新相关数据库 以及翻译等

---------------------------------------------------------
20171013 李治昊
2017/10/9C 2017/10/13
1-4：徐忠美，等值线图层，增加‘变差图比较’功能
1.增加CKrigUncertaintyAnalysisPage，封装变差分析图版
2.增加CVariateDifferenceComparisonDlg，变差分析比较窗口
3.更新CLayerTreeCtrl
	1)更新ShowMenu：等值线图层，增加‘变差图比较’菜单
2)增加void OnContourAnalysis( wxCommandEvent &event )：响应‘变差图比较’菜单，调用CVariateDifferenceComparisonDlg，弹出变差分析比较窗口
4.更新CScatterMatrixCanvas
	1)更新OnLButtonUp：变差分析图版，防止拖拽门限线段死机

5-6：王鹏威，增加‘单个网格面积’、‘单个网格宽度’、‘单个网格高度’输出控件，所有输出控件不可编辑；超概率面板同时显示风险前后曲线、增加legend；
5.更新CShaleDUalPorosityModelResourcePage
1)更新InitPage：增加‘单个网格面积’、‘单个网格宽度’、‘单个网格高度’输出控件，所有输出控件不可编辑；超概率面板增加legend；
	2)更新Dorefreshcanvas2：超概率面板同时显示风险前后曲线
6.更新CKrigUncertaintyAnalysisDlg
1)更新OnCloseDlg：用dynamic_cast转换类，解决父对象不为CSpatialAnalysisTreeCtrl，强转后死机的问题
7-8：解国军，地层岩性柱不显示沉积间断；‘显示网格ID’、‘显示年代’菜单，增加‘应用’按钮，可不关闭对话框，直接观察曲线变化
7.增加CMyGetNumberFromUserDlg，获取数字对话框，相对wxGetNumberFromUser，增加‘应用’按钮
8.更新CBurialHistoryCanvas
1)更新OnHydrocarbonIntensiveCanvasLayers：响应菜单‘显示网格ID’、‘显示年代’，用CMyGetNumberFromUserDlg替代wxGetNumberFromUser，可不关闭对话框，直接观察曲线变化

---------------------------------------------------------
20171013 wb
1、增加了页岩油气的资源量汇总模块。
2、修改了USGS的翻译和概率获取。
3、增加了多层保存时单层资源量的获取。
4、增加了底层类比法表格。
5、调整了页岩油气的活动树和翻译


---------------------------------------------------------
20171013 jy
1、	圈闭管理版：
（1）修复井图层无法显示缺陷；
（2）优化切换评价单元时图层显示速度。
2、	调整地图放大缩小倍数。
3、	地质图层框架树上增加图层名称搜索框。
---------------------------------------------------------
20171018 pc
mlr及shale旧表移除,底层涉及anypetro中的propertyset和accumulationelement，界面涉及assessorframe；
基于新表的类比法，面积体积、确定性非确定性、类比字段选择；
分布式合并优化，不重复下载索引；
---------------------------------------------------------
20171020 pc
分布式索引下载由read改为download；
类比法新需求完善；

---------------------------------------------------------
20171020 李治昊
2017/10/16C 2017/10/20
1-2：解国军：‘地质变量’、‘生排烃强度’图版，显示新增的排烃菜单；‘生烃强度’页面，改名为‘生排烃强度’
1.更新CBurialHistoryCanvas
1)更新OnContextMenu：‘地质变量’图版，‘年代-地质变量’情况，当前显示地层为源岩层，才显示生排烃的变量菜单；‘生排烃强度’图版，增加显示生排烃的变量菜单
2)更新OnHydrocarbonIntensiveCanvasLayers：切换‘显示地层’后，如果之前显示地层为源岩层且显示变量是源岩层的变量，同时选择的新地层不为源岩层，这时需要设置显示变量类型为默认的‘压力系数’
	3)更新OnHydrocarbonIntensiveCanvasType：‘生排烃强度’图版，切换不同显示变量
2.更新CBurialHistoryTreeBook
	1)更新InitBook：‘生烃强度’页面，改名为‘生排烃强度’
3-4：解国军，解决存储结果后，混合岩性读取不正确的问题
3.更新CBurialHistoryBasicPage
	1)更新ResetRecord：重置数据后，加入不存在的混合岩性，防止混合岩性读取不正确
4.更新CLithologyEditDlg
	1)更新InitParameter：初始化时，混合岩性将岩性名称填写入控件，作为当前更改的岩性

5-7：徐忠美：油藏规模序列、油气规模结构分析、usgs第七逼近法：图版刻度取整处理；油藏规模图版，设置默认参数为log，便于用户配置
5.更新CDistributionPredicationInputDlg
1)更新DoRefreshCanvas：scatter面板增加设置SOM_Extent_Interger_X, SOM_Extent_Interger_Y，刻度取整处理
6.更新CUSGSMonteCarloInputDlg
1)更新DoRefreshCanvas：scatter面板增加设置SOM_Extent_Interger_X, SOM_Extent_Interger_Y，刻度取整处理
7.更新CLinearPredicationInputDlg
1)更新InitLayout：scatter面板增加设置SOM_Extent_Interger_X, SOM_Extent_Interger_Y，刻度取整处理
	2)更新DoRenderSamples：油藏规模图版，设置默认参数为log，便于用户配置

---------------------------------------------------------
20171018 jy
1、	整合地形分析工具为一个对话框：
（1）可一次选择多个因子并设置参数进行计算；
（2）结果可选择输出为本地文件。
2、	水系线画水流方向箭头。
3、	SDE图层坐标转换后复制属性表。
4、	等值线“导出网格”和“参数分析”产生的网格图层加坐标轴。
---------------------------------------------------------
20171025 pc
类比法相关需求；
库表调整；
库表编辑缺陷修复；
新增资源丰度模板；
分布式合并加错误信息输出，基追踪加测试用代码；

---------------------------------------------------------
20171027 李治昊
2017/10/23C 2017/10/27
1.更新CShaleDUalPorosityModelResourcePage（王鹏威/王义刚：小面元模块，提交资源量）
	1)更新InitPage：小面元模块，增加‘提交’按钮
2)增加double m_meanresult、double m_minresult、double m_maxresult：记录平均、最小、最大资源量
3)更新GetXPts：对2)中变量double m_meanresult、double m_minresult、double m_maxresult赋值
4)增加void OnCommit(wxCommandEvent& event)：提交资源量
2.更新CMlrResourceDelphiGridPanel（王鹏威，更新页岩油气版的特尔斐方法）
	1)更新AutoSetGridData：读取最新一次记录的资源量
3-4：徐忠美，变差比对分析的类型与等值线‘正态得分变换’相关联
3.更新CKrigUncertaintyAnalysisPage
1)更新构造函数CKrigUncertaintyAnalysisPage( wxWindow* parent, CAnyViewHook * hook=0,std::vector<CGeoPoint<double> > krigsamples=std::vector<CGeoPoint<double>>(),CAnySequentialGaussSimulator *simulator=0, bool is_normal_distribution = true)：增加bool is_normal_distribution，根据样本数据是否被正态得分变换，设置CAnySequentialGaussSimulator的m_sampletype
4.更新CVariateDifferenceComparisonDlg
1)更新构造函数CVariateDifferenceComparisonDlg(wxWindow *parent, const wxString &title, const std::vector<CGeoPoint<double> > &sample_pts, const std::vector<CGeoPoint<double> > &grid_pts, bool is_normal_distribution)：增加bool is_normal_distribution，表示样本数据是否被正态得分变换
	2)增加bool m_is_normal_distribution：存储样本数据是否被正态得分变换
	3)更新InitPage：将m_is_normal_distribution传入CKrigUncertaintyAnalysisPage

5.更新CProbabilityCanvasDlg（徐忠美：等值线‘直方图分析’、‘交叉验证分析’，去除‘超概率’等页面，分布固定为‘直方图’不可选择）
	1)更新DisableDistributionCombobox：增加移除‘超概率’等页面的功能
6.更新CToolboxContourGridPage（徐忠美：等值线‘正态得分变换’控件，加到‘插值类型’控件右边）
1)更新InitKrigingAnisotropySizer：‘正态得分变换’控件，加到‘插值类型’控件右边
7.更新CKrigUncertaintyAnalysisDlg（徐忠美：等值线‘半变差图’，增加各向异性按钮）
	1)更新InitPage：等值线‘半变差图’调用，增加‘各向异性’按钮，‘角度’选择slider控件
	2)更新OnApply：等值线‘半变差图’调用，将默认nugget、sill、range值填入对应控件
3)增加void OnShowAnisotropy( wxCommandEvent &event )：调用CShowAnisotropyDlg，弹出‘各向异性’窗口

---------------------------------------------------------
20171027 jy
1、区带评价版：区带对象增加“概率组合加和法”
2、修复shp图层加载问题
3、等值线图层增加地形分析工具（删除原工具对话框文件：maprasteranalysisdlg.h和maprasteranalysisdlg.cpp）
4、图层框架树修改图标
5、导入图层时下方提示栏增加文字提示进度
6、页面模式增加纸张规格、增加坐标轴选项
---------------------------------------------------------
20171031 pc
分布式合并缺陷；基追踪空值缺陷；MR读写子块速度优化；

---------------------------------------------------------
20171031 jy
1、创建新图层属性添加缺陷
2、属性表修改属性值缺陷
3、圈闭管理版直方图缺陷

---------------------------------------------------------
20171101 李治昊
页岩油气版属性读写；
变差图版：改变坐标轴范围

---------------------------------------------------------
20171101 jy
1、地形分析对话框改为Tab页模式
2、中英文翻译
3、生成的水系线图层增加水流长度属性

---------------------------------------------------------
20171110 jy
1、矢量、栅格图层属性对话框改为无模式。
2、考虑水流方向的矢量化水系线。
3、页面模式：
（1）增加自定义纸张尺寸
（2）增加边框绘制选项和页边距设置
（3）调整坐标轴数值位置
4、矢量图层属性增加默认比例尺列表
5、栅格图层波段自动读取
6、图层树目录图标区分一级、二级

---------------------------------------------------------
20171110 李治昊
2017/11/6C 2017/11/10
1-3：徐忠美，等值线初始状况下可设置‘半变插图’
1.更新CToolboxContourGridPage
	1)更新InitKrigingParameterSizer：初始状况，不再隐藏‘半变插图’按钮
	2)更新OnComboBoxSelected：不再禁用‘半变插图’按钮
3)更新OnButton：临时生成CAnyContour *hook，调用该对象的samples，使得初始状况下也可进行变差分析
2.更新CToolboxContourWizard
	1)更新LoadContourSetting、OnApply：不再禁用‘半变插图’按钮
3.更新ContourGridPage
1)更新InitKrigingParameterSizer：初始状况，不再隐藏‘半变插图’按钮
2)更新OnButton：临时生成CAnyContour *hook，调用该对象的samples，使得初始状况下也可进行变差分析
	3)更新OnCheckBox：勾选自动估计时，显示默认nugget、sill、range的数值
	4)更新InitKrigingTypeSizer：增加‘正态得分变换’控件
5)更新SetContourSetting：根据‘正态得分变换’控件取值，设置contoursetting:: m_is_normal_distribution_transform
6)更新LoadContourSetting：根据contoursetting:: m_is_normal_distribution_transform，设置‘正态得分变换’控件的状态
4-5：徐忠美，更新各向异性图版
4.更新CKrigUncertaintyAnalysisDlg
1)更新构造函数：等值线模块调用，不调用InitData，防止多次调用CAnySequentialGaussSimulator::GetSampleVariance
2)更新OnShowAnisotropy：调用‘各向异性’窗口，选择角度后，将nugget、sill、range设置入当前变差图版
5.更新CShowAnisotropyDlg
	1)更新enum CanvasType：增加CT_Kriging
2)更新构造函数CShowAnisotropyDlg(wxWindow *parent, wxWindowID id,CAnyGridTracing *ts, CAnyContour *hook = 0, int canvastype = CT_NORMAL, CAnySequentialGaussSimulator *gauss_simulator = 0)：增加参数int canvastype, CAnySequentialGaussSimulator *gauss_simulator；canvastype为CT_Kriging时，增加角度选择下拉框
3)增加成员变量CAnySequentialGaussSimulator *m_gauss_simulator，接受外部传入的参数；double m_degree，记录所选角度
	4)更新OnOK：点击确认后，将当前角度设置入m_degree
5)更新DrawExpCurve：canvastype为CT_Kriging时，通过CAnySequentialGaussSimulator获取数据，绘制变差图版
---------------------------------------------------------
20171116 pc
SVM模块；
普通栅格波段相关配色；
扫道头，切分，MR加LOG;

---------------------------------------------------------
20171117 李治昊
2017/11/13C 2017/11/17
1.更新CSpatialAnalysisTreeCtrl（徐忠美，等值线图层，‘导出网格’增加导出图层选择）
	1)更新OnMapAlgebra：等值线图层‘分析’，‘导出网格’增加导出图层选择（面图层、点图层）
2-3：徐忠美，‘半变差图’调用CAnyContour不进行插值，防止‘半变差图’响应过慢
2.更新CToolboxContourWizard
1)更新SetSamplesAndSettings：‘半变差图’调用，设置ContourSetting:: m_is_semi_variogram为true
3.更新ContourGridPage
1)更新SetSamplesAndSettings：‘半变差图’调用，设置ContourSetting:: m_is_semi_variogram为true

---------------------------------------------------------
20171117 jy
1、	圈闭管理版：
（1）生成新图层后刷新图层列表
（2）修复移除图层缺陷
（3）栅矢转换结果图层绑定原图层评价单元
2、	单波段栅格图片（单色、16色、256色bmp）设置颜色映射表
3、	栅格图层属性增加默认比例尺列表
4、	矢量、栅格图层属性增加“源”tab页
5、	点的符号形状增加
6、	点、线、面图层的多属性可视化
-------------------------------------------------------------
2017.11.17 wb
1 增加了样本分析的表格数据自动读取功能
2 增加了发现过程分组的要求
3 增加了资源类型数据自动分类的要求
4 调整了底层区带数据表的读取
5 增加了油藏规模序列的新界面部分（调用部分还要再调整一下，未提交。新文件不影响编译）

---------------------------------------------------------
20171121 jy
栅格图层导入界面增加波段选择（针对多波段GeoTIFF影像）
---------------------------------------------------------
20171122 pc
两种Delunary算法，Lawson和Bowyer-Watson;
Voronoi算法;


---------------------------------------------------------
20171124 李治昊
2017/11/20C 2017/11/24
1.更新CToolboxContourSourcePage（徐忠美/王鹏威，解决协克里金数据列无法加载）
1)更新ResetGridData：ContourSetting的m_z1Column为-1，更新m_z1Column的值为m_zColumn的值，防止协克里金数据列无法加载
2-4：徐忠美/王鹏威，增加范克里金的类型选择框（线形/二次方）
2.更新CToolboxContourGridPage
	1)更新InitKrigingTypeSizer：增加范克里金的类型选择框（线形/二次方）
	2)更新OnComboBoxSelected：插值方法选择变化时，显示/隐藏范克里金的类型选择框
	3)更新EnableKrigingSetting：可用/显示/隐藏范克里金的类型选择框
3.更新CToolboxContourWizard
	1)更新SetContourSetting：设置范克里金的类型到CAnyContour::ContourSetting
	2)更新LoadContourSetting：从CAnyContour::ContourSetting设置界面范克里金的类型
4.更新ContourGridPage
1)更新InitKrigingTypeSizer：增加范克里金的类型选择框（线形/二次方）
	2)更新OnComboBoxSelected：插值方法选择变化时，显示/隐藏范克里金的类型选择框
	3)更新EnableKrigingSetting：可用/显示/隐藏范克里金的类型选择框
4)更新SetContourSetting：设置范克里金的类型到CAnyContour::ContourSetting
	5)更新LoadContourSetting：从CAnyContour::ContourSetting设置界面范克里金的类型
5-10：解国军，埋藏史页面在workspace中显示，不再以窗口方式弹出
5.更新CBurialHistoryTreeBook
1)更新构造函数：继承于CAssessorWorkspace，不再是窗口；暂不创建sizer，初始化窗口内容
2)增加bool SetActive(const string &which, CAccumulationElement *curElement)：CAssessorWorkspace的虚函数，根据参数which初始化窗口内容
6.更新CAssessorWorkspace
	1)更新enum WorkspacePage：增加WSP_Burial_History，埋藏史对应id
7.更新CAssessorFrame
	1)更新GetComparedTabCaption：获取WSP_Burial_History对应tab页名称
2)更新SetCurrentTabActive：WSP_Burial_History类型，如果待创建的埋藏史与workspace中的tab是相同井，则激活当前tab页
3)更新InsertNewTab：WSP_Burial_History类型，如存在其他埋藏史页面，则在该页面前插入新的页面
4)更新AddNewTab：WSP_Burial_History类型，如不存在其他埋藏史页面，则在最后加入埋藏史页面
	5)更新RestoreNotebookPage：浮动窗口恢复到workspace页面时，设置埋藏史页面的图标
	6)更新enum WorkSpaceCanvas：增加Canvas_Burial_History，对应workspace的map中对应的id
8.更新CWorkspacePageFloatingDlg
1)更新OnClose：浮动窗口恢复到workspace页面时，首先将浮动窗口的内容Detach掉，之后调用CAssessorFrame::RestoreNotebookPage，防止报错
9.更新CWorkWellProfileCanvas
	1)更新OnBurialHistory：埋藏史页面在workspace中显示，不再以窗口方式弹出
10.更新CActivityTreeCtrl
1)更新DoRunShaleBasinSimulationBury：埋藏史页面在workspace中显示，不再以窗口方式弹出

11-12：徐忠美/王鹏威，等值线分析，增加‘数据融合：贝叶斯克里金’/‘数据融合：协克里金’
11.增加CContourDataMergeDlg：等值线数据融合窗口
12.更新CSpatialAnalysisTreeCtrl
1)更新SetitemImage：等值线图层，增加‘数据融合：贝叶斯克里金’/‘数据融合：协克里金’节点
2)更新OnMapAlgebra：响应‘数据融合：贝叶斯克里金’/‘数据融合：协克里金’，调用CContourDataMergeDlg，产生新等值线

---------------------------------------------------------
20171121 jy
1、	栅格图层导入界面增加波段选择（针对多波段GeoTIFF影像）
2、	圈闭管理版切换其他版本时关闭图件树
3、	图层导入界面优化
4、	打开属性表缺陷修改
5、	矢量图层设置文本标注位置
6、	属性设置比例范围界面优化

---------------------------------------------------------
20171121 wb
1、	提高了圈闭查询效率
2、	增加了区带版的概率加和方法
3、	更新了区带版的界面翻译和菜单部分
---------------------------------------------------------
20171130 pc
sedsim增加facies,三种age显示；
三维显示增加六面体、八面体实心显示；
低频模块增加数据平滑处理；
基追踪测试代码；
地质风险快捷录数据；
创建评价模板给出默认不确定性模板；

---------------------------------------------------------
20171201李治昊
2017/11/27C 2017/12/1
1.更新CBurialHistoryBasicPage（解国军，增加有机相类型、HI0的输入）
1)增加wxArrayString m_kinetic_choices：存储有机相类型选择
2)更新InitPage：初始化m_kinetic_choices
3)更新InitGrid：表格增加2列，‘Kinetic’、‘HI0’
4)更新OnCellLeftDClick：双击‘Kinetic’列，弹出窗口，选择有机相类型
5)增加void SetKineticStatus(int row = -1, double toc = 0.)：根据toc是否大于0，设置设置‘Kinetic’、‘HI0’列的值及是否可读
6)更新OnCellValueChanged：‘HI0’列的值不可小于0；‘toc’列值改变后，调用SetKineticStatus设置‘Kinetic’、‘HI0’列的值及是否可读
7)更新ResetRecord：设置 ‘Kinetic’、‘HI0’列的值
8)更新OnAddItem：设置 ‘Kinetic’、‘HI0’列的值
9)更新SaveRecord：设置 ‘Kinetic’、‘HI0’列的值到底层
10)更新HightLightDummyLayers：调用5)SetKineticStatus，设置‘Kinetic’、‘HI0’列的值及是否可读
2.更新CToolboxTernarySourcePage（徐忠美：通过创建新图层打开文件时，不显示权重列，防止属性不能配置）
	1)更新OpenFile：通过创建新图层打开文件时，不显示权重列，防止属性不能配置

3-5：徐忠美/王鹏威，等值线分析，增加‘转面图层’、‘体积分析’
3.增加CContourVolumeAnalysisDlg，等值线体积分析窗口
4.增加CValueFilterDlg，通用窗口，选择值域范围
5.更新CSpatialAnalysisTreeCtrl
1)更新SetitemImage：‘数据融合：贝叶斯克里金’/‘数据融合：协克里金’作为子项，放入‘统计分析’下；对等值线图层，增加‘转面图层’菜单；对等值线图层，增加‘体积分析’菜单
2)更新OnMapAlgebra：响应‘转面图层’菜单，调用3.CValueFilterDlg，选择z值域，产生sde面图层；响应‘体积分析’菜单，调用4.CContourVolumeAnalysisDlg，计算等值线体积

6-7：王义刚，圈闭查询需要的视图在脚本中建立
6.更新CElementGisStatDlg
	1)更新InitDataSet：此模块建立的视图，改名，区分于圈闭查询建立的视图
7.更新CElementVisualStatDlg
	1)更新DoInitDataSet：检查视图vs_view是否存在，不存在则建立
---------------------------------------------------------
20171131 jy
1、	基于等值线的流水线提取优化
2、	等值线图层生成DEM图层
3、	矢量图层添加、删除、修改属性字段后刷新符号大小字段
4、	自定义坐标系后更新坐标系列表
---------------------------------------------------------
20171207 pc
sedsim导入后可修改显示数据类别
hypermesh相关接口

---------------------------------------------------------
20171208 jy
1、地形分析：
界面修改：CLayerTreeCtrl，CSpatialAnalysisTreeCtrl，CTerrainParamSettingDlg
底层修改： anycgal/CAnyRasterMorphometricAnalysis, anysde/CAnyTerrainAnalysis
（1）修正改变等值线网格数后分析结果图幅范围错误；
（2）修正地形分析结果图层名称错误；
（3）地形分析拆分为4项分析工具；
（4）等值线地形分析结果输出为等值线图层；
（5）调整地形分析界面：
	a)修改工具名称
	b)去掉输出文件选项
	c)基于等值线的水系线提取增加方法选项和参数设置
2、界面优化：
CAssessorFrame::OnImportLayer
图层树上方增加导入图层快捷按钮

---------------------------------------------------------------
20171208 wb
1 增加了页岩油/气版本下的基于panel的盆地TOC恢复计算功能
2 增加了区块版本的资源量加和和特尔斐资源量计算功能
3 修改了区块版对象树的排列和翻译
4 修改了区块版打分模块的界面和翻译
5 修复了新的油藏规模和usgs方法的的一些问题
---------------------------------------------------------
20171220 pc
导图层界面，默认绑定第一个资评对象
栅格图层导入界面优化

---------------------------------------------------------
20171222李治昊
2017/12/18C 2017/12/22
1-3：徐忠美/解国军，创建sde图层，自动设置字段类型并匹配
1.更新CToolboxScatterMatrixSourcePage
1)更新static bool OpenExcelOrDBFile(wxWindow *parent, wxString &path, wxGrid *grid, short type, bool isFloatNum = true, bool isGivenTip = true, std::vector<int> &field_types = std::vector<int>())：增加std::vector<int> &field_types，记录grid中列对应的类型（整型、浮点型、字符串等），便于在该方法外调用
2.更新CToolboxTernarySourcePage
	1)增加std::vector<int> m_field_types：存储grid中列对应的类型（整型、浮点型、字符串等）
2)更新OpenFile：打开excel文件时，调用CToolboxScatterMatrixSourcePage:: OpenExcelOrDBFile，传入1)m_field_types，存储grid中列对应的类型；根据内容自动设置列宽
3)更新InitFieldCombobox：自动绑定字段，减少用户操作
3.更新CBindFieldlDlg
	1)更新InitGrid：根据已知字段类型，设置默认的字段类型

4.更新CCreateNewGISLayer（徐忠美/解国军：重新布局‘创建新图层’界面）
	1)更新InitPage：重新布局界面
2)增加void OnAdvanceSetting(wxCommandEvent &event)：展开/收起高级设置（地图设置/索引设置）

5-7：徐忠美/解国军，导入自定义类型的测井曲线
5.增加CWellPositionCurveImportDlg，导入自定义格式测井曲线
6.更新CWellImportPage，增加‘well position’类型的测井图层导入
7.更新CLayerTreeCtrl
	1)更新ShowMenu：‘well position’测井图层，增加菜单‘导入测井曲线’
2)更新OnAppendWellLayer：‘well position’测井图层，调用CWellPositionCurveImportDlg，导入测井曲线


------------------------------------------
20171208 wb
1 修改了了页岩油/气版本下的基于panel的盆地TOC恢复计算功能
  Tmax-Hi算法有问题待解决
2 增加了了基于panel的无偏功能
3 修改了底层非参数和油藏规模序列的提交内容
4 修改了圈闭评价版本的几处调整
5 修改了图版相关的部分修改调用。
6 修改了记录读取模块的部分功能。
5 修复了新的油藏规模和usgs方法的的一些问题

---------------------------------------------------------
20171222 jy
1、	修改地质图层树目录：区带版保留原目录结构，其他版本只保留一个节点。
CLayerTreeCtrl::DoLoadTreeItems
2、	快捷方式导入图层时，默认的绑定对象为评价单元中选中的对象。
CAssessorFrame::OnImportLayer
3、	矢量图层属性――可视化页面修改：
（1）	将颜色字段和符号大小字段的设置分开
（2）	颜色字段增加选项“无”，选择“无”时采用“单一符号”页面的设置绘图
（3）	可视化设置持久化，即再次打开该页面时默认显示当前设置
4、	矢量图层属性――符号页面修改：
（1）	页面标题统一改为“符号”
（2）	点、多边形的渐变方式恢复错误
（3）	多边形增加填充颜色设置，和边线颜色区分开
（4）	点符号页面调整布局，将边线设置独立出来
（5）	多边形符号页面调整布局和控件标题
（6）	线、多边形符号页面去掉“是否绘制边线”
5、	矢量图层属性――调整页面布局、中英文翻译
（1）	图表页面 CPropertyDisplayPanel
（2）	字段页面
（3）	数据源页面
---------------------------------------------------------
20171226pc
登录对话框保留以前的10个IP；
输出SGY模块增加输出1TB文件；

---------------------------------------------------------
20171229李治昊
2017/12/25C 2017/12/29
1-3：徐忠美/解国军，创建新图层窗口，‘高级’按钮显示在同一位置显示；sde图层追加图元，不弹出新建图层窗口，直接打开数据导入窗口；追加图元，提示用户备份新版本
1.更新CCreateNewGISLayer
	1)更新InitPage：展开/收起高级设置，按钮显示在同一位置
	2)增加void ReImportGeometries：封装弹出数据导入窗口，直接导入数据的功能
2.更新CLayerTreeCtrl
1)更新OnImportDataInSdeGeometryLayer：追加图元，调用CCreateNewGISLayer:: ReImportGeometries，不弹出新建图层窗口，直接打开数据导入窗口；追加图元，提示用户备份新版本
2)更新void InsertGeometriesToDB(…,const std::vector<DBFieldDesc> &fields)：增加参数fields，fields与当前属性表字段不一致时，需要新增字段
3.更新CToolboxTernarySourcePage
	1)更新InitPage：导入数据窗口重新布局

4-5：徐忠美/解国军，编辑测井曲线参考表中的内容；well position导入窗口：重新布局/增加井选择控件/设置grid中对应曲线名称到列头；测井曲线默认深度，按曲线实际深度范围显示
4.增加CWellRefCurveEditDlg：编辑测井曲线参考表中的内容
5.更新CWellPositionCurveImportDlg
1)更新InitPage：重新布局，label靠右显示；增加‘参考表’按钮，编辑测井曲线参考表中的内容；增加井选择控件
2)增加OnEditRef：响应‘参考表’按钮，调用4.CWellRefCurveEditDlg，编辑测井曲线参考表中的内容
	3)增加OnSearchWell：在井选择框中查找输入的井名，找到后定位
	4)更新GetCurveNames：曲线名称/数据的起止行变化后，设置grid中对应内容到列头
5)增加OnSpinChanged：响应曲线名称/数据的起止行变化，调用GetCurveNames，设置grid中对应内容到列头

6-9：徐忠美/解国军：导入井窗口，重新布局，井内容显示控件作为高级选项展开/收起；数据模板默认选择las；导入井图层后聚焦该图层
6.更新CWellImportPage	
1)更新InitPage：重新布局，井内容显示控件作为高级选项展开/收起；数据模板默认选择las
	2)更新DoImportWell：导入井图层后聚焦该图层
7.更新CAssessorTreeCtrl
1)更新AddItems(…bool is_focus = true)：增加参数is_focus，添加树节点后，是否聚焦该节点，用于图层导入后直接聚焦
8.更新CLayerTreeCtrl
1)更新DoLoadTreeItems、InitDefaultLayers、DoAddCategory、OnPasteCategory：调用7.AddItems时，is_focus传入参数false，不聚焦该节点
9.更新CTableTreeCtrl
1)更新DoLoadTreeItems、OnCreateTable：调用7.AddItems时，is_focus传入参数false，不聚焦该节点

10-12：徐忠美/解国军：测井曲线道，右键‘加载’，可导入自定义类型的测井曲线
10.更新CWellImportPage
	1)更新InitPage：重新布局，井信息作为高级选项，可展开/收起
2)更新OnOpen：导入曲线，模板为‘自定义’类型时，调用CWellPositionCurveImportDlg，打开自定义测井曲线
	3)更新DoImportWell：导入曲线，处理模板为‘自定义’的类型
11.更新CWorkWellProfileCanvas
1)更新OnCurveLoad：CWellImportPage窗口，导入曲线增加‘自定义’类型
12.更新CWellPositionCurveImportDlg
1)增加void GetCurveNames(std::vector<std::string> &curve_names)：获取可导入的曲线名称
2)增加void GetCurveData(const std::vector<std::string> &curve_names, CAnyLogTrackComponent *temp)：根据待导入曲线名称，获取对应数据，写入temp

13.更新CWorkWellProfileCanvas，徐忠美/解国军：增加文本道

---------------------------------------------------------
20171229 jy
1、	矢量图层属性――字段页面修改：
（1）	调整页面布局
（2）	去掉多个属性表的创建和切换
（3）	将“添加”和“删除”字段的按钮从右键放到界面上
（4）	“添加”一个新字段后表格自动聚焦到该字段
（5）	“删除”一个字段后表格自动聚焦相邻行下一行或上一行
2、	矢量图层属性――可视化页面修改：
（1）	分成3个tab页：颜色、符号形状、符号大小。
（2）	修改数据表r_gis_color_range
（3）	修改底层数据库接口：CAnySdeGeometryLayer类增加四个数据库接口函数： LoadFeatureSymbolStyle、SetFeatureSymbolStyle、LoadFeatureSymbolSize、SetFeatureSymbolSize，分别读取和设置符号的形状和大小。
（4）	修改底层符号数据结构，增加多边形图层进行数量可视化时的符号样式
CAnySdeLayer:: FieldProperty
（5）	符号大小两种模式：
连续变化：设置符号大小范围，根据所选字段值自动计算符号大小；
分段设置：选择字段分段设置符号大小。
3、矢量图层属性――图表页面修改：
（1）增加图标类型选择界面
-----------------------------------------------------
20171229 wb
1 增加发现过程页面
2 增加样本分析简版界面
3 修改了圈闭管理菜单
4 增加了toc计算手动绘制功能
5 增加了多分辨率支持

-----------------------------------------------------
-----------------------------------------------------
20180105 wb
1 增加发现过程可运行版本的页面
2 增加样本分析简版界面 
  增加了参数敏感性分析界面
  增加了poolrank页面
  增加了发现过程页面
  （细节待修改验证）
3 修改了圈闭管理版本部分问题
5 低分辨率下系统会自动改变为nootbook模式

---------------------------------------------------------
20180105李治昊
2018/1/1C 2018/1/5
1.更新CWellImportPage,徐忠美/解国军：导入井数据，调整布局
	1)增加void DoImportCurves()：导入曲线时，直接打开对应文件，之后选择曲线导入
	2)更新InitPage：调整布局
2.更新CWorkWellProfileCanvas，徐忠美/解国军：测井曲线道，增加‘加载曲线’->‘Las’、‘自定义’菜单
	1)更新OnContextMenu：测井曲线道，增加‘加载曲线’->‘Las’、‘自定义’菜单
2)更新OnCurveLoad：分别响应加载‘Las’、‘自定义’曲线, 调用CWellImportPage:: DoImportCurves导入曲线
3-4：徐忠美/解国军：导入自定义测井曲线窗口，调整布局；一次可导入多个文件；提示用户曲线名导入参考表
3.更新CWellPositionCurveImportDlg	1)更新InitPage：重新布局
2)更新bool DoLoadFile(const wxArrayString &paths, bool is_multiple = false)：增加参数bool is_multiple，是否打开多个文件，是，则判断打开的文件名是否在测井图层中存在
	3)增加bool DoImportCurves(bool is_multiple = false)：封装导入曲线的功能
	4)增加成员变量std::vector<std::string> m_added_ref_names：记录参考表中不存在的名称
	5)增加DoImportRef：根据m_added_ref_names，提示用户是否将曲线名称导入参考表
6)更新OnOK：区分导入一个或多个文件；调用5)DoImportRef，提示用户是否将曲线名称导入参考表
4.更新CWellRefCurveEditDlg，井曲线名称导入参考表，区分编辑/新增动作
5-8：徐忠美/解国军：导入点图层，可同时导入测井图层；追加图元时，可更新指定属性（井名）的其他字段内容；导入SDE图层数据时，直接配置字段类型并指定坐标x/y
5.更新CCreateNewGISLayer
	1)更新InitPage：点图层，增加‘导入测井’的checkbox选项
	2)更新ApplySetting：获取是否‘导入测井’的状态
6.更新CLayerTreeCtrl
	1)更新DoCreateNewGISLayer：导入点图层时，根据选择，同时导入测井图层
2)更新InsertGeometriesToDB(…std::string update_field_str)：增加参数std::string update_field_str，如果该字段存在，在导入sde图层属性数据时，更新与update_field_str字段内容相同的其他字段内容
7.更新CBindFieldlDlg
	1)更新InitPage：更新sde图层属性数据时，增加更新字段下拉选择框
	2)更新InitGrid：配置字段内容增加‘coordx’、‘coordy’，代表坐标位置x、y
	3)更新OnOK：选择‘coordx’、‘coordy’时，标记为特殊字段类型
8.更新CToolboxTernarySourcePage
1)更新DoBindField：选择‘coordx’、‘coordy’时，配置字段类型为float，并指定x\y对应的属性列

---------------------------------------------------------
20180105 jy
1、矢量图层属性――可视化页面修改：
（1）	多边形符号大小页面增加对点状符号形状和颜色的设置
        CAnySdeGeometryLayer::DrawPoly、DrawPolys
2、图层树CLayerTreeCtrl：
（1）图层名称支持模糊查询SearchTreeElementByName_Fuzzy、SearchPre、SearchNext
（2）修改树节点图标
3、主界面CAssessorFrame：
（1）图层树按钮加提示文字CreateExplorerSpace()
（2）关闭标签页去掉提示对话框OnNotebookPageClose()
4、DEM地形分析增加多方向算法
（1）CAnyRasterMorphometricAnalysis：增加两个函数
CalculateFlowDirection2(int count)、CalculateFlowAccumulationFromDirection2(double** flowdir)
（2）CAnyTerrainAnalysis：
修改CalculateFlowAccumulation(int scantype=0)增加方向类型参数，
增加CalculateStreamlinesOfDEM()多方向的水流线计算方法。
（3）	CLayerTreeCtrl::OnTerrainAnalysis_Hydralogical：DEM数据计算水系线时增加多方向选择。
（4）	CTerrainParamSettingDlg地形分析对话框DEM类型数据界面修改
5、圈闭评价版界面修改：
（1）CLoadGeoLayerDlg评价对象关联图层对话框调整界面
（2）CUnitTreeCtrl::ShowMenu评价单元树修改菜单
（3）CCommonDataImportTablePage ::InitLayout()数据导入修改界面
（4）CProfileAnalyTypeSettingPage::InitPage()查看历史评价修改界面
-----------------------------------------------------------------------
2018 01.12 wb
1 增加了区带各个版本的低分辨率使得页面自适应调整的nootbook
2 增加了发现过程各个阶段的页面的分辨率支持
3 增加了发现过程各个阶段的页面的历史记录读取和提交
4 对发现过程页面进行了部分调整和新功能补完（部分新功能待徐提交商议）
5 调整了发现过程和圈闭管理的菜单
6 重构了圈闭评价和管理的查询界面和部分数据结构
7 增加了区块版本的新的数据导入导出功能

---------------------------------------------------------
20180112 jy
1、导入数据模块：
（1）	界面优化：类型选择页面、SHP页面、CGM页面、属性页面
（2）	CGM、Doublefox、MapGIS文件导入后创建属性表：
增加合法化字段名函数CAnySdeGeometryLayer::GetLegalFieldName；
更新读取dbf文件函数CAnySdeGeometryLayer::ImportFromDBF，ImportFromDBFMT，ImportFromDBFMTF，ImportDBFThread
（3）	导入GeoMap文件增加点图层类型（具体文件格式有待逐个解析）
CLayerTreeCtrl::DoImportGISLayer
2、拖动树节点时保持图标不变CLayerTreeCtrl::DoEndDrag
3、雷达图、三元图模块优化：
（1）增加数据列选择对话框CRadarTernaryDataSelectionDlg
（2）修改原对话框函数可见性CToolboxTernaryWizard、CToolboxTernarySourcePage、CToolboxTernaryProfilePage
（3）修改CLayerTreeCtrl::DoRadarCanvas、OnTernaryCanvas
4、矢量图层属性模块优化：CSDELayerProfilePage
（1）基础页面修改
（2）可视化页面修改
（3）标注页面修改

---------------------------------------------------------
20180112李治昊
2018/1/8C 2018/1/12
王义刚/解国军：
测井图层菜单，‘追加测井’增加二级菜单，拆分为（文件/点图层），分别代表从文件增加井、从点图层选择井名字段增加井（‘追加测井’->‘点图层’， 从点图层选择井名字段，判断名称是否重复，之后增加井）；
复合图层中sde图层追加图元，如果存在测井图层，则根据所选字段增量更新测井；
设置复合图层中sde图层的属性；
sde图层追加图元，提供‘备份版本’选项，不再弹出对话框询问是否备份版本；
复合图层中测井图层可追加测井，导入测井曲线，导入分层/解释数据，以及测井的所有操作；
导入自定义测井文件类型时，检测非法格式；
添加曲线道后，全图显示，防止固定图版模式显示出错；
测井图层，增加‘线拾取’方式，打开测井曲线道；
等值线分析-体积分析，窗口重新布局；不再预先激活图层；只存在一个等值线图层时，默认下表面z用常数类型；
等值线分析-输出数据，优化界面；
等值线参数统计，解决选取图层部分范围生成的网格与原图错位的问题；
等值线分析-网格导出，选择导出类型与图层名称对话框合并；
等值线分析-转面图元，重新布局窗口，增加图层名称输入；
等值线分析-贝叶斯克里金/协克里金，重新布局；
等值线右键-变差对比分析：改翻译，点击‘自动拟合’后，直接响应，用户不必再次点击‘应用’；
等值线分析-变差分析：改翻译，点击‘自动拟合’后，直接响应，用户不必再次点击‘应用’；
等值线属性->半变差图->模糊推理窗口，重新布局，更改中英文；
等值线分析-转线图元，重新布局窗口；

1.增加CGetWellNameFieldDlg，选择点图层中井名字段
2.更新CLayerTreeCtrl
1)更新ShowMenu：测井图层菜单，‘追加图元’增加二级菜单，拆分为（文件/点图层），分别代表从文件增加井、从点图层选择井名字段增加井；测井图层菜单，增加‘维护分层体系’
2)更新OnAppendWellLayer：响应‘追加测井’->‘点图层’， 调用1.CGetWellNameFieldDlg，从点图层选择井名字段，判断名称是否重复，之后增加井；处理测井图层在复合图层中的情况
	3)增加OnMaintainPickSystem：响应‘维护分层体系’
4)更新OnImportDataInSdeGeometryLayer：处理sde图层在复合图层中的情况，sde图层追加图元，如果存在测井图层，则根据所选字段增量更新测井
5)更新OnImportWellData：增加处理复合图层中的测井图层

3.更新CSDELayerProfilePage
	1)更新InitPage：处理sde图层在复合图层中的情况
	2)更新ApplySetting：处理sde图层在复合图层中的情况
4.更新CBindFieldlDlg
1)更新InitPage：追加图元时，增加‘备份版本’checkbox选项，不再弹出对话框询问是否备份版本
5.更新CToolboxTernarySourcePage
1)增加成员变量bool m_is_backup_version：记录是否备份版本
	2)更新DoBindField：记录CBindFieldlDlg的‘备份版本’选项的值
6.更新CCreateNewGISLayer
	1)增加成员变量bool m_is_backup_version：记录是否备份版本
	2)更新ReImportGeometries：记录CToolboxTernarySourcePage::m_is_backup_version的值
7.更新CWellImportPage
	1)更新DoImportWell：增加复合图层中测井图层导入井的功能
	2)更新OnTemplateChanged：自定义测井文件类型时，检测非法格式
8.更新CWorkWellProfileCanvas
	1)更新OnCurveUnionLeftRight：曲线道左、右合并后，全图显示，防止固定图版模式显示出错
2)更新OnCurveNew：新建道后，全图显示，防止固定图版模式显示出错
3)更新OnCurveSplit：曲线拆分后，全图显示，防止固定图版模式显示出错
4)更新OnCurveLoad：曲线加载后，全图显示，防止固定图版模式显示出错
5)更新OnCurveCalculate：曲线计算后，全图显示，防止固定图版模式显示出错
6)更新AddTOCLog：新建toc道后，全图显示，防止固定图版模式显示出错
9.更新CWorkMapCanvas
	1)更新OnLButtonDblClick：测井图层，增加‘线拾取’方式，打开测井曲线道

10.更新CSpatialAnalysisTreeCtrl
1)更新OnMapAlgebra：等值线体积分析，不再预先激活图层；等值线分析-输出数据，优化界面；等值线分析-导出网格，优化界面；等值线分析-网格导出，选择导出类型与图层名称对话框合并；等值线分析-转面图元，重新布局窗口，增加图层名称输入；
11.更新CContourVolumeAnalysisDlg
1)更新OnOK：上下contour面均可以选择时，才判断是否为相同图层，防止只有一个等值线图层时提示错误
	2)更新InitData：只存在一个等值线图层时，默认下表面z用常数
	3)更新InitPage：重新布局
12.更新CValueFilterDlg：等值线分析-转面图元，重新布局窗口，增加图层名称输入
13.更新CContourDataMergeDlg：等值线分析-贝叶斯克里金/协克里金，重新布局
14.更新CKrigUncertaintyAnalysisPage：等值线右键-变差对比分析
	1)更新OnAutoChanged：点击‘自动拟合’后，直接响应，用户不必再次点击‘应用’
15.更新CKrigUncertaintyAnalysisDlg：等值线分析-变差分析，改翻译
	1)更新OnAutoChanged：点击‘自动拟合’后，直接响应，用户不必再次点击‘应用’
16.更新CFuzzyKrigParameterDlg：等值线属性->半变差图->模糊推理窗口，重新布局，更改中英文

---------------------------------------------------------
20180119李治昊
2018/1/15C 2018/1/19
王义刚/解国军
1.复合图层中，井图层菜单，不再显示‘追加测井’、‘逻辑回归’、‘Upload DFS’；复合图层中，SDE图层菜单，增加‘其他版本’、‘删除版本’。
2.导入sde图层，设置字段类型对话框：配置‘更新字段’改为‘匹配字段’；‘备份版本’默认打勾；字段类型设置，coordx、coordy放在选项的开始。
3.导入井图层窗口：选择‘自定义’格式文件，将‘高级’按钮置灰，不显示井信息。
4.导入测井曲线窗口：更改布局；增加‘单井’选项，多曲线文件导入一个井。
5.增加维护分层体系的对话框。
6.测井图层：解决程序初始加载大量井位过慢的问题。
7.导入自定义测井曲线：修正某些情况下井查询过慢的问题。

王鹏威：
8.导入等值线图层：快捷方式进入时，进入导入等值线数据页面；重新布局。
9.一维盆地模拟：仅读取当前井对应的历史记录；新建/读取记录，不再需要点击每个页面；‘地址变量’节点，解决有时右击死机的问题；
10.等值线右键-变差对比分析：重新布局；‘应用’按钮放在窗口下方。
11.等值线右键菜单-直方图分析，拆分为直方图分析->‘样本数据’/‘网格数据’。

1.更新CLayerTreeCtrl
1)更新ShowMenu：复合图层，井图层菜单，不再显示‘追加测井’、‘逻辑回归’、‘Upload DFS’；复合图层，SDE图层菜单，增加‘其他版本’、‘删除版本’
2)更新OnSwithToOtherSdeGeometryLayerVersion：SDE图层‘其他版本’，增加处理复合图层的情况
3)更新OnDeleteOtherSdeGeometryLayerVersion：SDE图层‘删除版本’，增加处理复合图层的情况
2.更新CBindFieldlDlg
	1)更新InitPage：‘更新字段’改为‘匹配字段’；‘备份版本’默认打勾
	2)更新InitGrid：字段类型设置，coordx、coordy放在选项的开始
3.更新CWellImportPage
1)更新OnTemplateChanged：导入井图层窗口，选择‘自定义’格式文件，将‘高级’按钮置灰，不显示井信息
2)更新ResetTemplate：追加测井，如遇‘自定义’格式文件，将‘高级’按钮置灰，不显示井信息
4.更新CWellPositionCurveImportDlg
	1)更新InitPage：更改布局；增加‘单井’选项，多曲线文件导入一个井
	2)更新OnOK：‘单井’选项，将多曲线文件导入一个井
	3)更新OnSearchWell：井名通过map存储，查找时提高效率
5.增加CPickSystemTreeCtrl：增加维护分层体系的树控件
6.增加CPickSystemTreeCtrlDlg：增加维护分层体系的对话框
7.更新CVariateDifferenceComparisonDlg：等值线右键-变差对比分析：‘应用’按钮放在窗口下方
8.更新CKrigUncertaintyAnalysisPage：隐藏变差图版的‘应用’按钮；重新布局
9.更新CLayerTreeCtrl
	1)更新ShowMenu：等值线右键菜单-直方图分析，拆分为直方图分析->‘样本数据’/‘网格数据’
10.更新CEvidenceWeightModelDlg
	1)更新InitPage：重新布局；
	2)更新InitTargetLayers：表格中，数字列内容右对齐
11.更新CGISfileWizard
	1)增加wxWizardPageSimple *GetContourPage() const：返回等值线数据导入页面
	2)更新OnWizardPageChanging：等值线数据页面切换到等值线属性页面时，需要准备数据
12.更新CAssessorFrame
1)更新OnImportLayer：导入等值线时，调用CGISfileWizard::RunWizard（GetContourPage），进入等值线数据导入页面
13.更新ContourSourcePage：等值线数据页面重新布局
14.更新CBurialHistoryTreeBook
	1)更新LoadPagesData：一维盆地模拟自动设置每一个页面的参数
15.更新CBurialHistoryPracticePage
1)更新ResetRecords：最后调用CBurialHistoryTreeBook::LoadPagesData，新建/读取记录，不再需要点击每个页面
2)更新InsertRows：历史记录中的boreid显示为井名
16.更新CBurialHistoryCanvas
1)更新OnContextMenu/OnHydrocarbonIntensiveCanvasType/OnHydrocarbonIntensive- CanvasLayers：处理GetPressureCoefficientLayers的大小为0的情况，防止死机

---------------------------------------------------------
20180119 jy
1、	GeoMap各种文件格式解析，自动导入不需要再选择图层类型，并根据不同文件类型自动读取属性数据创建属性表CLayerTreeCtrl::ReadGeomapTxtFile
2、	界面优化：
（1）	Workspace标签页关闭时去掉提示框CAssessorFrame
（2）	数据导入向导各页面优化
（3）	三元图界面增加z值列选择用于绘制等值线CRadarTernaryDataSelectionDlg
（4）	地图标尺界面优化
（5）	图层索引设置界面优化
（6）	矢量图层属性设置界面优化
------------------------------------------------------------------
2018.01.19 wb
1 底层增加了发现过程分组的相关代码；
2 修改了清空了徐和王提出的模块修改要求。
3 修改了发现过程的界面翻译，界面调整，分组，图版，以及特殊数据时的判定等调整。
4 区块版增加了对象导入和数据导入的内容。

---------------------------------------------------------
20180126李治昊
2018/1/22C 2018/1/26
王义刚/解国军：
1.测井图层的表数据，创建与数据导入。
2.根据分层统计曲线数据。
3.测井图层，解决自定义测井图层不能绘制等值线的问题。
4.多线程导入测井图层，提升效率。
徐忠美：
1.解决吴博等值线不显示问题。

1.增加CWellTableDataDlg，测井图层表数据，创建表、导入数据
2.更新CLayerTreeCtrl
	1)更新ShowMenu：测井图层，增加表格数据相关菜单
	2)增加OnWellTable：响应测井图层，表格数据的相关菜单，创建表、导入数据
	3)更新OnWellContour：测井图层绘制等值线，解决自定义测井图层不可用的问题
3.更新CWorkWellProfileCanvas
	1)更新OnCurveStat：记录曲线道中的分层，井名，传入CWellLogCurveStatDlg
4.更新CWellLogCurveStatDlg，可根据分层统计曲线数据
5.更新CRMDiscoverModCheckPanel
1)更新OnBtnLoad：解决吴博等值线不可显示问题
2)更新DorefreshCanvas：解决吴博等值线不可显示问题
6.更新CWellImportPage：多线程导入测井图层，提升效率
	1)增加struct ImportCustomWellThreadParameter
	2)增加void ImportCustomWellThreadFunc(ImportCustomWellThreadParameter &parameter)
3)增加void ImportCustomWell_MT(CLightGrid *grid, int elementid, int classid, CAnyLogLayer *welllayer, LayerItemData &layeritem, CGeoRect<double> &layerextent, 
std::map<std::string, int> &name_map = std::map<std::string, int>(),std::vector <std::vector<CGeoPoint<double>>> &wellCoords = std::vector<std::vector<CGeoPoint<double>>>(), int offset = 0)

---------------------------------------------------------
20180126 jy
1、地图代数页面布局调整CRasterCalculatorDlg
2、导入数据页面打开时的默认数据类型为上一次导入的类型
CChooseFileTypePage、CGISfileWizard、CLayerTreeCtrl::OnImportGISLayer
3、矢量图层叠加分析求交集运算：增加CGisOverlayDlg类
可做（1）点和点、线、面求交集生成点图层
（2）线和线求交集生成点图层、线图层
（3）	面和面求交集生成点图层、线图层，面图层结果有误


---------------------------------------------------------
20180202 李治昊
2018/1/29C 2018/2/2
王义刚/解国军：
1.斜井默认显示方式也为直井。
2.新建曲线道功能，如点击取消，不添加曲线道。
3.固定图版模式，防止某些道鼠标响应错误（例如，分层道不能创建新分层、旋回道不能创建新旋回、岩性道不能创建符号等问题）。
4.波动分析窗口，缩小窗口。
5.测井曲线，输出数据，提示输出到剪切板。
6.深度道属性，重新布局。
7.分层道更新窗口，缩小窗口。
8.测井图层：‘shift’按住，鼠标执行gis操作，不响应测井图层鼠标操作（滚轮缩放整个图版，不对曲线道内曲线范围进行缩放）。
9.表格数据：导入数据/更新数据，增加‘应用’按钮；井名在测井图层不存在时，相关数据也可以导入。
王义刚：
1.等值线参数分析，解决拾取范围与产生网格范围不一致的问题。
王鹏威：
1.埋藏史基础参数页面，修正某些情况修改顶深\厚度后，其他层的顶深\厚度显示出错的问题。
2.埋藏史，增加‘孔隙度演化图’页面

1.更新CWorkMapCanvas
1)更新OnLButtonUp：斜井默认显示方式也为直井
2)更新OnLButtonDblClick：斜井默认显示方式也为直井
2.更新CWorkWellProfileCanvas
	1)更新OnCurveNew：新建曲线道，添加曲线对话框，如点击取消，不添加曲线道
2)更新OnMouseMove：固定图版模式，仅曲线道响应深度缩放，防止某些道鼠标响应错误（例如，分层道不能创建新分层、旋回道不能创建新旋回、岩性道不能创建符号等问题）；‘shift’按住，鼠标执行gis操作，不响应测井图层鼠标操作（滚轮缩放整个图版，不对曲线道内曲线范围进行缩放）
3)更新OnOutputCurveData：输出数据，提示输出到剪切板
4)更新OnContextMenu：曲线道，增加‘显示曲线’、‘隐藏道’菜单
5)增加void OnCurveShownStatus( wxCommandEvent& event )：响应‘显示曲线’、‘隐藏道’菜单，控制曲线道的显示、曲线道中各曲线的显示
6)增加void OnKeyDown( wxKeyEvent& event )、void OnKeyDown( wxKeyEvent& event)：记录键盘操作，‘shift’是否按住
7)更新OnMouseWheel：‘shift’按住，鼠标执行gis操作，不响应测井图层鼠标操作（滚轮缩放整个图版，不对曲线道内曲线范围进行缩放）
3.更新CSedimentaryWaveAnalysisDlg：波动分析窗口，缩小窗口
4.更新CWelllogDepthPropertyDlg：深度道属性，重新布局
5.更新CWellLogPickSettingDlg：分层道更新窗口，缩小窗口
6.更新CWellTableDataDlg
	1)更新SaveInsertedRecords：导入数据时，井名在测井图层不存在时，相关数据也可以导入
	2)更新SaveUpdatedRecords：更新数据时，井名在测井图层不存在时，相关数据也可以导入
	3)增加InitPage：增加‘应用’按钮，点击后保存数据。
7.更新CBurialHistoryBasicPage
1)更新ResetAllLayersTopAndThickness：设置初始顶深、厚度为首个地层的顶深、厚度，防止第一行不为地层时计算出错
	2)更新OnCellValueChanged：最后一行更新厚度时，不响应ResetAllLayersTopAndThickness
8.更新CBurialHistoryTreeBook
	1)更新InitBook：增加‘孔隙度演化图’页面
	2)更新OnPageShow：响应‘孔隙度演化图’页面
9.更新CBurialHistoryCanvas
	1)更新OnContourMode：埋藏史演化图，等值线模式，增加处理‘孔隙度’类型
10.更新CBurialHistoryCanvasPage
	1)更新CanPageChanged：演化图，增加处理‘孔隙度’类型
2)更新OnRefresh：演化图，增加处理‘孔隙度’类型
11.更新CParameterSpatialStatisticAnalysisDlg
1)更新AddCellLayer：等值线参数分析，手动拾取的范围，需要与当前图层求得交集，设置该范围为插值范围

-----------------------------------------
20180202 wb
1 完成了完整版的无偏模块，增加了新的图版和界面功能等。
2 底层修改了谢版无偏的算法等。
3 修改了发现过程和有偏的的界面和功能。
4 x修改了区块版部分死机的问题。

---------------------------------------------------------
20180202 jy
1、	页面模式界面优化CLayoutModeSettingDlg
2、	更改DBF_DATE数据类型double->string
3、	重构叠加分析模块代码：anysde增加CAnyOverlayAnalysis类

---------------------------------------------------------
20180207 jy
1、	修正点和线的关系计算错误 CBoostSdeGeometry<BoostPoint>::RelationTo
2、	修正多边形的节点存储顺序CBoostSdeGeometry<BoostPolygon>::CreateFromBoost、CreateFromPoints、CreateFromWKT
修改多边形绘制和编辑节点相应代码CAnySdePolygonEditor
3、	修改图层编辑模式操作逻辑CLayerTreeCtrl::OnStartEdit
4、	编辑模式下的按比例范围显示图层CWorkMapCanvas
5、	增加多边形图层的求并集运算CAnyOverlayAnalysis::Union、CGisOverlayDlg::Union、CAnySdeGeometryLayer::Union
6、	等值线图层去掉图元代数CSpatialAnalysisTreeCtrl
----------------------------------------------
20180209 wb
1 修改了底层发现过程算法该为最终资源量改为三角分布
2 修改了底层无偏推理的算法，并在界面对应增加了批量计算和单步非蒙特卡罗计算的功能
  并对界面进行了调整
3 增加了新版的样本数据分析，并完成了主要功能。
4 修改了页岩油气版小面元体积法的界面和部分功能调整等，修复了体积法的缺陷。
5 调整了区块版部分功能。

---------------------------------------------------------
20180209 李治昊
2018/2/5C 2018/2/9
王义刚/解国军：
1.分层体系下，‘统’级别可以新建‘组’。
2.井图层‘表格数据’，解决不显示‘导入数据’、‘更新数据’菜单选项的问题。
3.解决深度道设置宽度后，测井道放大的问题。
4.加快井属性窗口打开速度。
5.测井曲线统计分析，根据分层体系统计测井曲线值。
6.表格数据，创建库表，增加字段后自动聚焦，解决用户需要手动切换到添加的字段后才能更改字段的问题。
7.表格数据，库表增加别名。
8.表格数据，字段增加别名/单位。
9.表格数据，更新/导入数据时，字段显示为别名；更新数据时，显示单位。
10.盆地模拟，地质变量，网格id点击上下箭头自动刷新图版。
王鹏威：
1.等值线属性，解决x/y范围有时显示不完全的问题。

1.更新CPickSystemTreeCtrl
	1)更新ShowMenu：分层体系下，‘统’级别可以新建‘组’
	2)增加static AnyPetro::CAccumulationElement *DoLoad：获取分层体系，便于类外调用
2.更新CLayerTreeCtrl
1)更新ShowMenu：复合图层中井图层，解决‘表格数据’不显示‘导入数据’、‘更新数据’菜单选项的问题；复合图层，区分sde图层、井图层的属性菜单
3.更新CWelllogDepthPropertyDlg
1)更新RefreshWellCanvas：深度道设置变更后，调用zoomfull，图版居中
4.更新CWellLogPropertyDlg
1)更新InitData：获取所有井名后，插入到控件中（原先是一个一个插入到控件中），加快井属性窗口打开速度
5.更新CWorkWellProfileCanvas
	1)更新OnCurveStat：测井曲线统计分析，根据分层体系统计测井曲线值
6.更新CWellTableDataDlg
1)更新OnAddField：增加字段后自动聚焦，解决用户需要手动切换到添加的字段后才能更改字段的问题
2)更新SaveFields：增加保存字段别名/单位
3)更新LoadFeatureTables：读取字段别名/单位；库表选择显示别名
4)更新OnAddItem：更改库表别名
5)更新LoadTableFields：更新/导入数据时，字段显示为别名；更新数据时，显示单位
6)更新SaveInsertedRecords：导入数据时，根据字段别名找到字段名后，导入数据
7.更新CMyGetNumberFromUserDlg
1)增加void OnSpinChanged( wxSpinEvent &event )：响应spin值改变，盆地模拟，地质变量，网格id点击上下箭头自动刷新图版
8.更新ContourGridPage
	1)更新InitContourLevelsPanel：等值线设置，增加空行
	2)更新OnWizardPageshow：增加页面宽度，以便x/y范围显示
9.更新CToolboxContourGridPage
	1)更新InitContourLevelsPanel：等值线设置，增加空行
	2)更新OnWizardPageshow：增加页面宽度，以便x/y范围显示

------------------------------------------
20180224 wb
1增加了样本数据分析批量分析功能
2修改了数据结构，增加了样本数据分析批量分析的列表的实时回放功能
3增加了无偏的批量分析功能
4增加了无偏的批量分析功能的列表的实时回放功能
5底层相应增加了无偏分析的新数据结构

---------------------------------------------------------
20180302 李治昊
2018/2/22C 2018/3/2
王义刚/解国军：
1.测井道增加‘左移’。
2.新建旋回窗口，缩小窗口大小，居中。
3.设置旋回颜色是否透明。
4.批量更新旋回属性。
5.井图层，通过文件导入沉积旋回道。
6.曲线道属性编辑后，不再全图显示。
7.存储曲线道的显示状态。
8.岩性符号垂直方向叠加显示。
9.井图层属性，增加井名搜索功能。
10.井图层表格数据，没有值的字段用空白显示（不显示0）
徐忠美：
1.等值线x/y方向，可自定义设置间隔

1.更新CWorkWellProfileCanvas
	1)更新OnContextMenu：测井道增加‘左移’菜单
2)更新OnCurveExchange：响应‘左移’/‘右移’
3)更新OnSedimentaryCycleUpdate：批量更新旋回属性
2.更新CWellLogSedimentaryCycleSettingDlg
1)更新InitGrid：旋回属性窗口，缩小列宽，从而缩小窗口；增加‘颜色透明’选项
	2)更新InitGridData：增加读取‘颜色透明’状态
	3)更新GetSedimentaryCycles：获取设置的‘颜色透明’状态
4)更新OnApply：批量更新旋回属性（原先是更新单个旋回）
3.更新CToolboxContourGridPage
	1)更新InitTickNumberSizer：设置x/y方向间隔
4.更新CToolboxContourWizard
1)更新SetContourSetting：设置x/y方向间隔到底层
	2)更新LoadContourSetting：读取x/y方向间隔到界面
5.更新ContourGridPage
1)更新InitTickNumberSizer：设置x/y方向间隔
2)更新SetContourSetting：设置x/y方向间隔到底层
	3)更新LoadContourSetting：读取x/y方向间隔到界面
6.更新CLayerTreeCtrl
	1)更新SerializeContourSetting：保存ContourSetting::m_x_tick_lags/m_y_tick_lags
	2)更新RestoreContourSetting：读取ContourSetting::m_x_tick_lags/m_y_tick_lags
	3)更新ShowMenu：井图层，增加‘导入沉积旋回’菜单
	4)更新OnImportWellData：井图层，读取文件，导入沉积旋回道
7.更新CWelllogCurvePropertyDlg
	1)更新RefreshWellCanvas：曲线道属性编辑后，不再全图显示
8.更新CWellLogPropertyDlg，井图层属性
	1)更新InitLayout：增加井搜索控件
	2)增加void OnSearchWell( wxCommandEvent &event )：响应‘井搜索’功能
9.更新CWellTableDataDlg
	1)更新LoadTableFields：读取数据时，没有值的字段值用空白显示（不显示0）
	2)更新SaveUpdatedRecords：存储数据时，没有值的字段值用null代替（不插入0，0.00等）
3)更新SaveInsertedRecords：存储数据时，没有值的字段值用null代替（不插入0，0.00等）

---------------------------------------------------------
20180227 jy
1、	页面模式CLayoutModeSettingDlg：
（1）	修改页面模式图层顺序显示缺陷；
（2）	打开页面模式时的比例尺默认为当前地图比例尺。
2、	修改导入栅格图片jpg、png显示错误缺陷CRasterImportPage
3、	导入数据后不展开图层树所有节点CLayerTreeCtrl
4、	地图比例尺：
（1）输入地图比例尺，回车响应CWorkMapCanvas、CAssessorFrame
（3）	自定义比例尺列表完成界面CCreateMapScaleListDlg
5、	叠加分析改为多线程CAnyOverlayAnalysis
6、	增加缓冲区分析界面CGisBufferDlg

---------------------------------------------------------
20180309 李治昊
2018/3/5C 2018/3/9
王义刚/解国军：
1.测井图层，导入分层数据、导入解释数据、导入旋回数据合并改为2级菜单，一级菜单为‘导入数据’；导入数据，取消后，不再弹出错误提示对话框。
2.测井图层，导入分层/解释数据，解决导入后数据有遗漏的情况。
3.分层道/解释成果道，调整界面。
4.分层道/解释成果道，新建分层/解释成果时，解决名称相同不能创建的问题。
5.岩性道，解决名称相同不能创建岩性的问题。
6.分层道/解释成果道，取消‘变形’菜单。
7.测井道，增加‘地图标尺’菜单，用户可配置地图范围
王鹏威/徐忠美：
1.等值线图层，可裁剪地图范围内的区域，裁剪区域实时保存。
2.等值线图层，在workspace上增加页面，对网格数据进行调整。
3.等值线分析-输出数据：菜单‘叠合Gis图层’/‘叠合井图层’合并为‘插值模型应用于…’
4.等值线分析-导面图元：解决有时生成面图元异常的问题

1.增加CContourEditGridDataPanel，等值线图层，编辑网格数据
2.更新CLayerTreeCtrl
1)更新ShowMenu：测井图层，导入分层数据、导入解释数据、导入旋回数据合并改为2级菜单；等值线图层，增加‘编辑网格数据’菜单
2)更新SerializeContourSetting：等值线图层，保存裁剪区域
3)更新RestoreContourSetting：等值线图层，读取裁剪区域
4)增加void OnContourEditGrid( wxCommandEvent &event )：响应‘编辑网格数据’，调用1.CContourEditGridDataPanel，对网格数据进行调整
5)更新OnImportWellData：测井图层，导入分层/解释数据，解决导入后数据有遗漏的情况。
3.更新CWorkMapCanvas
	1)更新OnLButtonDblClick：等值线图层，可裁剪地图范围内的区域，裁剪区域实时保存
4.更新CAssessorWorkspace
1)更新enum WorkspacePage，增加变量WSP_Contour_Edit_Grid_Data，对应1.CContourEditGridDataPanel
5.更新CAssessorFrame
1)更新enum WorkSpaceCanvas，增加变量Canvas_Contour_Edit_Grid_Data，对应1.CContourEditGridDataPanel
2)更新GetComparedTabCaption、SetCurrentTabActive、InsertNewTab、AddNewTab：增加处理‘网编辑格数据’的页面
6.更新CWellLogPickSettingDlg，分层道/解释成果道，调整界面
	1)更新InitPage：分层道/解释成果道，调整界面
	2)更新IsNameValid：更新/新增时，查询已有名称后设置合法名称
7.更新CWellLogLithRasterSettingDlg
1)更新IsNameValid：更新/新增时，查询已有名称后设置合法名称
8.更新CWorkWellProfileCanvas
	1)更新OnContextMenu：分层道/解释成果道，取消‘变形’菜单；增加‘地图标尺’菜单
9.增加CWellLogMapPortSettingDlg，配置测井道的地图标尺
10.更新CSpatialAnalysisTreeCtrl
1)更新OnMapAlgebra：等值线分析-输出数据：菜单‘叠合Gis图层’/‘叠合井图层’合并为‘插值模型应用于…’；等值线分析-导面图元：解决有时生成面图元异常的问题

---------------------------------------------------------
20180309 jy
1、	修改圈闭管理版导入数据缺陷CUnitTreeCtrl::ImportLayer
2、	修改点图层矩形符号错误，修改点状符号边线缺陷CAnySdeGeometryLayer::DoRenderMarkedPoint
3、	属性表新增编辑模式下选择图元和删除图元功能CWorkShapePropertyTablePanel
4、	坐标投影转换模块优化CCoordinateTransformDlg
------------------------------------------------------------
20180309 wb 
1 增加样本数据分析的多种分布
2 增加了盆地模拟版本的新框架
3 修改了圈闭和非常规的缺陷

---------------------------------------------------------
20180316 jy
1、	修改删除图元的撤销恢复缺陷
CAnySdeGeometryEditor::DeleteGeometries, OnNewEditAction
2、	编辑模式下选中的图元可以通过Delete快捷键删除
CWorkMapCanvas::OnKeyUp
3、	文件名非法字符提示CLayerTreeCtrl::IsFileNameValid, GetValidFileName
4、	图层框架树根节点增加坐标系统设置CLayerTreeCtrl::OnCoordinateSystemSetting
5、	修改地形分析缺陷
求山谷点死机CLayerTreeCtrl::OnTerrainAnalysis_Feature
6、	地形分析界面优化CTerrainParamSettingDlg
---------------------------------------------------------
20180316 pc
GIS属性表导出EXCEL数据不全缺陷
workmapcanvas鼠标滚轮以当前光标位置缩放
sgy导出增加偏移距信息的导出
地震图层中含多个数据集时做MC效果不对的缺陷


---------------------------------------------------------
20180316 李治昊

2018/3/12C 2018/3/16
王义刚/解国军：
1.测井图层，表格数据->导入数据，不再导入内容。
2.解释成果配置对话框，增加‘应用’、‘确定’等按钮的间距。
3.导入测井图层时，用户可选择同时‘添加GIS图层’，之后创建复合图层；添加复合图层后，不显示井图层中的井位。
4.测井道，解决设置不同道宽后，曲线道显示不正常的问题。
5.测井道，保存道宽、道顺序、道显示状态、顶底深度。
6.分层道，文字在道中居中显示。
7.导入自定义测井曲线，增加单位选择。
8.创建gis图层时（导入油藏数据），文件过滤改为‘*.*’，可打开任意后缀的文件。
9.井属性，重新布局对话框，‘显示井底轨迹’改为‘显示井底位置’；解决显示井非全选后，配置待显示的井未能显示的问题；搜索井时，可不分大小写。
10.导入自定义测井曲线，搜索井时，可不分大小写。
11.复合图层，激活后，存在gis图层和井图层，则不显示井图层中的井位。
徐忠美：
1.三元图，解决名称/刻度压盖的问题。
王鹏威/解国军：
1.一维盆地模拟：鼠标移动时，显示温度/Ro等值。
2.盆地模拟版本，触发一维盆地模拟。
3.一维盆地模拟，解决生排烃图版中‘油裂解累计产生焦炭量’的值与地质变量图版值中不一致的问题。
4.一维盆地模拟，解决解决‘深度-地质变量’图版，个别情况地层柱绘制不完全的问题。

1.更新CWellTableDataDlg，测井图层，表格数据->导入数据，不再导入内容
1)更新LoadTableFields：增加一列并隐藏，记录当前行是否导入了数据库
	2)更新SaveInsertedRecords：当前行标记为‘已导入’时，不再导入数据库
	3)更新OnCellValueChanged：导入数据时，行数据变化后，标记该行为‘未导入’状态
2.更新CWellLogPickSettingDlg，解释成果配置对话框，增加‘应用’、‘确定’等按钮的间距
	1)更新InitPage：增加‘应用’、‘确定’等按钮的间距
3.更新CWellImportPage
	1)更新InitPage：创建测井图层时，增加‘添加GIS图层’check控件
	2)更新ResetTemplate：更新已存在测井图层时，不显示‘添加GIS图层’check控件
3)更新DoImportWell：创建测井图层时，如勾选‘添加GIS图层’控件，创建测井图层/GIS图层后，形成复合图层
4.更新CWorkMapCanvas，测井道，读取顶底深
1)更新OnLButtonUp：调用CAnyLogTickTrack::DoDecoding获取顶底深，之后调用CAnyLogTrackSection::AddLogTrack，设置用户自定义顶底深
2)更新OnLButtonDblClick：调用CAnyLogTickTrack::DoDecoding获取顶底深，之后调用CAnyLogTrackSection::AddLogTrack，设置用户自定义顶底深
5.更新CWellPropertyDlg
1)更新ApplyAllWellInfos：设置用户自定义顶底深
6.更新CWelllogAllPropertyDlg
1)更新RefreshWellCanvas：设置用户自定义顶底深到底层
2)更新OnApplyDepthToAll：设置用户自定义顶底深到底层
7.更新CWelllogCurvePropertyDlg
1)更新RefreshWellCanvas：设置用户自定义顶底深到底层
2)更新OnApplyDepthToAll：设置用户自定义顶底深到底层
8.更新CWellPositionCurveImportDlg，导入自定义测井曲线
1)更新InitPage：增加单位选择控件
2)更新DoImportCurves：将设置的单位转化为米
3)更新OnSearchWell：搜索井时，可不分大小写
9.更新CToolboxTernarySourcePage，创建gis图层
1)更新OnSelectFile：文件过滤改为‘*.*’，可打开任意后缀的文件
10.更新CWellLogPropertyDlg，井属性
	1)更新OnSearchWell：搜索井时，可不分大小写
	2)更新OnChked：解决显示所有井/显示选择井逻辑错误的问题
	3)更新InitLayout：重新布局对话框，‘显示井底轨迹’改为‘显示井底位置’
11.更新CLayerTreeCtrl
1)更新ActivateItem：复合图层中，存在gis图层和井图层，则激活gis图层后，将井图层中的井位隐藏，不显示井口
2)更新DoCreateNewGISLayer：创建复合图层后（gis图层和井图层），将井图层中的井位隐藏，不显示井口
--------------------------------------------
20180316 wb
1 修改了有偏和无偏的调用方法
2 修改了有偏等值线的显示方式
3 增加了有偏批量结果的读取和保存（校验图形未保存）
4 修改了非常规forspan和圈闭版导入的一些问题
--------------------------------------------
20180323 pc
增加d_basinsimulate_model表存储盆地模拟树；
anyshplayer修复图元线型线颜色未存储上的问题，增加相应的存储字段到sql脚本；
实现盆地模拟树基本功能
---------------------------------------------------------
20180323 jy
1、	选择部分图元修改可视化属性(目前仅有按geometryid配置) CSDELayerProfilePage::InitSelectedGeometries
2、	图层框坐标系默认为第一个导入的图层的坐标系CLayerTreeCtrl::CreateGISLayer
3、	水流方向算法改进
（1）	解决求水系线死循环缺陷CAnyRasterMorphometricAnalysis::CalculateFlowDirection
（2）	增加水流方向的方向数量选项
CAnyTerrainAnalysis::CalculateFlowDirection
4、	水文分析界面优化CTerrainParamSettingDlg
5、	等值线重复计算同一地形因子时不能生成结果图层的缺陷
CreateContourLayer传入新的图层名
6、	修改图表数据与图元对应关系错乱缺陷CAnySdeGeometryLayer::GetShowChartFromDB
7、	修改坐标转换后图元与属性对应关系错乱缺陷
CAnyCoordinateProjector::Transform
8、	修改标注被图元压盖问题
CAnySdeGeometryLayer::DrawPoint，DrawLine
9、	属性表粘贴数据的保存：响应“Ctrl+V”
CWorkShapePropertyTablePanel:: OnKeyDown，SaveAllChangesToCatch


---------------------------------------------------------
20180323 李治昊
2018/3/19C 2018/3/23
王义刚/解国军：
1.导入自定义测井曲线，解决excel文件列头行不显示的问题。
2.导入自定义测井曲线，记录多个非法值区间。
3.测井曲线，可配置多个非法值区间。
4.导入sde图层，解决插入时间字段后属性没有导入的问题。
5.测井道，解释成果道，增加‘解释成果统计’。
6.测井图层，等值线绘制，增加‘解释成果数据’绘制。
7.SDE专题图，柱状图，显示数据由整数改为2位小数显示，解决小于1的数显示为0的问题。
8.SDE专题图绘制，柱状图，可绘制多个维度数据。
王鹏威/解国军：
1.盆地模拟版本，增加‘process’树节点。
2.盆地模拟版本，增加‘Age Assignment’配置panel页面。
3.一维盆地模拟，地质变量-深度图版，部分变量折线显示。


1.更新CWellPositionCurveImportDlg
1)更新SetFieldChoicesAndDefaultColor：处理中文深度列，防止中文深度列无法导入；解决excel文件列头行不显示的问题
	2)更新SetCurvesInCtrl：处理中文深度列，防止中文深度列无法导入
	3)更新GetCurveData：获取曲线的非法值区间
	4)更新DoImportCurves：获取曲线的非法值区间
2.更新CWelllogCurvePropertyDlg，配置多个非法值区间
1)更新InitComponentPanel：非法值行，增加‘更多’按钮，配置更多非法值
2)更新struct LineInfo：增加NullValues m_line_null_values，存储曲线对应的一组非法值
3)增加成员变量NullValues m_line_null_values，存储当前曲线对应的一组非法值
4)更新InitData：读取曲线的非法值，设置LineInfo的NullValues m_line_null_values
5)更新OnComboBoxCurveUpdate：切换曲线后，读取曲线的非法值，设置LineInfo的NullValues m_line_null_values
6)更新RefreshWellCanvas：设置曲线的非法值到底层，刷新图版
3.增加CBasinSimulateProcessTreeCtrl：盆地模拟版本，‘process’树节点
4.更新CAssessorFrame，盆地模拟版本，显示‘process’树节点
	1)增加CreateBasinSimulationProcessSpaceCtrl：创建‘process’树节点浮动窗口
2)增加ShowBasinSimulationProcessSpaceCtrl( bool isShow)：是否显示‘process’树节点浮动窗口
3)更新OnAuiPaneClose：关闭‘process’树节点浮动窗口时，清空当前数据
4)更新InitLayout：调用CreateBasinSimulationProcessSpaceCtrl，创建‘process’树节点浮动窗口
5.增加CWellLogInterpretationStatDlg，解释成果统计
6.更新CWorkWellProfileCanvas：解释成果道，增加‘解释成果统计’
1)更新OnContextMenu：增加‘解释成果统计’菜单
2)更新OnCurveStat：响应解释成果统计’菜单，调用CWellLogInterpretationStatDlg
7.更新CWellContourSettingDlg：解释成果的等值线配置窗口
8.更新CLayerTreeCtrl
	1)更新ShowMenu：井图层，‘绘制等值线’增加‘解释成果数据’
	2)更新OnWellContour：井图层，响应绘制‘解释成果数据’对应的等值线
9.更新CPropertyDisplayPanel 
1)增加成员变量wxRadioBox* m_radioBox_chart：专题图绘制类型选择控件，使得专题图绘制选择类型可在类外获取
10.更新CSDELayerProfilePage
	1)更新ApplySetting：专题图绘制，柱状图可绘制多个维度；
------------------------------
20180323 wb
1 增加了圈闭管理的新菜单
2 增加了圈闭管理的文档图形读取的新界面和图形显示界面（含新示例图片和数据库更新）



---------------------------------------------------------
20180330 李治昊
2018/3/26C 2018/3/30
王义刚/解国军：
1.测井图层，增加‘统计’-‘曲线统计’；
2.测井图层，增加‘统计’-‘解释成果统计’；
3.测井图层，表格数据，增加‘分析数据’功能
4.等值线图层，解决含有非法值的等值线图层，配置属性后，部分区域变为最小值的问题


1.更新CLayerTreeCtrl
1)更新ShowMenu：测井图层，增加‘统计’-‘曲线统计’/‘解释成果统计’；测井图层，‘表格数据’，增加‘分析数据’子菜单
2)增加void OnWellStatistic( wxCommandEvent& event )：响应‘曲线统计’/‘解释成果统计’
3)更新OnWellTable：响应‘分析数据’的功能
2.更新CToolboxContourGridPage
	1)更新DoGetSamples：获取数值时，处理非数的情况
3.更新CWellTableDataDlg，表格数据，增加处理‘分析数据’的功能

---------------------------------------------------------
20180330 jy
1、	坐标转换增加不同参数的高斯无带号投影之间的转换CoordinateProjector::GaussProjTransform
2、	属性表分页\不分页两种模式下的复制粘贴数据：修改CWorkShapePropertyTablePanel::SaveAllChangesToCatch
3、	属性表多选（按住ctrl或shift时鼠标点击行头）CWorkShapePropertyTablePanel::OnRowLableClick
4、	从属性表中批量删除记录和对应图元CWorkShapePropertyTablePanel::OnDeleteGeometryRecords
5、	修改按住ctrl多选图元缺陷CWorkMapCanvas
6、	坐标转换：
（1）查看基准面参数
CCoordinateTransformDlg:: OnDatumParameter
（2）删除自定义基准面
CLayerTreeCtrl::DeleteGISCoordRecord，CCoordinateTransformDlg::OnDeleteDatum
（3）删除自定义投影类型
CLayerTreeCtrl::DeleteGISProjRecord，CCoordinateTransformDlg::OnDeleteProjection
（4）更新自定义投影类型
CLayerTreeCtrl::UpdateGISProjRecord，CCoordinateTransformDlg::OnUpdateProjection
7、	投影转换后新图层默认名称设置为”原图层名_Transform” CCoordinateTransformDlg
8、	自定义坐标系界面优化CCoordinateCustomDlg
9、	圈闭管理版图件树界面修改CAssessorFrame::CreateUnitLayerSpaceCtrl
10、	复合图层中矢量图层按比例范围显示CWorkMapCanvas::SetLayerPaintedByMapScale
11、	修复双击复合图层中井位后属性表失效缺陷CWorkMapCanvas::OnLButtonDblClick
----------------------------------
20180330 wb
1 更新了圈闭管理的界面和后台读写文档的操作
2 修改了圈闭管理的界面
3 增加了非常规体积法的陆相夹层法
4 修改了区带版部分缺陷
5 修改了非常规的缺陷

---------------------------------------------------------
20180404 李治昊

2018/4/2C 2018/4/6
王义刚/解国军：
1.测井道，可删除深度道
2.process树节点，参照petromod增加所有功能节点。
3.等值线属性设置后，不再全图显示。
4.测井曲线，岩石物理分析，可关闭拾取方式。
5.测井曲线，岩石物理分析，坐标轴大小次序可反转。
6.测井曲线，岩石物理分析，异常值不加入到图版中。
7.测井曲线，岩石物理分析，增加深度范围筛选。
8.测井曲线，岩石物理分析，拾取范围可自定义，由用户给定。


1.更新CWorkWellProfileCanvas
1)更新OnContextMenu：深度道多于一个的情况下，弹出‘删除’菜单
2.更新CBasinSimulateProcessTreeCtrl
	1)更新DoLoadTreeItems：process树节点，参照petromod增加所有功能节点
3.更新CToolboxContourWizard
	1)更新RefreshCanvas：等值线属性设置后，不再全图显示
4.更新CRockPhysicalAnalysisDlg
	1)更新InitPage：拾取方式，增加‘自定义’、‘无’（不拾取）选项
2)更新OnRadioPickWays：拾取方式，选择‘无’选项，清空当前图版所选点；选择‘自定义’选项，调用7.CExtentSettingDlg给定范围后，选择相应元素
	3)增加成员变量double m_depth_min、double m_depth_max：存储待交会的深度范围；
4)更新OnOK：用map替代vector存储非法值id，节省时间开支；样本值在非法值区间内，标记为非法；样本深度不在深度范围内，也标记为非法；
5.更新CNPVScatterCanvas
	1)更新OnContextMenu：增加‘坐标轴顺序反转’菜单
	2)增加void OnAxisReverse( wxCommandEvent& event )：响应‘坐标轴顺序反转’
6.更新CRockPhysicalAnalysisParaDlg
	1)更新InitPage：增加深度范围设置控件；界面重新布局
	2)更新OnOK：检查非法设置；设置深度范围；
7.增加CExtentSettingDlg，设置范围对话框

---------------------------------------------------------
20180404 jy
1、	编辑模式下选择图元时图元颜色加大透明度CWorkMapCanvas::OnLButtonUp，CAnySdePolygonEditor
2、	属性设置对话框可视化表格设置固定大小，防止窗口过大时下方按钮看不到
3、	修改水文分析求水流16、32方向缺陷CAnyRasterMorphometricAnalysis::CalculateFlowDirection2
4、	分段设置标注样式（提交界面）CSDELayerProfilePage
--------------------------------------------------------------
2018 0413 wb
1 增加了新版的逐步回归
2 体积法增加了读取范围的功能
3 重构了分辨率问题
4 解决了区带版和页岩气版的缺陷


---------------------------------------------------------
20180413 李治昊
2018/4/8C 2018/4/13
王义刚/解国军：
1.测井曲线，属性，可编辑/查看曲线样本数据。
2.等值线，解决label压盖的问题。
3.SDE图层，解决label压盖的问题；解决专题图在比例过小时仍然绘制的问题。
4.测井图层，‘连井剖面’模式，所有道宽度显示一致。
5.测井图层，‘连井剖面’模式，不弹出SDE等图层的查询窗口。
6.测井图层，‘连井剖面’模式，显示所有曲线。
7.地图操作工具条，增加‘连井剖面’模式开关。
8.测井曲线，增加‘比例尺设置’。
9.激活多个图层，默认选中树节点中打勾的图层。
10.测井图层，可删除测井曲线数据。

1.更新CWellNullValueEditDlg
1)增加构造函数CWellNullValueEditDlg (wxWindow *parent, CAnyLogTrackComponent *temp, int order)，用于显示曲线样本数据
2.更新CWelllogCurvePropertyDlg
1)更新InitCurveSettingPanel：增加‘曲线数据’按钮
2)增加OnCurveDataDetail：调用CWellNullValueEditDlg，显示曲线数据
3.更新CSDELayerProfilePage
	1)更新ApplySetting：复合图层中SDE图层，解决绘制2次专题图的问题
4.更新CLayerTreeCtrl
	1)更新ActivateItem：激活复合图层中的SDE图层，将专题图加入view
5.更新CWorkMapCanvas
	1)更新OnContextMenu：井图层存在时，增加‘连井剖面’菜单
	2)更新void OnPickByLine(wxCommandEvent &event)：响应‘连井剖面’
	3)增加bool m_is_well_pick_profile：标记当前状态是否为‘连井剖面’
	4)更新OnLButtonUp：矩形/圆形拾取不响应‘连井剖面’
5)更新OnLButtonDblClick：仅‘连井剖面’拾取，弹出‘连井剖面’窗口；‘连井剖面’模式，不弹出SDE图层的查询窗口；‘连井剖面’模式，显示所有曲线。
6.更新CWellLogMapPortSettingDlg，增加设置图版比例尺
1)更新构造函数CWellLogMapPortSettingDlg(wxWindow *parent, AnyMap::CAnyView *view, int type = MT_Map_Port)：增加参数int type，用区分创建的窗口为地图标尺设置/比例尺设置
7.更新CWorkWellProfileCanvas
1)更新OnContextMenu：增加菜单‘比例尺设置’
2)增加成员变量CWellLogMapPortSettingDlg *m_scale_dlg：比例尺设置对象
3)更新OnAllProperty：响应菜单‘比例尺设置’，调用m_scale_dlg，设置为无模式对话框
4)增加void ShowScaleDialog(bool is_shown = true)：在workspace中切换/关闭页面，显示/隐藏自身‘比例尺设置’对话框
5)更新SetActive：在workspace中切换页面后，调用ShowScaleDialog，显示‘比例尺设置’对话框
8.更新CAssessorFrame
	1)更新CreateGenMapToolBar：增加‘连井剖面’按钮
	2)更新OnMapViewControl：增加响应‘连井剖面’，调用CWorkMapCanvas::OnPickByLine
3)更新OnNotebookPageChanged：在workspace中切换页面前，调用ShowScaleDialog，隐藏待切换‘测井图层’页面的‘比例尺设置’对话框
4)更新OnNotebookPageClose/ OnTabClose/ OnTabCloseAllButThis/RemoveAllPages：workspace中关闭‘测井图层’页面时，隐藏该页面的‘比例尺设置’对话框
9.更新CLayerTreeCtrl
	1)更新OnActivateMultiHook：激活多个图层，默认选中树节点中打勾的图层
	2)更新ShowMenu：测井图层，增加‘删除测井曲线’菜单
3)增加void OnDeleteWellCurve(wxCommandEvent& event)：响应‘删除测井曲线’功能，删除选中井的测井曲线数据
10.更新CWellPositionCurveImportDlg
1)更新SetFieldChoicesAndDefaultColor/SetCurvesInCtrl/DoImportCurves：匹配深度字符串，增加‘DEP’，解决DEPT不识别为深度列的问题

---------------------------------------------------------
201804013 jy
1、	修改水系线光滑曲线箭头方向错误缺陷
CLayerTreeCtrl:: OnTerrainAnalysis_Hydralogical
2、	地形分析模块增加调节输入z值单位的参数
CAnyTerrainAnalysis数据初始化增加参数m_zFactor
CTerrainParamSettingDlg界面增加参数zFactor输入框
3、	页面模式下增加地理格网的绘制
CanyPageViewHook，CLayoutModeSettingDlg
4、	分段设置标注样式
（1）	修改数据库表r_gis_color_range，增加标注存储字段
（2）	CAnySdeGeometryLayer增加标注样式存储和加载数据库接口：LoadFeatureLabelStyle，SetFeatureLabelStyle
（3）	修改DoRenderLabel，增加标注样式参数const LabelStyle &style
（4）	CSDELayerProfilePage
（5）	CLayerTreeCtrl激活图层时加载标注样式
5、	地图代数界面增加输出图层名称，去掉点击确定之后的输入名称对话框
（1）CRasterCalculatorDlg增加参数outputlayername
（2）CActivityTreeCtrl修改函数RunRasterAnalysis(std::string layername)


---------------------------------------------------------
20180420 李治昊
王义刚/解国军：
1.表格数据，解决导入文件数据后，最后一列显示为yes的问题。
2.表格数据，分析数据，图层中井少于2口，提示不能生成等值线，防止死机。
3.井图层，测井曲线生成等值线，解决趋势不正确的问题。
4.综合维度分析，解决存在隐藏道时死机的问题。
5.三维盆地模拟，可统一配置岩性。

1.更新CWellPositionCurveImportDlg
1)更新OnOpenFile：导入文件数据后，增加status列，记录导入状态，解决导入文件数据后，最后一列显示为yes的问题
	2)更新DoCreateContour：图层中井少于2口，提示不能生成等值线，防止死机。
2.更新CLayerTreeCtrl
1)更新OnWellContour：井图层，测井曲线生成等值线，解决趋势不正确的问题。
3.更新CWorkCubeViewCanvas
1)增加static void LoadDefaultLithology(wxWindow *parent, CAnyBurialHistoryPlot::GeologicalLithologyMap &lithmap)：读取岩性数据
	2)更新构造函数：调用LoadDefaultLithology，初始化时，读取岩性参数
4.更新CBasinSimulateProcessAgeAssignmentPanel
	1)更新InitLayout：增加‘编辑岩性’按钮
2)增加void OnSetLithology(wxCommandEvent& event)：响应‘编辑岩性’，弹出岩性编辑窗口
	3)增加OnCellLeftDClick：设置horizon颜色；设置horizon岩性
	4)更新InitGridData：读取各horizon层的face map
	5)更新OnOK：设置各horizon层的face map
5.更新CLogCFMAnalysisDlg
	1)更新InitData：综合维度分析，解决存在隐藏道时死机的问题。

---------------------------------------------------------
20180420 jy
1、	修改点图层标注位置
CAnySdeGeometryLayer:: DrawPoint，DrawPoints
2、	点图层符号形状持久化，标注位置持久化
3、	属性表选择多行数据后可另存为新图层
CWorkShapePropertyTablePanel增加函数SaveasNewLayer
4、	矢量图层自定义查询结果可另存为新图层
CworkSharpQueryInputDlg增加是否将结果输出为图层选项
5、	叠加分析基准图层可自定义查询部分图元
CGisOverlayDlg::OnUserSearch
-------------------------------------------
20180420 wb
1 增加了模板打分Σ煌模板的分（需要更新数据库）
2 增加了p孔直接导入或指定TOC曲线的功能（需要更新底层）
3 修改了逐步回归新版本的一些问题
4 增加了有偏模块对多分辨率的支持
5 修改了发现过程资源量结果的计算显示和其他一些问题

---------------------------------------------------------
20180428 李治昊
2018/4/23C 2018/4/27
王鹏威/解国军：
1.保存岩性库到数据库。
2.三维盆地模拟，设置网格点的岩性。

1.增加CBasinSimulateConvertIdMapDlg：通过z值设置岩性窗口
2.更新CBasinSimulateTreeCtrl
1)更新ShowMenu：face map图层，右键增加菜单‘Convert ID Maps to Faceies Map’、‘Edit Lithologies’
2)增加void OnFaceMap(wxCommandEvent& event)：响应face map图层的操作，调用1. CBasinSimulateConvertIdMapDlg，通过z值设置岩性；调用CContourEditGridDataPanel，编辑face map各网格点的岩性
3)更新void CreateFacies(FaceMapData &fmd, bool is_reset)：设置指定face map各网格点的岩性
3.更新CContourEditGridDataPanel
1)增加void SetFaceMapVariables(int rows, int cols, CBasinSimulateTreeCtrl *tree, CBasinSimulateTreeCtrl::FaceMapData *fmd)：设置face map需要的参数
	2)增加void InitFaceMapData()：根据face map参数，显示各网格点的岩性
3)增加void OnCellRightClick(wxGridEvent& event)：face map场景，弹出菜单‘Modify Cells’、‘Select Value’、‘Select Inverse’
	4)增加void OnModifyCells(wxCommandEvent &event)：设置各网格点的岩性
	5)增加void OnSelectValue(wxCommandEvent &event)：选择给定值的cell/反选cell

4.更新CLithologyImportDlg，岩性库持久化
1)增加static bool InitLithology(wxWindow *parent, CAnyAccessor &accessor, CAnyBurialHistoryPlot::GeologicalLithologyMap &lithmap)：初始化岩性库
2)增加static void LoadLithologyFromDB(CAnyAccessor &accessor, CAnyBurialHistoryPlot::GeologicalLithologyMap &lithmap)：从数据库读取岩性库
3)增加static void LoadLithologyFromExcel(wxWindow *parent, CAnyBurialHistoryPlot::GeologicalLithologyMap &lithmap)：从excel读取岩性库
4)增加static void SaveLithologyIntoDB(CAnyAccessor &accessor, CAnyBurialHistoryPlot::GeologicalLithologyMap &lithmap)：存储岩性库到数据库
5)增加static bool GetLithology(const std::string &lithname, CAnyBurialHistoryPlot::GeologicalLithologyMap &lithmap, CAnyBurialHistoryPlot::GeologicalLithology &lithology)：根据名称lithname，获取岩性lithology
6)增加static bool IsLithnameOk(const std::string &category, const std::string &subcategory, const std::string &lithname, CAnyBurialHistoryPlot::GeologicalLithologyMap &lithmap)：新岩性名称是否重复
7)增加static std::string SetNewLithology(long new_idx, const std::string &new_lithname, std::vector<std::string> &lithnames, std::vector<double> &ratios, CAnyBurialHistoryPlot::GeologicalLithologyMap &lithmap)：增加新岩性
5.更新CLithologyEditDlg
	1)更新OnOK：记录当前设置岩性名称m_new_lithname，新岩性赋值为新名称，旧岩性为空
6.更新CWorkCubeViewCanvas
1)更新LoadDefaultLithology：去除参数，调用CLithologyImportDlg::InitLithology，初始化岩性库
2)更新析构函数：退出程序，调用CLithologyImportDlg::SaveLithologyIntoDB，保存岩性库到数据库

---------------------------------------------------------
20180428 jy
1、	修改多边形图层多属性可视化中表示大小的符号绘制位置,多边形由多个部分组成时只画一个符号
CAnySdeGeometryLayer:: DrawPoly, DrawPolys
2、	解决矢量图层可视化的三个维度和标注之间的独立性问题，分别设置互不影响
(1)修改CAnySdeGeometryLayer::GetRenderLabel，没有分段标注时默认统一标注
(2)修改CAnySdeLayer:: FieldProperty参数初始值
(3)修改CAnySdeGeometryLayer:: DrawPoint，DrawLine，DrawPoly符号和标注样式取值
---------------------------------------------------------------
20180428 wb
1 打分模板增加了4种类型的模板的保存和提交
2 打分模块可以随时切换类型和模板了 （需要升级数据库测试）
3 打分项增加了3级目录
4 体积法去掉了概率面板设置，增加了直接常数分布，增加了对负数等非法值的限制
5 修改了体积法的一些翻译

---------------------------------------------------------
201805/11 李治昊
2018/5/2C 2018/5/11
王鹏威/徐忠美：
1.变差分析图版，坐标开始按实际坐标设置（之前为0）
2.变差分析，检查基台/块金值设置是否正确（块金<基台）
王鹏威/解国军
1.地质建模中右键部分功能加入到‘process’树的节点中
2.设置网格岩性，采取多线程方法，加快‘select inverse’速度
3.设置网格岩性时，不设置无效区域

1.更新CKrigUncertaintyAnalysisDlg
	1)更新OnApply：检查基台/块金值设置是否正确
	2)更新DorefreshCanvas：坐标开始按实际坐标设置（之前为0）
2.更新CKrigUncertaintyAnalysisPage
	1)更新OnApply：检查基台/块金值设置是否正确
2)更新DorefreshCanvas：坐标开始按实际坐标设置（之前为0）

3.更新CBasinSimulateProcessTreeCtrl
1)更新OnAction：将CBasinSimulateTreeCtrl的部分方法加入到‘process’树的节点中
4.更新CContourEditGridDataPanel
1)增加struct SelectValueThreadParameter：多线程选择cell的参数
2)增加void SelectValueThreadFunc(SelectValueThreadParameter &parameter)：多线程选择cell的功能
3)更新OnSelectValue：采用多线程，加快选择/反选cell的速度

---------------------------------------------------------
201805011 jy
1、页面模式以当前显示的地图范围为总范围进行显示。
CLayoutModeSettingDlg::ApplySetting中刷新mapPort.m_extent
2、缓冲区分析
CGisBufferDlg
（注：由于复杂多边形的绘制存在问题，有些结果（eg.环）显示不正确）

--------------------------------
20180511 wb
1 完成了页岩气双孔的修改
2 跟踪修改了徐的问题
--------------------------------
20180517 pc
新增GIS目录节点选择对话框，用法如下
#include "bindlayertreedlg.h"
CBindLayertreeDlg *bindlayertreedlg = new CBindLayertreeDlg(this);
bindlayertreedlg->ShowModal();
if(bindlayertreedlg->m_isOkClicked && bindlayertreedlg->m_selectedlitem)
	layeritem.itemlocation = bindlayertreedlg->m_selectedlitem->m_layertreeitem;

---------------------------------------------------------
20180518 李治昊
2018/5/14C 2018/5/18
王义刚：
1.读取DXF文件，转为SDE图层
王义刚/解国军：
1.导入自定义曲线数据，自动匹配对应单位
2.测井图层，增加绘制总井深信息

1.更新CFileImportPage
	1)更新InitPage：增加‘dxf’文件选项
	2)更新OnSelectFile：读取‘dxf’文件
2.更新CGISfileWizard
	1)更新OnWizardBeforePageChanged：选择dxf文件，显示‘输出图层’控件
3.更新CPropertyPage
	1)更新InitPage：‘dxf’文件，显示‘输出图层’控件，可选择不同类型的图层
	2)更新OnAdvancedSetting：高级设置，增加设置‘dxf’文件时的窗口大小
4.更新CLayerTreeCtrl
	1)更新DoImportGISLayer：增加导入‘dxf’文件的功能

5.更新CWellPositionCurveImportDlg
1)增加std::string GetCurveUnit(const std::string &curve_name)：根据曲线名称，获取对应单位
2)增加static void DoGetCurveUnit(std::map<std::string, std::string> &curve_unit_map)：获取一组曲线名称-曲线单位的map
3)更新GetCurveData：调用1)GetCurveUnit，获取曲线单位
4)更新DoImportCurves：调用1)GetCurveUnit，获取曲线单位

---------------------------------------------------------
201805018 jy
1、	多边形图层转等值线图层死机缺陷
CSpatialAnalysisTreeCtrl::OnMapAlgebra
2、	GeoMap自定义属性文件的读取
CLayerTreeCtrl::ReadGeomapTxtFile
3、	属性表输入数据时判断是否符合字段类型
CWorkShapePropertyTablePanel::DoSaveChangesToCatch
4、	叠加分析中输入图层增加图元过滤功能
CAnyOverlayAnalysis::IntersectionMT，CGisOverlayDlg::Intersect
5、	矢量图层输出数据文件格式调整
CSpatialAnalysisTreeCtrl::OnMapAlgebra
6、	文字标注居中显示
CAnySdeGeometryLayer::DrawPoint,DrawPoints
7、	缓冲区分析输出中增加叠加分析选项
CGisOverlayDlg，CGisBufferDlg::OnOverlay
------------------------------------------------------------
20180518 wb
1 增加了海外项目评价新版本（更新底层 数据库 图片 翻译文件 权限文件）
2 修改了双孔计算公式
3 修改了发现过程底层计算方法
  增加了分组数据保存
  增加了等值线参数设置
  跟进徐新问题等

---------------------------------------------------------
20180524 李治昊
2018/5/21C 2018/5/25
王义刚/解国军：
1.连井剖面，区分地层剖面图/构造剖面图
2.井信息更新，将补心海拔分开输入，分别为地面海拔、补心高
3.导入分层/解释成果数据时，设置boreid，同时导入md、thick、x/y坐标等信息
4.导入井信息：分层/轨迹/断层信息
5.导入曲线，曲线名称为DT时自动归类为AC
6.增加绘制井基础信息等值线（GE/KBE/TVD/TVDSS）

1.更新CWellTableDataDlg
	1)更新InitData：数据库查询语句，一次性查询所有结果，提升效率
2.更新CWellPickProfileSettingDlg
1)更新构造函数CWellPickProfileSettingDlg(wxWindow *parent, const CAnyLogTrackSection::WellPickProfileMap &wppMap, bool isCreate = true, \
int well_profile_type = 0, const std::string &stratigraphic_str = "", double m_structural_tvdss = 0.)：增加int well_profile_type = 0, const std::string &stratigraphic_str = "", double m_structural_tvdss = 0.，分别对应剖面类型/地层剖面名称/构造剖面tvdss
2)增加int m_well_profile_type、std::string m_stratigraphic_str、double m_structural_tvdss：分别存储剖面类型/地层剖面名称/构造剖面tvdss
3)更新InitPage：连井剖面，增加地层剖面图/构造剖面图设置控件
4)增加void OnComboboxSelected(wxCommandEvent& event)：响应剖面类型切换
5)增加void GetCrossSectionType(int &type, std::string &stratigraphic, double &structural)：分别获取剖面类型/地层剖面名称/构造剖面tvdss
3.更新CWorkWellProfileCanvas
	1)更新OnWellPickProfile：测井曲线图版，打开CWellPickProfileSettingDlg设置连井剖面
2)增加成员变量long m_wellId：记录当前井id
3)更新OnLButtonDown/OnContextMenu：记录当前井id
4)更新OnWellPickUpdate/AddWellPick/AddTextComponent/OnTextComponentUpdate：设置分层信息时，调用CWellLogPickSettingDlg::SetBoreId，设置boreid
4.更新CWorkMapCanvas
1)更新OnLButtonDblClick：新增测井曲线图版，打开CWellPickProfileSettingDlg设置连井剖面
5.更新CWelllogAllPropertyDlg
	1)更新InitWellInfoPanel：增加‘地面海拔’输入框
	2)更新InitData：增加读取井信息(‘地面海拔’)
3)更新RefreshWellCanvas：调用CAnyLogLayer::UpdateWellbasic，将井信息（‘地面海拔’等）写入数据库
6.更新CWellLogPickSettingDlg
	1)增加void SetBoreId(long wellId)：根据wellid获取boreid
	2)更新GetWellPick：设置AnyWellPick的boreid
7.更新CLayerTreeCtrl
	1)更新OnImportWellData：导入分层信息时，设置AnyWellPick的boreid
2)更新ShowMenu：增加‘导入井信息’菜单，导入分层/轨迹/断层信息；等值线绘制，增加子菜单‘基本信息’
3)增加void OnImportWellInfor( wxCommandEvent& event )：响应‘导入井信息’菜单，调用CWellInfoEditDlg，导入分层/轨迹/断层信息
4)更新OnWellContour：调用9.CWellContourSettingDlg，增加绘制井基础信息等值线
8.更新CWellPositionCurveImportDlg
1)更新SetCurvesInCtrl：导入曲线，曲线名称为DT时自动归类为AC
9.更新CWellContourSettingDlg
1)增加构造函数CWellContourSettingDlg( wxWindow *parent, const wxString &type )：根据type不同，初始化不同界面
	2)更新InitLayout：初始化‘井基础信息’等值线页面
	3)更新OnOK：‘井基础信息’等值线，获取深度类型（GE/KBE/TVD/TVDSS）
10.更新CWellImportPage
1)更新ImportCustomWell_MT：设置默认welltype为当前图层的welltype，之前均为‘wellposition’类型

---------------------------------------------------------
201805025 jy
1、	修改分析工具箱中地图代数目录位置
2、	修改多边形图层转等值线算法（取多边形中心点作为样本点）
（1）计算复杂多边形中心点坐标
CAnySdeGeometry::GetCentroid
（2）CSpatialAnalysisTreeCtrl::OnMapAlgebra
3、	分析工具输出图层选择保存位置：地形分析、叠加分析、缓冲区分析、坐标转换、栅矢转换、地图代数
4、	属性表工具栏增加删除记录图标
5、	矢量图层可视化配置可以右键复制粘贴颜色
CSDELayerProfilePage::OnCopyColor，OnPasteColor
6、	修正多边形获取内边界函数错误
CAnySdeGeometry::GetInteriorRing
7、	修正数据库/WKB读取多边形数据错误（没有分别读取外边界和内边界）
CBoostSdeGeometry<BoostPolygon>::CreateFromDB，CreateFromWKB
CBoostSdeGeometry<BoostMultiPolygon>::CreateFromDB，CreateFromWKB
8、	绘制带洞的多边形和复杂多边形
CAnySdeGeometryLayer::DrawPolygon，DrawMultiPolygon
9、	获取复杂多边形中每个简单多边形的外环和内环
重载CAnySdeGeometry::GetInteriorRing，GetInteriorRingCount，GetExeriorRing

---------------------------------------------------------
20180601 李治昊
2018/5/28C 2018/6/1
王义刚/解国军：
1.批量更新井基本信息（井坐标、海拔等）
2.批量删除井
3.井图层从SDE点图层更新时，增加属性更新（别名/tvd/kb等）（从母图层更新井位及其属性）
4.地层等值线输出（含isochore）

1.更新CWellInfoEditDlg：批量更新井基本信息（井坐标、海拔等）
	1)更新InitData：‘d_well_basic’，读取井基础信息表的内容到grid中
2)更新OnOK：‘d_well_basic’，调用CAnyLogLayer::UpdateWellbasic，将grid中内容写入数据库；根据井名称/坐标变化，决定是否重设图层范围/刷新图版等
2.更新CWellImportPage
	1)更新DoImportWell：las/lgcreport文件，追加测井点位，重名的井不添加
2)更新bool ImportCustomWell_MT(std::vector<std::vector<CGeoPoint<double>>> &pts, std::vector<std::vector<std::string>> &well_names, int elementid, int classid, CAnyLogLayer *welllayer, LayerItemData &layeritem, CGeoRect<double> &layerextent, \
std::map<std::string, int> &name_map = std::map<std::string, int>(), std::map<std::string, AnyWell> &sde_well_map = std::map<std::string, AnyWell>())：增加参数std::map<std::string, AnyWell> &sde_well_map，井名对应的井属性，导入井时，同时导入井属性（原先仅有井名）
3.更新CLayerTreeCtrl
	1)更新ShowMenu：增加‘删除井’菜单；增加‘地层等值线’/‘地层等值线isochore’菜单
	2)更新OnDeleteWellCurve：响应‘删除井’菜单，批量删除井
3)更新OnAppendWellLayer：井图层从SDE点图层更新时，增加属性更新（别名/tvd/kb等）（从母图层更新井位及其属性）
4)更新OnWellContour：响应‘地层等值线’/‘地层等值线isochore’
4.更新CWellContourSettingDlg，初始化‘地层等值线’/‘地层等值线isochore’的界面
5.更新CGetWellNameFieldDlg：井图层从SDE点图层更新时，设置井属性对应字段（别名/tvd/kb等）

---------------------------------------------------------
20180601 jy
1、	地图”放大””缩小”操作时更新mapport
CWorkMapCanvas::OnZoomOut, OnZoomIn
2、	地图右键操作放入工具栏
CAssessorFrame::CreateGenMapToolBar
3、	矢量图层、等值线图层增加导出文件模板选项
CSpatialAnalysisTreeCtrl::ID_Menu_ExportTemplet
4、	导入CGM文件时增加两个选项：导入全部数据、导入所选图元类型的数据
（1）	CCGMPage::ConvertAllGeometries()，ConvertOneTypeOfGeometries()
（2）	CLayerTreeCtrl::DoImportGISLayer修改CGM导入路径
5、	编辑模式增加“继续绘制”工具以支持复杂图元的添加
（1）	CAnySdeGeometryEditor增加编辑类型RT_Continue_Part
（2）	CAnySdePointEditor、CAnySdeLineEditor、CAnySdePolygonEditor增加编辑类型RT_Continue_Part下的鼠标操作
（3）	CAssessorFrame编辑工具条增加TB_GEOEDIT_Continue_Part工具
（4）	CWorkMapCanvas鼠标操作中增加复杂图元的处理OnLButtonUp，OnLButtonDblClick
6、	编辑模式选择点图元和线图元时调整颜色和大小使更突出
CAnySdeGeometryLayer::DrawPointsSelection，DrawLineSelection
7、	编辑工具中增加“闭合线”
（1）CAnySdeGeometryEditor增加闭合线函数CloseLine
（2）CAssessorFrame编辑工具条增加TB_GEOEDIT_LineClose


---------------------------------------------------------
20180608 李治昊
2018/6/4C 2018/6/8
王义刚/解国军：
1.批量替换井图层中井名(井基础信息表)。
2.多井多文件导入（las）。
3.如果测井图层没有加载测井曲线，双击打开测井图版时只显示深度道。
4.测井分层相关等值线，完成深度/厚度计算。
5.存储/读取连井剖面设置。
6.测井曲线道网格设置，横格线和深度关联，根据深度刻度设置。
7.曲线统计分析，切换深度类型时，增加“是否选择所有曲线”的选项。
8.解释成果统计，切换分层类型时，增加“是否选择所有井”的选项。

1.更新CInfoFindDialog
	1)增加void SetInforGrid(wxGrid *grid, int row)：设置待查找对象，表格及当前行
	2)增加void OnReplace( wxFindDialogEvent &event)：替换字符串
	3)增加void OnReplaceAll ( wxFindDialogEvent &event)：替换所有字符串
	4)更新OnFind：增加功能，在表格（grid）中查找内容
2.更新CWellInfoEditDlg
1)增加void OnCellRightClick(wxGridEvent &event)：井基础信息表，弹出菜单‘Find’，查找/替换井名
2)增加void OnWellRename(wxCommandEvent& event)：响应菜单‘Find’，调用1.CInfoFindDialog，
查找/替换井名
3.更新CWellImportPage
	1)增加std
::string m_well_type：追加测井，记录当前图层的类型
	2)更新DoImportWell：将m_well_type传入CLASLog/CLGCReport，增加井时记录当前图层的类型
	3)更新OnTemplateChanged：新建图层时，检查坐标的合法性
4.更新CWorkMapCanvas
	1)更新OnLButtonDblClick/OnLButtonUp：没有曲线数据时，仅显示深度道
5.更新CLayerTreeCtrl
	1)更新OnWellContour：测井分层相关等值线，完成深度/厚度计算
6.增加CWellPickProfilePracticeDlg：连井剖面历史记录对话框
7.更新CWellPickProfileSettingDlg
1)增加void SetBoreIds(const std::map<long,long> &boreid_map, bool is_load = true)：设置当前剖面的井眼id
	2)增加void SaveProperty()：存储连井剖面设置，作为历史记录
3)增加void LoadProperty(long practiceId, long recordId)：读取连井剖面设置的历史记录
4)增加void ReInitGridData(CAnyLogTrackSection::WellPickProfileMap &wppMap)：将连井剖面设置（wppMap）配置入表格
5)更新InitPage：增加‘提交’/‘读取’按钮，存储/读取连井剖面设置
6)增加void OnLoad(wxCommandEvent& event)：响应‘提交’按钮，存储连井剖面设置
7)增加void OnCommit(wxCommandEvent& event)：响应‘读取’按钮，调用CWellPickProfilePracticeDlg，读取连井剖面设置
8.更新CWellLogCurveStatDlg
1)更新OnCellValueChanged：曲线统计分析，切换深度类型时，增加“是否选择所有曲线”的选项
9.更新CWellLogInterpretationStatDlg
1)更新OnCellValueChanged：解释成果统计，切换分层类型时，增加“是否选择所有井”的选项
10.增加CWellDataManagementTreeCtrl，创建‘井数据管理’树视图
11.更新CAssessorFrame
1)增加wxAuiNotebook *m_wellDataSpaceCtrl、CWellDataManagementTreeCtrl *m_wellDataSingleTree、CWellDataManagementTreeCtrl *m_wellDataMultiTree、bool m_isWellDataDlgShown：‘井数据管理’树视图相关变量
2)增加void CreateWellDataSpaceCtrl()：创建‘井数据管理’树视图
3)增加void ShowWellDataSpaceCtrl(bool isShow = true, const wxString &layerName = "",int layertype=-1)：激活‘井数据管理’树视图

---------------------------------------------------------
20180608 jy
1、	页面模式下再次打开设置对话框时比例尺默认为当前图件比例尺CLayoutModeSettingDlg
2、	图层树一级节点增加工区属性设置
增加类CProjectAreaPropertyDlg
修改CLayerTreeCtrl::OnGrid
3、	图层树根节点“增加类别”改为“新建工区”
CLayerTreeCtrl::OnAddCategory
4、	三元图去掉“access”选项
5、	修正复杂点图元的坐标获取和绘制
CAnySdeGeometry::GetCoords，CAnySdeGeometryLayer::DrawPoints
6、	缓冲区分析输入图层增加对复杂图元的支持
CGisBufferDlg::Buffer
7、	点符号增加7种井位符号CAnySdeGeometryLayer::DoRenderMarkedPoint
8、	自定义岩性符号增加功能：导出文件、导入文件。
CVectorSymbolCanvasDlg:: OnExport、OnImport
9、	分析工具输出图层选择目录位置：矢量图层转等值线，等值线图层转线图层、面图层、DEM。
CLayerTreeCtrl::OnContourtoDemIMG，CSpatialAnalysisTreeCtrl::OnMapAlgebra
-------------------------------------------------------------
20180608 wb
1 重构了油藏规模序列法的序列生成和界面展示
2 小面元体积法增加了读取线文件的方法
3 修改了体积法的公式显示
4 增加了超概率面板的数据输出功能
5 增加了有偏方法的结果表格的内容
6 修改了区带体积法的结果保存等缺陷

---------------------------------------------------------
20180615 李治昊
2018/6/11C 2018/6/15
王义刚/解国军：
1.输出测井曲线数据时，允许用户选择层位或起始深度；
2.输出测井曲线数据时，标注曲线对应井名
3.测井图层等值线，增加井位置选择（上部、中部、下部）
4.加入井数据管理功能


1.更新CMyMultiChoiceDlg
	1)更新enum DialogType，增加DT_Curve_Depth，对应曲线深度范围选择
	2)更新InitLayout：DT_Curve_Depth类型，对应曲线深度范围选择控件
	3)更新OnOK：检查最大/最小深度范围设置是否正确
2.更新CWorkWellProfileCanvas
1)更新OnOutputCurveData：输出测井曲线数据时，允许用户选择层位或起始深度；标注曲线对应井名
3.更新CLayerTreeCtrl
1)更新OnWellContour：测井图层等值线，增加处理井位置（根据井轨迹计算上部、中部、下部的位置）
2)增加void WellFunction(int id, CAnyLogLayer *hook, bool is_composite, CGeoRect<double> &layerextent, int classid, int layer_order, const wxString &labelname)：将井图层所有功能放入一个函数，便于调用
3)更新ShowMenu：增加‘井数据管理’菜单
4)增加void OnWellDataManagement( wxCommandEvent& event )：调用CAssessorFrame::ShowWellDataSpaceCtrl，激活‘井数据管理’控件
4.更新CWellDataManagementTreeCtrl
	1)更新DoLoadTreeItems：增加井功能节点
	2)更新DoAction：响应节点双击，调用CLayerTreeCtrl::WellFunction，激活对应功能

---------------------------------------------------------
20180623 李治昊
2018/6/19C 2018/6/23
王义刚/解国军：
1.导入/更新试采数据
2.导入/更新试油数据
3.导入/更新解释（砂体）数据
4.完成测井相关数据导出功能

1.更新CWellInfoEditDlg
	1)更新LoadTableFields：增加读取试采数据/试油数据/解释（砂体）数据
2)更新SaveUpdatedRecords：更新数据前，增加删除试采数据/试油数据/解释（砂体）数据的功能
2.更新CWellDataManagementTreeCtrl
1)增加void OutputData(const std::vector<std::string> &tables, const std::vector<std::string> &names, const std::vector<bool> &is_custom_tables)：封装导出数据的功能
2)更新DoAction：输出数据节点，调用1)OutputData，输出数据；‘多井’页面，响应‘创建剖面’，提示用户到面板选井
3)增加void GetBoreIdMap()：当前测井图层，获取‘井眼id-井名称’的map，便于根据井眼id获取井名称
----------------------------------------
20180622 wb
1 完成了海外评价版本的的修改（工程定量评价，对象树的建立，菜单调整等）
2 底层增加了新数据库表的修改和增加（需要更新脚本）

---------------------------------------------------------
20180629 李治昊
2018/6/25C 2018/6/29
王义刚/解国军：
1.井基本信息，可增删自定义字段
2.井基本信息，编辑自定义字段的内容
3.导入测井图层时，默认为井复合图层（包含井图层和对应的sde图层）
4.井复合图层，不可导入导出子图层；井复合图层中sde图层，不可编辑图元。
徐忠美：
1.解决图版放大缩小后，回归线位置不变的问题

1.增加CWellEditBasicMoreDlg，表‘d_well_basic_more’，可增删自定义字段
2.更新CWellImportPage，导入测井图层时，默认同时导入sde图层，成为井复合图层
3.更新CWellInfoEditDlg
	1)更新InitPage：井基本信息，增加‘编辑字段’按钮
2)增加void OnEditCustomTable(wxCommandEvent& event)：响应‘编辑字段’按钮，调用1.CWellEditBasicMoreDlg，可增删表‘d_well_basic_more’的字段
3)更新InitData：井基本信息，读取表‘d_well_basic_more’的内容
4)更新OnOK：井基本信息，写入表‘d_well_basic_more’的内容
4.更新CLayerTreeCtrl
	1)更新DoCreateNewGISLayer：创建测井复合图层时（sde/测井图层），将sde中属性内容写入表‘d_well_basic_more’



---------------------------------------------------------
20180706 李治昊
2018/7/2C 2018/7/6
王义刚/解国军：
1.创建测井复合图层时，解决有时子图层节点还可见的问题。
2.井基础信息表，坐标和海拔数据保留3位小数。
3.井基础信息表，改变字段排列顺序。
4.井数据管理，多井，增加‘选择模板’。
5.井数据管理，多井，增加‘创建剖面’。
6.井数据管理，多井，增加‘选择剖面’（之前打开剖面的历史记录）。
7.井数据管理，单井，增加单井图版节点，增加‘选择模板’。
8.井数据管理，单井，增加单井图版节点，增加‘打开测井曲线’。
9.井轨迹数据，根据测深、倾角、方位角，计算其他数据；对应井分层数据存在，则根据井轨迹计算分层信息的数据。
10.井分层数据，根据对应井轨迹数据，计算分层信息的数据。
11.双击测井图层，井数据管理控件自动切换为新的井对象
徐忠美：
1.解决对数图版更改x、y范围后，坐标轴出错的问题

1.更新CWellImportPage
	1)更新DoImportWell：创建测井复合图层时，解决有时子图层节点还可见的问题
2.更新CLayerTreeCtrl
	1)更新DoCreateNewGISLayer：创建测井复合图层时，解决有时子图层节点还可见的问题
	2)更新OnZoomInFullMap：双击测井图层，井数据管理控件自动切换为新的井对象
	3)更新ActivateItem：双击测井复合图层，井数据管理控件自动切换为新的井对象
3.更新CWellInfoEditDlg
1)更新InitData：井基础信息表，坐标和海拔数据保留3位小数；井基础信息表，改变字段排列顺序
4.更新CWellPickProfileSettingDlg（连井剖面设置对话框）
1)更新void SetBoreIds(const std::map<long,long> &boreid_map, bool is_load = true, long practiceIdx = -1)：增加参数long practiceIdx，默认设置practiceIdx对应的配置
2)更新void LoadProperty(long practiceId, long recordId)：处理practiceIdx存在，recordId不存在的情况，此时需要读取连井剖面历史记录
	3)增加成员变量int m_classid：存储当前图层的classid
4)更新SaveProperty：将int m_classid写入数据库
5.更新CWellPickProfilePracticeDlg（连井剖面历史记录对话框）
1)增加成员变量int m_classid：存储当前图层的classid；std::string m_boreIds，当前记录对应的一组井名称
2)更新InsertRows：调用CAnyLogTrackSection::LoadCrossSection，读取连井剖面历史记录时，传入参数int m_classid
3)更新ResetRecords：为1)m_boreIds赋值，为当前记录对应的一组井名称
6.更新CWorkMapCanvas（井数据管理，封装打开测井曲线图版的功能）
1)增加void OpenWellCurves(CAnyLogLayer *wellhook, long cross_section_practice_id = -1)：打开wellhook对应的测井曲线图版；cross_section_practice_id为连井剖面历史记录id，存在时，CWellPickProfileSettingDlg默认设置practiceIdx对应的配置；根据选择模板（单井/多井），打开测井曲线
2)增加成员变量long m_log_template_practiceIdx_profile\long m_log_template_recordId_profile（多井对应模板id）； long m_log_template_practiceIdx_well\long m_log_template_recordId_well（单井对应模板id）
	3)更新OnLButtonUp：根据选择模板（单井/多井），打开测井曲线
	4)更新OnLButtonDblClick：根据选择模板（单井/多井），打开测井曲线
7.更新CWellDataManagementTreeCtrl
1)更新DoLoadTreeItems：井数据管理，单井，增加节点单井图版 -‘选择模板’；单井图版 -‘打开测井曲线’
2)更新DoAction：多井，响应‘选择模板’、‘创建剖面’、‘选择剖面’；单井，响应‘选择模板’、‘打开测井曲线’
8.更新CWellInfoEditDlg
1)增加bool CalculateWellPickVariables(CAnyAccessor &accessor, bool is_update, std::map<std::string, int> &field_map = std::map<std::string, int>())：当前编辑表为‘分层’表，计算分层数据
2)增加bool CalculateWellPickVariablesByPath(CAnyAccessor &accessor, std::map<long,int> &boreid_map)：当前编辑表为‘井轨迹’表，计算分层数据
3)增加bool CalculateWellPathVariables(CAnyAccessor &accessor, bool is_update, std::map<std::string, int> &field_map = std::map<std::string, int>())：当前编辑表为‘井轨迹’表，计算井轨迹数据
-----------------------------------------
20180706 wb
1 增加了海外版的单井模拟和油田模拟两个模块

---------------------------------------------------------
20180706 jy
1、	添加属性字段后自动聚焦新增属性行
CSDELayerProfilePage::OnAddField，OnFieldListSelected
2、	设置图层显示比例时若最小比例大于最大比例则给出提示
CSDELayerProfilePage::OnScaleSelected
3、	工区属性持久化CProjectAreaPropertyDlg::InitPage
4、	栅矢转换界面优化CGISRasterVectorLinedlg::InitLayout
5、	自定义岩性符号增加功能：导入索引文件，从文件加载符号记录，导出为索引文件
CVectorSymbolCanvasDlg

---------------------------------------------------------
20180713 李治昊
2018/7/9C 2018/7/13
王义刚/解国军：
1.井数据表编辑，删除数据，可通过shift选择范围。
2.井数据表编辑，删除数据，可使用快捷键‘Delete’。
3.井表格数据编辑，删除数据，可通过shift选择范围，删除多行。
4.井表格数据编辑，删除数据，可使用快捷键‘Delete’。
5.井基础数据，改变坐标数据后，及时刷新井位。
6.井基础数据的垂深，用户指定（不通过测井数据底部深度改变）
7.导入测井曲线时，可选择覆盖/追加。
8.通过文件导入的分层，在分层表中也可查看。
9.隐藏道后，不再全图显示，保持道大小、位置不变。
10.导入分层数据/解释数据，覆盖之前导入的对应道。
11.测井数据关联数据库中井轨迹数据。
12.测井图版放大后，解决拖动曲线后，图又缩小为原来大小的问题。
13.测井图层等值线绘制，分层选择按深度从小到大排列
14.测井图层存在，导入las/lgcreport等文件，更新内存中井的无效值，防止导入曲线无效值显示不正确的问题。
15.测井图层存在，导入las/lgcreport等文件，不添加坐标无效的井位
16.分层表，增加断层信息输入，例如‘断点深度’、‘断距’、‘比较井’字段
17.井基础数据表，变量默认数值为空（不为0）
18.测井图层等值线绘制，井基础数据表变量数值为空时，不参与绘制

1.更新CLightGrid
	1)增加bool IsRowSelected()：行是否被选中
	2)增加wxArrayInt GetSelectedRows1：获取选中的行，修正wxGrid不能获取shift选择的范围
	3)增加void DoRemoveRows1()：删除选中的行
2.更新CWellInfoEditDlg（井数据表）
	1)更新OnRemoveItem：调用DoRemoveRows1，删除选中的行
	2)增加void OnKeyDown(wxKeyEvent& event)：快捷键‘Delete’，删除选中的行
	3)更新OnOK：井基础数据，改变坐标数据后，及时刷新井位
4)更新CalculateWellPickVariables：分层表，增加断层信息输入，例如‘断点深度’、‘断距’、‘比较井’字段
5)更新InitData：井基础数据表，如遇非法数值，在表格中不填写数据
6)更新OnOK：井基础数据表，如表格中遇空值，则对应变量处理为非法数值
3.更新CWellTableDataDlg（井表格数据）
1)更新OnRemoveItem：调用DoRemoveRows1，删除选中的行
	2)增加void OnKeyDown(wxKeyEvent& event)：快捷键‘Delete’，删除选中的行
4.更新CWellPositionCurveImportDlg
	1)更新InitPage：增加‘曲线数据覆盖’的控件
2)更新DoImportCurves：导入曲线时，不设置井属性的TVD；调用CWorkWellProfileCanvas:: LoadWellComponents，处理覆盖曲线数据的情况
5.更新CWorkWellProfileCanvas
1)更新static CAnyView *LoadWellComponents(CAnyLogLayer *hook, const std::vector<std::string> &wellnames = std::vector<std::string>(),\
const std::map<std::string,int> &overwite_curve_map = std::map<std::string,int>())：增加参数overwite_curve_map，待覆盖的曲线名称；不加载待覆盖的曲线
	2)更新OnSave：保存时，存储分层道内容到分层表
	3)更新OnCurveShownStatus：隐藏道后，不再全图显示，保持道大小、位置不变
	4)更新OnMouseMove：测井图版放大后，解决拖动曲线后，图又缩小为原来大小的问题
6.更新CLayerTreeCtrl
1)更新WellFunction：
a)导入分层数据/解释数据，调用CWorkWellProfileCanvas:: LoadWellComponents，覆盖之前导入的对应道
b)测井图层等值线绘制，分层选择按深度从小到大排列
c)井基础数据等值线绘制，变量数值为空时，不参与绘制

7.更新CWorkMapCanvas
	1)更新OnLButtonDblClick：测井数据关联数据库中井轨迹数据
2)更新OnLButtonUp：测井数据关联数据库中井轨迹数据
3)更新OpenWellCurves：测井数据关联数据库中井轨迹数据
8.更新CWellImportPage
1)更新DoImportWell：
a)测井图层存在，导入las/lgcreport等文件，更新无效值，防止导入曲线无效值显示不正确的问题；
		b)测井图层存在，导入las/lgcreport等文件，不添加坐标无效的井位
---------------------------------
20180713 wb
1 增加了海外版自动生成核查表grid的功能
2 修改了体积法底层的计算公式 界面翻译 和因子。
3 修改了杨提交的发现过程的界面修改错误。

---------------------------------------------------------
201807013 jy
1、	点图层自定义符号，从文件加载
CAnySdeGeometryLayer::DoRenderCustomSymbol
CSDELayerProfilePage ::OnSymbolShapeSelected，InitSymbolStyleChoice
CLayerTreeCtrl::ActivateItem
2、	矢量图层增加裁剪功能
增加CAnySdeGeometryLayer::DoSetBlankArea，DoRenderBlankArea
修改CLayerTreeCtrl::OnContourBlank，CWorkMapCanvas::OnLButtonDblClick

---------------------------------------------------------
20180720 李治昊
2018/7/16C 2018/7/20
王义刚/解国军：
1.多井多文件加载测井曲线，添加进度条
2.修复部分待覆盖曲线数据没有覆盖的问题
3.井斜数据，解决点击‘应用’后，系统长时间不响应的问题
4.bug8622，岩性道设置岩性段，不再检查是否超出深度范围。
5.bug8623，分层道/文本道，层段信息通过顶/底深控制（原先通过厚度控制）
6.井各种信息，读取数据时，按井名排序
7.井分层信息，调整列序，使得top/base的md/tvd/tvdss连续显示
8.解释成果绘制等值线，加快模块启动速度，解决成果存在却提示‘解释成果’不存在的问题
9.分析化验数据统计，加快模块启动速度
10.解释结果统计，加快模块启动速度，解决成果存在却提示‘解释成果’不存在的问题
11.测井曲线统计，加快模块启动速度：先选择井（可通过查找快速定位井名），再统计曲线
12.井数据管理，单井图版，可通过查找快速定位井名
13.井数据管理，增加各井节点，便于用户直观查看那些数据没有加载

1.更新CWellImportPage
	1)更新DoImportWell：导入井及曲线时，添加进度条
2.更新CWellPositionCurveImportDlg
	1)更新OnOK：导入测井曲线时，添加进度条
	2)更新DoImportCurves：修复部分待覆盖曲线数据没有覆盖的问题
3.更新CWellInfoEditDlg
	1)更新SaveUpdatedRecords：数据库插入数据，采用BatchInsert机制，减少大数据量插入时间
	2)更新SaveInsertedRecords：数据库插入数据，采用BatchInsert机制，减少大数据量插入时间
3)更新LoadTableFields：井各种信息，读取数据时，按井名排序；井分层信息，调整列序，使得top/base的md/tvd/tvdss连续显示
4)更新CWellInfoEditDlg(wxWindow *parent, int type, AnyBridge::CAnyLogLayer *hook, const std::string &tablename, const std::string &title, int well_order = -1, long bore_id = -1)：增加int well_order = -1, long bore_id = -1
5)增加成员变量int m_well_order（当前井序号）、long m_bore_id（当前井眼id）
6)更新InitData：井基础信息表，当前井存在时，只读取当前井的信息
7)更新LoadTableFields：井的各种信息表，当前井存在时，只读取当前井的信息
8)更新SaveUpdatedRecords：井的各种信息表，当前井存在时，只保存当前井的信息
9)更新SaveInsertedRecords：井的各种信息表，当前井存在时，只保存当前井的信息
4.更新CWellLogLithRasterSettingDlg，bug8622，岩性道设置岩性段，不再检查是否超出深度范围
	1)更新OnCellChanged：新建岩性，不再检查是否超出深度范围
5.更新CWellLogPickSettingDlg，bug8623，分层道/文本道，层段信息通过顶/底深控制（原先通过厚度控制）
	1)更新InitPage：增加输入底深控件；隐藏深度控件
	2)更新InitData：设置底深到对应控件
	3)更新IsDepthLagValid：检查顶底深设置是否合法
	4)更新GetWellPick：设置底深到CAnyLogPickTrack::WellPick结构体中
6.更新CWorkWellProfileCanvas
	1)更新OnSave：保存时，存储解释道结果内容到解释结果表
2)更新static CAnyView *LoadWellComponents(CAnyLogLayer *hook, const std::vector<std::string> &wellnames = std::vector<std::string>(),const std::map<std::string,int> &overwite_curve_map = std::map<std::string,int>(),bool is_progrss_show = false)：增加参数bool is_progrss_show，是否显示进度条
7.更新CLayerTreeCtrl
1)更新bool CLayerTreeCtrl::WellFunction(int id, CAnyLogLayer *hook, bool is_composite, CGeoRect<double> &layerextent, int classid, int layer_order, const wxString &labelname, int well_order = -1, long bore_id = -1)：返回类型为bool类型，增加参数int well_order（当前井序号）, long bore_id（当前井的井眼id）
a)解释成果绘制等值线，解决成果存在却提示‘解释成果’不存在的问题；
b)分析化验数据统计，加快模块启动速度；
c)解释结果统计，加快模块启动速度，解决成果存在却提示‘解释成果’不存在的问题;
d)测井曲线统计，加快模块启动速度：先选择井，再统计曲线
e)well_order不为-1，直接删除well_order对应的井数据/井曲线
8.更新CWellLogInterpretationStatDlg
1)更新构造函数CWellLogInterpretationStatDlg(wxWindow *parent, CAnyLogTrackSection *hook, std::map<std::string,CAnyLogTrackSection::WellPickProfileMap> &wppMap,		std::map<std::string,std::map<std::string,CAnyLogTrackSection::WellPickProfileMap>> &interpretation_wppMap, std::vector<AnyPetro::CAccumulationElement *> &pick_elements = std::vector<AnyPetro::CAccumulationElement *>())：增加参数std::vector<AnyPetro::CAccumulationElement *> &pick_elements，传入分层体系
2)更新InitGridData：不存在分层时，不添加井到表格中
9.更新CMyMultiChoiceDlg
	1)更新InitLayout：增加‘搜索’输入框
	2)增加void OnSearch(wxCommandEvent &event)：搜索输入框中的内容，快速定位
10.增加CMySingleChoiceDlg，带搜索功能的单选输入框
11.更新CWellDataManagementTreeCtrl
	1)更新GetBoreIdMap：单井图版，调用DoLoadTreeItems，根据图层中的井，添加井节点
2)更新DoLoadTreeItems：根据图层中的井，添加井节点；采用多线程读取井表数据，加快读取速度
	3)增加成员变量std::map<long, wxTreeItemId> m_treeid_treeitem_map：树节点id-树节点map
4)增加void ResetItemImage(long bore_id, const std::string &tablename, const std::vector<long> &treeids, const std::vector<int> &images)：根据数据表是否包含记录，设置节点图标
5)更新DoAction：响应每口井节点；执行功能后，调用ResetItemImage，根据数据表是否包含记录，设置节点图标
	6)增加struct LoadWellRecordThreadParameter：读取井记录参数
	{
		int m_from;
		int m_to;
		//variables from outside
		std::map<long, std::map<std::string,int>> &m_well_boreid_tablerecords_map;
	};
7)增加void LoadWellRecordThreadFunc(LoadWellRecordThreadParameter &parameter)：多线程读取井记录

---------------------------------------------------------
20180720 jy
1、	矢量图层裁剪功能显示裁剪区域边界线
修改CAnySdeGeometryLayer::DoSetBlankArea，DoRenderBlankArea
2、	页面模式增加标题文字，可设置字体，支持鼠标移动位置
（1）	CAnyPageViewHook类：结构体PageLayout中增加标题文字、位置、样式参数；OnPaint绘制标题；MouseDown、MouseMove、MouseUp增加移动标题事件处理。
（2）	CLayoutModeSettingDlg增加标题设置界面
（3）	CWorkMapCanvas::OnLButtonUp增加移动标题事件处理。
（4）	增加CLabelStyleSettingDlg类进行字体设置
---------------------------------------------------------------
20180720 wb
1 清理了区带版的问题
2 增加了海外版的自动读写核查表功能
3 增加了海外版的敏感性分析功能

---------------------------------------------------------
20180727 李治昊
2018/7/23C 2018/7/27
王义刚/解国军：
1.概率图版，x轴范围最大值默认为P1对应的数值
2.概率图版，x/y轴取整显示（100，200…）
3.Probit图版，样本点绘制不超出范围
4.Probit图版，坐标刻度P00.1改为P0.1
5.井数据管理，响应测井数据导出
6.井数据管理，针对每口井，增加数据导出（包括井基本信息/测井数据…）
7.井解释成果统计，计算时增加进度条
8.测井曲线网格设置，可分别设置大小格的线型/颜色/线宽
9.井各种信息，读取数据时，按井名和深度排序
10.井分层信息等值线，层位选择可选择分层体系的所有节点
11.井分层信息等值线，处理当前井分层不存在的情况（找上/下同级别的分层）
12.解决某些情况无法打开测井曲线的问题
---------------------------------------------------------
20180727 jy
1、岩性符号
（1）读取resform岩性符号文件“litho_manager.xml”
（2）绘制岩性主名符号
（3）保存为自定义岩性符号索引文件，可按索引查找符号
---------------------------------------------------------------
20180727 wb
1 重新定义了海外版数据表类型，增加了矩阵分析功能
2 修改了图版的显示
3 重构了双孔数据加载和参数设置界面。重写了井图层获取方法（须测试）。

---------------------------------------------------------
20180803 李治昊
2018/7/30C 2018/8/3
王义刚/解国军：
1.井各种信息表，快捷键ctrl+delete，删除选中表格中的内容
2.单井导入测井曲线，则固定导入该井，不能进行选择
3.待选测井曲线名称按字母排序；待选曲线名称匹配策略，首先全字匹配，再次部分匹配
4.单井导入测井曲线，指定当前待导入的井，导入数据后自动关闭窗口
5.删除测井曲线数据时，不删除分层等数据
6.加载测井曲线数据模块，增加‘区分大小写’选项
7.打开测井曲线，不存在分层道时，从分层表中读取数据，创建分层道
8.输出井基本数据，将非法值输出为空值
9.井基本数据，通过打开文件导入井数据（可更新/覆盖数据）
10.测井等值线输出，插值范围是所有井的范围（不是存在数据井的范围）
11.测井等值线输出，插值数据过少时，提示用户不能计算，防止死机
12.连井剖面，曲线道深度范围以分层信息为准
13.创建连井剖面，默认为各分层设置不同颜色

王义刚：
1.海外项目评价，敏感性分析，处理响应值为负的情况
---------------------------------------------------------
20180803 jy
（1）	解析和绘制resform岩性符号文件中包含的所有基本图形
（2）	读取和解析岩性符号颜色
（3）	读取和绘制岩性含油性、含有物、岩性前缀、构造符号

---------------------------------------------------------
20180810 李治昊
2018/7/30C 2018/8/3
王义刚/解国军：
1.测井曲线响应值等值线绘制，增加顶/底深响应值输出
2.连井剖面，层位选择按深度排序
3.地层信息等值线输出，直井的视厚度/垂直厚度为测量厚度；净厚度暂时不计算
4.测井分层道最顶部地层的顶深为补心高
5.缩短井数据管理对话框
6.等值线边框tick为1的情况，增加tick数量
7.等值线待插值样本点z值均相同，不用插值，直接画图
8.等值线色标与标注，解决某些情况下标注与色标远离的问题
9.经济评价模块，图版坐标轴刻度取整
10.岩石物理分析，图版坐标轴刻度取整；坐标轴名称用中文
11.等值线数据导入，指定数据起始行
12.工区属性增加测井曲线描述
13.测井曲线等值线输出，如曲线描述存在，则仅加载描述中的曲线，加快模块启动速度
14.单井导入测井曲线，则固定导入该井，‘搜索’按钮也不可用
15.井基本数据，通过打开文件导入井数据（可更新/覆盖数据），解决某些时候属性无法导入的问题

---------------------------------------------------------
201808010 jy
1、	栅格图层地理配准中井图层列表中添加复合井位图层
2、	栅矢转换界面调整
3、	岩性符号各要素组合绘制
4、	resform岩性符号绘制属性读取
5、	自定义岩性符号绘制接口

---------------------------------------------------------
20180817 李治昊
2018/8/13C 2018/8/17
王义刚/解国军：
1.测井图层，曲线物性解释模块，启动时选择井，加快启动速度
2.井数据管理，增加‘更新测井曲线’节点，可查看/编辑测井数据
3.井数据管理，等值线绘制，‘分层信息’改为‘沿层等值线’；‘分层信息Isochore’改为‘层厚等值线’；基本信息z值，‘水下垂深’改为‘完钻海拔’
4.井数据管理，等值线绘制，去掉‘埋藏史’节点
5.井数据管理，曲线应用，去掉‘逻辑回归’和‘上载DFS’节点
6.井数据管理，曲线应用，增加‘岩石物理分析’
7.导入井图层时，同时可以导入井属性（如井深/别名等）
王义刚：
1.多层含油气性评价，解决某些情况下提交结果死机的问题
解国军：
1.一维盆地模拟加入相态部分代码
-----------------------------------------------------------------
20180817 wb
1 增加了海外版图表创建和修改模块
2 根据海外新需求修改了图表生成算法,须升级数据库（待完善后下周可推出较为完整的海外版）
3 修改了体积法和小面元底层计算公式
4 修改了双孔模块的数据加载部分
5 其他一些图形和缺陷等

---------------------------------------------------------
201808017 jy
1、	圈闭管理版：第一次点击对象时不激活关联图层，需双击图层激活。
2、	导入数据对话框默认绑定评价对象设置为评价单元树中当前选中对象。
3、	自定义岩性符号绘制接口
4、	井图层岩性道绘制和保存岩性符号

---------------------------------------------------------
201808024 jy
1、	自定义岩性符号：
（1）	含油性符号绘制
（2）	界面初始值设置
（3）	文件存取
（4）	多边形图层填充
2、	等值线生成：
（1）	修正矢量图层转等值线获取样本点错误


---------------------------------------------------------
20180824 李治昊
2018/8/20C 2018/8/24
王义刚/解国军：
1.井数据管理，添加井后，刷新井节点，及时显示新加入的井
2.井属性，勾选井轨迹后，解决不显示库表中井轨迹的问题
3.井数据管理，井节点，增加菜单‘删除井’
4.井数据管理，通过勾选，显示/不显示井位
5.增加三维盆地模拟岩相的结构定义
6.盆地模拟版，解决导入zmap数据死机的问题
---------------------------------------------------------
20180824 wb
2018/8/20C 2018/8/24

1 更新了海外版图表创建和修改模块
2 根据海外新需求修改了图表生成算法,须升级数据库
3 其他一些图形和缺陷等

---------------------------------------------------------
201808031 jy
1、自定义岩性符号“保存”到默认文件路径
2、修正等值线追踪的交叉问题

---------------------------------------------------------
20180906 jy
多边形岩性符号填充效果改进，并持久化。

---------------------------------------------------------
20180907 李治昊
2018/8/27C 2018/8/31
王义刚/解国军：
1.井数据管理，解决分层道数据不显示的问题
王义刚：
1.海外评价版，敏感性分析，加入第二组数据
解国军：
1.三维盆地模拟，绑定岩相数据，底层可调用之


2018/9/3C 2018/9/7
王义刚/解国军：
1.井数据管理，多井，“删除井数据”作为单独节点出现
2.井数据管理，单井，去除“删除井数据”节点（用右键-删除井，替代）
3.井斜数据更新后，井图层的井轨迹也需要更新
4.井数据管理，单井，右键菜单增加‘添加井’，通过写数据库表直接建立井
5.井数据管理，多井，‘导入井数据’增加‘格式’节点，通过写数据库表直接建立井
--------------------------------------------------
2018/9/6 wb
1 增加了海外版的经济风险模块 和工程风险评价（待讨论）
2 修改校对了体积法和非常规的底层翻译
3 修改了油藏规模序列的底层方法
4 写改了圈闭相关问题
5 增加了圈闭评价结果导入模块（未全部完成）

---------------------------------------------------------
201809014 jy
1、	圈闭管理版：
（1）	按固定文件夹模板批量导入油田成果数据
（2）	修复双击查看图片时的错误提示
2、等值线追踪遇空值停止
3、矢量图层转等值线：去掉栅格分析法，默认采用样本数据插值方法
--------------------------------------------------------------
20180914 wb
1 增加了海外经济定量评价的代码（待讨论）
  增加了综合打分的功能
  修改了工程定量评价的计算方法
2 修改了体积法参数获取的方法
3 圈闭管理增加了直接导入评价数据数据表的方法（待测试）
4 增加了圈闭小面元的框架

---------------------------------------------------------
201809021 jy
1、解决等于样本数据最大值的等值线没有被追踪的问题。
2、当遇到NAN值时停止画线，只保留NAN值之前的线数据，解决遇到断层时等值线缺失问题；
3、曲线光滑方法改为贝塞尔方法；
4、网格数据直接追踪时，当网格数量过大时，绘制等值线前去掉部分追踪点，再做光滑处理，解决等值线不光滑的问题；
--------------------------------------------------------
20180921 wb
1 底层增了新的体积法计算相关结构定义（待扩展）
2 增加了新小面元体积法界面和操作逻辑
3 与海外讨论，海外报表修改了工程和财税相关内容。（npv财税部分需LZH帮助）
4 修改了王提出的报表导入格式修改
5 修改了部分徐提出的要求和建议

---------------------------------------------------------
20180930 jy
1、使用多边形图层裁剪等值线图层，满足用户自定义等值线图边界的需求。（徐忠美等值线数据）
2、修改等值线追踪错误，避免了某些情况下出现的明显错误的等值线。
3、给克里金插值参数m_same_distance赋值（界面设置值），防止样本点较密集的情况下被过滤掉太多。使得此类型数据的插值效果大大提升。（王义刚线转等值线数据）
4、修复缺陷：当导入图层重名而系统自动修改图层树名称时，图层编辑和打开属性表应以图层树显示名称为准。

------------------------------------
20180930 wb
1 重做了底层小面元的体积法数据结构和算法
2 重做了小面元体积法的界面
3 增加了海外评价版本的时间设置和经济定量评价表格的读写
4 增加了海外评价版本工程部分的时间设置等。

---------------------------------------------------------
20181012 李治昊
2018/10/8C 2018/10/13
王义刚/解国军：
1.井数据管理，删除测井曲线数据时，不删除分层表内容
2.井数据管理，解释数据，增加‘层位/沙层组’字段
3.测井曲线图版，解决某些情况下，分层道数据未加载的情况
4.测井曲线道，增加‘棒状图’模式，用于显示离散数据
5.测井解释数据，读取时处理数值字段为空值的情况
6.海外经济评价，情景树模式，增加考虑成本参数以及汇率/折现率/通货膨胀率参数的变化

---------------------------------------------------------
20181012 jy
1、	属性表缺陷（解国军）
（1）最后一个编辑的单元格值的保存
（2）删除行之后清除高亮行
（3）执行删除、保存等操作后保持在原页面不变
2、 编辑优化：结束编辑按钮后提示对话框增加取消选项
3、 导入断层数据文件（断点数据、断层线数据、断层面数据）（王义刚）
4、等值线优化：等值线属性设置界面增加曲线平滑方法选择和参数设置，并修改数据库保存参数（之前导入的等值线图层无法打开，需重新导入！！）
----------------------------------------------------
20181012 wb
1 修改了海外版分布设置的的方式
2 修改了海外版分布参数的保存读取
3 修改了海外版经济定量评价表格的设置
4 增加了小面元图形交互功能菜单
5 增加了小面元范围选取的判定
6 增加了小面元定值参数分布设置功能
7 重构了底层小面元计算范围的方式
8 修改了底层小面元数据结构和相关变差分析参数的设置
9 修改核查了圈闭管理数据导入相关的问题
------------------------------------
20181011 pc
1.增加draft节点，导入线文件或sde线图层两种方式创建图层；
2.拾取draft图层中的线，配置拾取到的线范围内的岩相；
3.画板直接矩形或多边形拾取，配置拾取范围内的岩相；
4.water/paleo/heatflow/toc/himap可导zmap文件；
5.创建layer时，同步创建horizon和默认值facies map；
6.导入zmap的方式创建facies map；
7.指定默认值的方式创建facies map；
8.读取zmap替换当前facies map的数据；
------------------------------------
20181015 pc
移除assist节点，draft下新增facie map line和fault line两类节点；
添加单一默认岩相的faciemap；
workcubecanvas盆模相关变量移到basintree;
------------------------------------
20181019 pc
基于AOImap多边形配置精化范围；
makemesh建模单独作为一步；
face definition参数底层起作用，并删掉litho name,litho ratio等多余变量；
------------------------------------
20181017 cj
修改facies assessment左侧对应于layer


---------------------------------------------------------
20181019 李治昊
2018/10/15C 2018/10/19
1.增加录井数据的存取
2.井数据录入，可一次存储多个文件到数据库
3.打开测井曲线图版，根据录井数据，自动添加岩性道
4.解决数据库升级后，连井剖面记录无法打开的问题
5.部分测井模块，解决运行后内存占用过大导致死机的问题

1.更新CWellDataManagementTreeCtrl
	1)更新DoLoadTreeItems：增加‘录井数据’节点
	2)更新DoAction：响应‘录井数据’节点的点击
	3)更新LoadWellRecordThreadFunc：在数据库中，读取每口井的‘录井数据’个数
2.更新CWellInfoEditDlg
	1)更新LoadTableFields：读取‘录井数据’
2)增加void LoadWellLoggingRecords(CAnyAccessor &accessor, long boreId, int rows, int &order, int &start_row, wxProgressDialog *progrssdlg)：读取每口井的‘录井数据’
3)更新SaveUpdatedRecords：更新‘录井数据’
4)更新SaveInsertedRecords：保存‘录井数据’；可一次存储多个文件到数据库
5)更新OnOpenFile：导入井数据时，可一次打开多个文件
3.更新CLayerTreeCtrl
1)更新DoRemoveHook_recursion2/DoRemoveHook/OnDeleteWellCurve/WellFunction：处理录井数据表d_well_logging
4.更新CWorkMapCanvas
1)增加bool LoadWellLoggingTrack(long boreid, CAnyLogTrackSection::LogTrack &logtrack, CAnyLogTrackComponent * &tempcomponent)：根据录井数据，添加岩性道
2)更新OnLButtonUp：调用1)LoadWellLoggingTrack，根据录井数据，添加岩性道
3)更新OnLButtonDblClick：调用1)LoadWellLoggingTrack，根据录井数据，添加岩性道
4)更新OpenWellCurves：调用1)LoadWellLoggingTrack，根据录井数据，添加岩性道
5.更新CVectorSymbolCanvasDlg
1)更新CVectorSymbolCanvasDlg(wxWindow *parent, const wxString &title, int type=LithoSymbol, int width = 1000, int height = 200, bool is_dummy_dlg = false)：增加bool is_dummy_dlg，表示该窗口是否作为功能类，不显示
	2)更新ImportDefaultLithoManagerFile：作为功能类，不弹出错误提示
3)更新ReadIndexFile：作为功能类，不弹出错误提示
6.更新CAssessorFrame
1)更新MergeTable：对于"boreids"字段，更新代码，解决数据库升级后，连井剖面记录无法打开的问题
--------------------------------
20181019 wb
1 修改了徐提出的小面元的一些问题
2 增加了小面元页岩气和区带版的对应方法
3 增加了海外评价版的模板分类 编辑 功能等
4 增加了海外评价版的打分规则

---------------------------------------------------------
20181019 jy
1、等值线裁剪空白区域设置为NAN值，包括手动绘制边界和使用多边形图层裁剪。
2、等值线“距离反平方”法增加多项式拟合阶数参数。
3、根据用户自定义的Z值范围设置等值线网格值。
4、等值线右侧颜色图例根据插值后z值范围设置。
5、修正等值线遇异常值出现错误线的缺陷。
6、等值线设置参数给定较合理的默认值：等值线间隔、网格数。
---------------------------------------------------------
20181023 pc
paleo geometry可导等值线；

---------------------------------------------------------
20181024 李治昊
2018/10/22C 2018/10/26
1.井图层，绘制连井剖面线段
2.井数据管理，显示‘连井剖面线段’节点
3.井数据管理，‘连井剖面线段’可显示2D/3D剖面（待验证彭成代码）
4.导入测井曲线，不再限制文件名后缀

---------------------------------------------------------
20181024 景妍
1、	等值线属性设置界面：“距离反平方”法增加多项式拟合阶数参数
2、	等值线图层裁剪后可另存为新图层
3、	新建图层时图层范围默认与所在工区范围一致
4、	等值线图层可在图上用多边形拾取网格后修改网格值

---------------------------------------------------------
20181026 cj

1. 解决toc、hi map未加载时保存face definition死机问题。
2. 增加face definition 提交时检查。
3. face definition toc model、hi model 默认值设为 no set。 
4. lithology value、hi value改为左键弹出菜单。
5. 解决lith editor编辑后新建节点重复问题。
6. 新增生烃动力学 behar数据加载显示
7. 解决age assignme左侧对应layer问题。
8. age assignm中layer和horizon分别对应相应的数据。
---------------------------------------------------------
20181031 pc
增加地震道头全部字节查看，方便道头配字节；
利用上次makemesh结果，不多次makemesh；
AOImap可作为不同地质事件区域划分；

---------------------------------------------------------
20181031 李治昊
2018/10/29C 2018/11/2
王义刚/解国军：
1.井数据管理，双击单井节点，图版中聚焦当前井
2.测井图层，双击井点，井数据管理控件聚焦当前井节点
3.测井图层，岩性道，岩性默认统一靠左显示
4.井数据管理，增加‘查找’菜单，井存在时，聚焦当前井节点
5.测井图层等值线，插值范围按当前显示的井位置确定

---------------------------------------------------------
20181031 景妍
1、	图层树类别节点增加菜单“只显示此图件”
2、	Dxf文件导入：
（1）	读取图层信息，生成对应图层；
（2）	每个文件新建一个树节点，以文件名命名，包含的图层放在该节点下；
（3）	去掉导入界面上的图元类型选择，读取文件中全部数据；
（4）	读文件转换解码类型，解决中文乱码问题；
（5）	“text” （文字）类型的图层直接将属性设置为显示标注文字，不显示点图元；
（6）	“circle”类型的图元读取点坐标的精度提高（默认只读3个点，错误地画成了三角形）；
（7）	“Polyline”类型的图元，使用“是否闭合”参数绘制，解决闭合线缺少最后一条线段问题；
（8）	“vertex”顶点类型，读取“顶点标志”参数，去掉无用顶点，解决产生乱线的问题；

---------------------------------------------------------
20181101 cj
1. 增加behar数据的数据库存储及读取。
2. 修改behar对话框为panel。

---------------------------------------------------------
20181102 李治昊
2018/10/29C 2018/11/2
王义刚/解国军：
1.井数据管理，双击单井节点，图版中聚焦当前井
2.测井图层，双击井点，井数据管理控件聚焦当前井节点
3.测井图层，岩性道，岩性默认统一靠左显示
4.井数据管理，增加‘查找’菜单，井存在时，聚焦当前井节点
5.测井图层等值线，插值范围按当前显示的井位置确定
6.测井图层，井名称处理压盖的情况
7.测井图层导入，增加“存为新类别”选项
8.测井图层，解决第一次导入后图标为“问号”的问题
9.井数据管理，增加属性过滤，选择指定井
10.井数据管理，增加不过滤，显示所有井

---------------------------------------------------------
20181031 景妍
1、读取dxf文件头中的图件地理坐标范围，作为图层范围；
2、读取dxf文件“MTEXT”多行文字图元类型，提取rtf格式中的文字内容和格式信息（正在进行），解决标题、图例、标注等文字不显示的问题；
3、文字标注位置增加“居中”选项；
----------------------------------------------------------
20181102 wb
1 底层增加了海外版对象定义数据结构等，持久化等。
2 修改了海外版菜单 excel直接读取分析模块 修改了蒙特卡罗模拟的数据结构和算法 钻井投资等数据结构和算法及计算界面
3 支持自动持久化和读取功能
4 增加了体积法对应海外版的持久化功能
5 增加了数据库自动初始化
6 修改了数据库表结构和数据字典
7 其他根据交流象形的修改细节
8 增加了类比法的界面框架
---------------------------------------------------------
20181106 pc
层位导入界面可配终止行，点完成后直接出图；

---------------------------------------------------------
20181106 cj
3D segy导入界面调整；
新添对话框复制layertree树节点并控制父节点、本身节点、子节点不能选择。

---------------------------------------------------------
20181108 景妍
1、	resform井位符号文件读取
2、	在点图层符号中增加井位符号
3、	等值线编辑网格值缺陷修改


---------------------------------------------------------
20181108 李治昊
2018/11/5C 2018/11/9
王义刚/解国军：
1.井基本信息，增加“井别”/“井型”等10个字段。
2.井基本信息，导入/更新新增加的“井别”/“井型”等10个字段
3.测井图层等值线，井基本信息，增加“完钻井深”、“垂直井深”、“人工井底深度”选项
4.井数据管理，增加‘空间过滤’，通过面图层与当前井图层范围的交集，确定范围内的井
5.井基本信息，导入/更新时，导入表格列头与待导入字段模糊匹配，自动选择相似度最高的字符串
6.测井图层，双击井点，打开井数据管理控件，并聚焦当前所选井
7.等值线属性，grid控件最大显示500行，防止数据行数过多，打开窗口过慢的问题

---------------------------------------------------------
20181113 pc
复合图层删除；
清理无效图层；
地震数据时深域转换；
地震剖面抽稀；
读文本文件去掉终止行预览；
waterdepth/paleodepth放paleogeometry下面；
修复缺陷：
地震图层关联复合井图层，地震剖面不显示井曲线；
井震标定井旁道不显示；
井震标定井无数据死机；

---------------------------------------------------------
20181114 cj
1. 修复facies definition 提交时校验，及No Set时响应。
2. 修改age assignment中年代[ma]默认为空。
3. facies definition 自动激活图层。
4. 新建water depth\ paleo depth 界面。
5. 修改facies definition 界面为panel。
6. 设置facies definition中kinetics只有在是源岩的条件下需要设置。

---------------------------------------------------------
20181115 景妍
1、	dxf文件Mtext类型的文本提取
2、	导入矢量数据：
（1）	去掉断层类型，增加通用文本文件类型
（2）	设置起始行和结束行
（3）	增加图元分割属性列选择
3、	导入数据范围与工区范围不一致时提示

---------------------------------------------------------
20181115 李治昊
2018/11/12C 2018/11/16
王义刚/解国军：
1.更新字符串相似度算法，解决类似“序号”与“补心海拔”相匹配的问题
2.井数据管理，增加‘已加载数据过滤’，选择加载过数据（井斜/测井数据/分层数据等）的井
3.井数据管理，导入分层数据，字段不全时，也计算gap thickness/tvt/tst等变量
4.井数据管理，导入井斜数据，字段不全时，也计算其他变量
5.井数据管理，导入解释数据后，测井图版自动添加“解释成果”道
6.井数据管理，多井页面，导入测井曲线，增加下级节点（Las/lgcreport，自定义），分别导入las/lgcreport格式，自定义格式测井曲线数据
7.等值线属性，解决行数过多时，属性窗口打开过慢的问题
8.等值线属性，变差分析，第二次打开时，解决sill、range、nugget无法恢复之前设置值的问题
9.井图层等值线，选择数据后，用户配置属性后，再生成等值线
10.井数据管理，多井页面，创建连井剖面，默认选择为当前显示的井
11.井数据管理，多井页面，连井剖面节点，右键菜单增加‘删除’，直接删除所选剖面

---------------------------------------------------------
20181116 景妍
1、	dxf文件导入界面增加文件编码方式的选择，处理中文编码不一致问题
2、	修改点和多边形关系判断函数：CVectOP<T>::Point2Polygon，
处理点在多边形的水平边和竖直边的情况，修复等值线裁剪后右边界和上边界网格仍有数值的缺陷；
3、	导入数据范围默认为所选工区范围，修复范围为0的缺陷

---------------------------------------------------------
20181122 李治昊

2018/11/19C 2018/11/23
王义刚/解国军：
1.工区属性窗口，去除“曲线名称”输入控件
2.井数据管理，连井剖面节点，增加菜单“重命名”，将当前剖面重新命名
3.井数据管理，连井剖面节点，增加菜单“另存为”，将当前剖面保存为新的剖面
4.井数据管理，连井剖面节点，增加菜单“删除”，删除当前剖面
5.导入las曲线，多线程处理，加快速度
6.图层目录，菜单“图层管理”，只保留‘选择对象关联的图层’的功能
7.图层目录，菜单“激活多个图层”，采用目录树结构
8.图层目录，菜单“删除多个图层”，采用目录树结构
9.测井曲线图版，连井剖面，不存在自定义模板时，增加默认模板（显示SP,GR,分层，深度，Rd,Rs道）

---------------------------------------------------------
20181122 cj
1. 修改facedefinition界面no set设置。
2. 岩性编辑新建和删除岩性时都存入数据库。
3. 新建界面sedimentwaterinterface。
4. waterdepth/paleodepth数据持久化及读取。

---------------------------------------------------------
20181123 景妍
1、	优化导入矢量数据界面：更改文件类型排列方式、自定义文件类型名称
2、	优化导入自定义文本文件界面：增加起始行终止行、增加图层类型选择、允许更多的文件类型。
3、	工区属性设置“投影”按钮的激活
4、	工区范围给默认值（不为0）
5、	导入数据与工区范围不符仅给出提示，数据正常导入
6、	GeoMap数据导入异常处理
7、	GeoMap文字图层直接显示文字标注
8、	等值线导入时,设置等值线间隔默认值不能为0
9、	等值线裁剪后边缘网格填充方法改进，使不出现锯齿状
10、	矢量图层输出数据与属性表顺序一致（按图元id排序）
11、	等值线使用多边形图层裁剪后另存为新图层保留裁剪结果
12、	同时创建多个GIS图层时只在全部完成后刷新一次，提高效率。
13、	Dxf文件导入后图层树目录位置修正
-----------------------------------------------------------------
20181123 wb
1 增加了小面元体积法的页岩油新方法
2 底层增加了新的打分模板和页岩油方法
3 修改相关的海外部分功能
4 增加了海外部分相关的新的element对象结构

---------------------------------------------------------
20181129 李治昊

2018/11/26C 2018/11/30
王义刚/解国军：
1.井数据管理，导入曲线后，刷新含有曲线的井，使得已加载数据过滤可用
2.创建连井剖面，自动提交历史记录，在井数据管理页面增加新剖面节点
3.增加连井剖面‘显示设置’对话框
4.测井连井剖面图版，解决显示部分道时，连井剖面显示不正确的问题
5.图层管理，处理‘复合图层’的情况
6.图层管理，改为无模式对话框，可同时进行其他操作
7.等值线导入，增加起始、结束行设置；grid中显示最后50行的内容，便于用户观察
8.等值线色标标注，按一定间隔取整显示

---------------------------------------------------------
20181129 景妍
1、	GeoMap文件导入：
（1）	增加“GmAll”类型文件的导入：使用文件名新建目录，每种数据类型产生一个图层。
（2）	增加“GmCircle”数据类型的导入。
2、	等值线修改网格值缺陷修复：
（1）	修改后裁剪边缘平滑失效问题。
（2）	修改网格值死机问题。
（3）	另存为新图层后修改的网格值无法保存问题。
3、	等值线导入界面增加GeoMap等值线文件类型。
4、	工区属性坐标类型文字去掉边框。
5、	CGM导入界面去掉转换为SHP文件路径和提示对话框。
6、	Mapgis\Doublefox导入界面去掉与转换为SHP文件相关的界面。

---------------------------------------------------------
20181129 cj

1. 修改数据库升级弹出对话框提示。
2. SWIT数据持久化及读取。
3. 构造解释界面优化
---------------------------------------------------------
20181130 李治昊
2018/11/26C 2018/11/30
王义刚/解国军：
1.井数据管理，导入曲线后，刷新含有曲线的井，使得已加载数据过滤可用
2.创建连井剖面，自动提交历史记录，在井数据管理页面增加新剖面节点
3.增加连井剖面‘显示设置’对话框
4.测井连井剖面图版，解决显示部分道时，连井剖面显示不正确的问题
5.图层管理，处理‘复合图层’的情况
6.图层管理，改为无模式对话框，可同时进行其他操作
7.等值线导入，增加起始、结束行设置；grid中显示最后50行的内容，便于用户观察
8.等值线色标标注，按一定间隔取整显示
9.等值线导入，自动调整行头宽度，解决行数过多时，行头无法完全显示当前行数的问题
10.等值线导入，协克里金z列默认为z列，解决最后一列数据不完整导致报错的问题

吴博
1.海外评价版，敏感性分析，龙卷风图，不绘制y轴ticks（交会图，增加x、y轴ticks是否绘制的选项）

---------------------------------------------------------
20181130 景妍
7、	修复通用文本文件导入死机缺陷（含油面积数据）
8、	等值线数据导入界面地图范围：
（1）	若样本数据范围与工区范围有交集，则默认给定工区范围；否则默认给定样本数据范围。
（2）	若样本数据范围与工区范围无交集，则在确定时给出提示。
9、	工区树节点增加菜单“显示工区范围”，地图聚焦到工区范围。
10、	解决CGM、Mapgis数据导入时提示“缺少.shx文件”缺陷


---------------------------------------------------------
20181206 李治昊
2018/12/3C 2018/12/7
王义刚/解国军：
1.导入井图层后，根据井型默认设置子图
2.解决点图层导入死机的问题

---------------------------------------------------------
20181206 cj
1. 构造解释界面优化
2. 修复facies definition中kinetics只有在源岩条件下才需要设置。
3. LithEditor编辑后自动保存。
4. 修复facies definition中kinetcs选择不敏感问题。

---------------------------------------------------------
20181206 景妍
1、	通用文本文件导入界面增加文本框显示前后100行数据
2、	新建数据库时第一个树节点给定默认工区范围
3、	矢量数据导入时去掉地图范围设置界面，直接使用数据范围
4、	等值线导入GeoMap文件时若不是等值线文件给出提示
5、	解决等值线裁剪后出现中间部位有中断的缺陷
6、	解决创建新图层死机缺陷
7、	解决创建新图层有时坐标系没有转换成功缺陷
8、	双狐点线混合txt文件读取（未全部改完）
-------------------------------------------------------
20181207 wb
1 修复了海外版的一席位缺陷和模板
2 增加了页岩气版勘探目标的小面元体积法新方法
3 增加了小面元计算参数的快速保存读取，含底层接口
4 清理了王和徐提出的缺陷

-------------------------------------------------------
20181214 cj
1. 放开facies definition 限制。
2. 解决Lith Editor编辑后数据没保存问题。
3. 修复facies definition提交检查问题。


-------------------------------------------------------
20181214 李治昊
2018/12/10C 2018/12/14
王义刚/解国军：
1.井图层，创建库表，用于存储自身数据
2.井图层，连井剖面线按用户选择轨迹显示

---------------------------------------------------------
20181214 景妍
1、	双狐点线混合txt文件读取
2、	双狐txt文件图元属性信息读取和存储
3、	增加.dfd类型的双狐文件的导入：
（1）	图层名称读取，并处理特殊字符（否则死机）
（2）	点、线图元读取
（3）	属性信息读取
（4）	合并相同名称的图层
（5）	直接生成sde图层，去掉转换为shp文件过程
（6）	包含多个图层时新建树节点
（7）	增加创建图层进度条
-------------------------------------------------------------------
20181214 wb
1 增加了资源量计算趋势法模块的重构版
2 修改了油藏规模序列法的底层方法
3 修复了徐和王关于页岩油气的问题
4 增加了海外版老油田模拟的方法参数
5 修改了海外版的单位换算


-------------------------------------------------------
20181220 李治昊
2018/12/17C 2018/12/21
王义刚/解国军：
1.采用ANYTOKENIZER类，读取文本文件
2.解决导入测井图层后，主界面失去焦点的问题
3.解决三维地震剖面井顺序显示不正确的问题
4.显示连井剖面不再一定需要分层数据
5.三维显示可查看多个连井剖面
6.等值线属性，直接设置网格模式，不允许更改行列数、范围
7.等值线增加色标体系，增加对应色标数值（小、中、大）
8.井数据管理，筛选井时，对SDE图层也起作用

---------------------------------------------------------
20181220 景妍
1、	Mapgis\双狐文件导入去掉转换为shp过程
2、	自定义文件导入界面数据行前增加序号，结束行改为倒数
3、	Geomap数据读取去掉GmPetroArea类型
4、	SDE图层裁剪后刷新地图
5、	图层右键菜单修改
6、	等值线图上修改网格值后网格数据页实时更新
7、	等值线裁剪边界保存和绘制

-------------------------------------------------------
20181220 李治昊
2018/12/17C 2018/12/21
王义刚/解国军：
1.采用ANYTOKENIZER类，读取文本文件
2.解决导入测井图层后，主界面失去焦点的问题
3.解决三维地震剖面井顺序显示不正确的问题
4.显示连井剖面不再一定需要分层数据
5.三维显示可查看多个连井剖面
6.等值线属性，直接设置网格模式，不允许更改行列数、范围
7.等值线增加色标体系，增加对应色标数值（小、中、大）
8.井数据管理，筛选井时，对SDE图层也起作用
9.更新地图操作菜单，“连井剖面”与“拾取”分开；“复制”与“计算”分开
10.测井SDE图层激活后，图元显示状态与测井图层井显示状态一致
11.测井SDE图层，增加分析功能
12.泰森多边形，处理当前图层为复合图层的情况
13.参数统计，处理当前图层为复合图层的情况
14.雷达图，处理当前图层为复合图层的情况
15.三元图，处理当前图层为复合图层的情况
16.坐标转换，处理当前图层为复合图层的情况
17.转SHP，处理当前图层为复合图层的情况
18.缓冲分析，处理当前图层为复合图层的情况
19.叠合分析-交集，处理当前图层为复合图层的情况

---------------------------------------------------------
20181220 cj
1. 修改layerselectiontreectr适应等值线图层选择。
2. 修改facies definition新增项限制放开问题。
3. 修改岩性编辑百分比求和检查问题。


-------------------------------------------------------
20181227 李治昊
2018/12/24C 2018/12/28
王义刚/解国军：
1.SDE图层属性，可视化设置，设置上下限格式（字符串、浮点数、整数）
2.图层管理，解决二级目录下的图层不可被过滤的问题
3.等值线导入，可一次导入多个文件
4.等值线图层，鼠标移动时，显示z值

-------------------------------------------------------
20181229 cj
1. 新增三维显示结果树
2. 新增heatflow页面

---------------------------------------------------------
20190104 景妍
1、	线图层分析功能增加“转面图层”
2、	面图层分析功能增加“转线图层”
3、	矢量图层分析功能增加“使用最小外包矩形过滤”

-------------------------------------------------------
20180104 cj
1. 三维显示结果树调整
2. 修改岩性编辑串列问题


-------------------------------------------------------
20190111李治昊
2019/1/7C 2019/1/11
王义刚/解国军：
1.测井曲线图版，刚打开时，岩性道显示所有岩性
2.井数据管理，导入分层/井斜/试油等信息，及时刷新数据，使得下次过滤已加载数据得到结果准确
3.导入图层，设置当前图层对应对象，下次打开时该模块，默认仍然选择该对象

吴博
1.概率图版，获取最小值x时，当前概率模型为normal、exponential、extreme value、logistic时，单独处理样本值小于0的情况

-------------------------------------------------------
20190125李治昊
2019/1/21C 2019/1/25
王义刚/解国军：
1.测井数据导入，井名列处理单元格合并的情况
2.小波分析模块，产生的测井道，可以加入到激活该模块的测井曲线图版
3.井数据管理，标注当前显示的井数量
4.测井图版，连井剖面线增加名称显示
5.一维盆地模拟，非超压情况下，解决某些年代部分孔隙度值一直为0的情况

---------------------------------------------------------
20190125 景妍
1、	地震数据导入时若为第一个图层，则工区范围自动设置为该图层范围
2、	分析工具产生的新图层（矢量图层）放在图层树当前图层的下方
3、	等值线数据导入时，根据网格数设置缺省抽稀参数
4、	泰森多边形产生的新图层名称前缀与原图层一致
5、	图层单独进行坐标转换时，不自动转换为工区坐标系统

---------------------------------------------------------
20190130 景妍
1、	坐标转换考虑多线和多多边形的处理
2、	地图右键操作增加“前一比例”“后一比例”


-------------------------------------------------------
20190215李治昊
1.z值相同等值线图，解决更新网格数据后，插值颜色不变化的问题

---------------------------------------------------------
20190222 景妍
1、	处理创建矢量图层时的非法图层名：提示并给定一个默认图层名。
2、	调整等值线图层编辑网格值操作流程：
（1）	图层右键菜单保留“查看网格值”，弹出网格值数据页；
（2）	地图右键菜单增加“编辑网格值”，打勾标明当前状态，若中途进行了其它地图操作，则自动取消编辑状态。

-------------------------------------------------------
20190222李治昊
2019/2/18C 2019/2/22
1.SDE图层，可视化页面配置符号大小，可一次性更改所有图元大小
2.调整井数据管理页面，tab页面分别为数据管理、单井、连井剖面、曲线分析、平面分析
3.井图层导入分层数据时，仅保留格式功能
4.井图层导入砂体数据时，仅保留格式功能

-------------------------------------------------------
20190222cj
1.完成盆地模拟相关excel替换（LithologyParameters一个表、Pepper1995Kinetics五张表、BeharKinetics五张表）

-------------------------------------------------------
20190301李治昊
2019/2/25C 2019/2/29
徐忠美：
1.SDE图层导入，可查看导入文件数据
王义刚：
2.井数据管理树，通过‘创建剖面’绘制剖面，区分先后顺序
3.岩石物理分析，打开窗口，按默认数据直接出图
4.井数据管理，改变读取数据个数方式，减小数据库访问量
5.连井剖面，调整道宽后，点击‘应用到所有’后，每口井道宽均调整
6.连井剖面缩放后，超出曲线道头的部分，不再绘制
7.连井剖面，按模板显示，增加处理一个道中，多根曲线的情况
8.连井剖面选择，如遇屏幕点对应多个井点时，弹出对话框给用户选择
解国军：
9.等值线z值全部相同，不再填充颜色，加快渲染速度

---------------------------------------------------------
20190301 景妍
1、	栅格图层分析工具增加“矢量化”，结果可生成矢量图层和等值线图层。
2、	解决井位符号绘制缺陷
3、	解决编辑模式下删除图元死机缺陷
4、	解决双击图层页面模式消失缺陷
5、	解决开始编辑后图元消失缺陷
6、	解决选择比例尺后再进行鼠标放大缩小显示不正确缺陷

---------------------------------------------------------
20190301 cj
1、	增加菜单“井数据”的响应。
2、	盆地模拟井数据校验完善。
3、	解决lith editor混和岩性丢失问题。
4、	解决event左右箭头不起作用问题。
5、	sedeiment water interface temperature能够进行粘贴。
6、	解决water depth\paleo depth中的layer检查时可以不存在值。


---------------------------------------------------------
20190308 景妍
1、	矢量图层裁剪功能改为真实裁剪，非压盖处理。
2、	点击编辑图元结点工具时刷新显示结点
3、	新增属性字段后属性表可编辑状态保持不变
4、	删除结点时控制剩余结点数量：线至少剩余2个，多边形至少剩余3个。
5、	点击多边形拾取时关闭编辑等值线网格值状态
6、	关闭等值线控制点抽稀参数的自动赋值功能。
7、	修改控制点抽稀值重新追踪等值线
8、	自定义比例尺：
1)	增加比例尺
2)	移除比例尺
3)	增加当前地图比例尺到列表中
4)	将当前列表全部删除

-------------------------------------------------------
20190308李治昊
2019/3/4C 2019/3/8
王义刚：
1.等值线色标，增加绘制刻度线
2.“井数据管理”改为“井数据处理及应用”
3.测井曲线绘制等值线图，选择分层时，最大最小深度置灰
4.解释成果绘制等值线图，选择分层时，最大最小深度置灰
5.井数据导入，字段选择改为中文，打开文件后自动匹配字段
解国军：
6.井基本信息，增加盆地模拟相关字段

-------------------------------------------------------
20190315 pc
盆地模拟可输出单一或整个阶段等值线，可选输出位置；
复制等值线到layertree可选位置；
显示contour非沉积层不显示；
layertree先打勾后出图；
layertree不激活也显示图层类别image；
去掉解释成果切片的OK按钮；
测井宽高比可以小于0.1；
无效图层检测；
左右切换盆模阶段起作用；
盆地模拟底层新增StrSeg新代码；


-------------------------------------------------------
20190315李治昊
2019/3/11C 2019/3/15
王义刚：
1.深度道宽高比最小值不再限制0.1
2.曲线道合并后，该道中多条曲线均可编辑
3.曲线属性对话框，道选择下拉框，仅加入当前显示的道
4.井数据统计，字符串字段内容筛选，增加‘全选/全不选’控件
5.井数据统计，选择分层时，解决某些情况死机的问题
6.去除工具条中的‘连井剖面’按钮；地图右键菜单，去除
7.井图层右键，增加‘连井剖面’菜单，打开地图‘连井剖面’操作
8.增加测井相分析模块
解国军：
9.等值线导入多个文件，后面文件的配置与第一个等值线文件相同
10.等值线插值时，非直接模式，去除非法值点
-------------------------------------------------------
20190315 wb
1 底层增加了小面元体积法的新方法
2 对体积法相关参数重新进行了翻译
3 增加了gShale的版本

---------------------------------------------------------
20190315 景妍
1、	等值线使用多边形裁剪去掉是否另存提示，直接另存为新图层。
2、	新建图层可以选择多个文件生成多个图层
3、	导入栅格数据时不以工区范围作为图层范围

---------------------------------------------------------
20190315 cj
1.修复heatflow打开赋值表后再导入图层，赋值表中无新图层的问题。
2.修复event无触发相应事件问题。
-------------------------------------------------------
20190321 pc
superlumt单精度；
简单回剥可配粗化比；
显示contour时打勾horizon三维图像同步变；
根据显示类型决定哪些层显示block；
多个SDE图层转Fault；
盆地模拟板默认不展开显示地质树；
泰森多边形范围设置；
泰森多边形输出指定路径；
泰森多边形输出属性表增加井名；
三维盆模图像高度压缩为1/3；
断层线随Horizon显示；
解决Ro不显示缺陷；

---------------------------------------------------------
20190322 cj
1.井数据校验增加压实类、温度类、生烃类等。
2.water depth可以粘贴数据。

-------------------------------------------------------
20190322李治昊
2019/3/18C 2019/3/22
王义刚：
1.测井曲线统计，增加直方图输出
2.解释成果统计，增加直方图输出
3.分析化验数据，增加直方图输出，三元图输出
4.井数据统计，增加直方图输出，三元图输出
5.单井数据管理，增加“其他数据”，导入/更新分析化验数据
6.井数据管理，解决“其他数据”无法输出的问题
7.测井曲线道画板，解释成果道，根据解释结论(气层、油层等)，绘制不同形状、颜色
8.井数据管理，“测井数据”输出，解决曲线重名时无法输出的问题
9.井数据管理，增加“时深数据”输入/输出
10.井图层的字体和SDE图层同步

解国军：
11.井基本信息表，“完钻海拔”改为“井底海拔”
12.测井图层SDE属性表中，加入盆地模拟相关字段
13.测井图层SDE属性表中，‘groundevaluation’改为‘groundelevation’
14.井基本信息表，“垂直深度”默认赋值为“完钻井深”
15.井基本信息表，为petromod变量默认赋值
16.等值线样本点z值相同时，插值点z值也设为相同z值

---------------------------------------------------------
20190322 景妍
1、	栅格图片导入时将图片放置在工区范围内，并保持原有比例。
2、	栅格图片导入时去掉“预览”控件，避免对话框变大闪烁。
3、	栅格图片导入时放在图层树当前聚焦的图层所在类别下。
4、	栅格图层树节点不激活时图标显示。
5、	含多个图元的多边形图层裁剪等值线图。
6、	裁剪等值线图，保留数据可选多边形内或多边形外。
7、	等值线数据导入进行投影转换后，数据预览表格中的z值缺失。
8、	等值线数据导入读取投影转换后坐标值生成等值线。
9、	等值线图层坐标转换功能实现。
10、	等值线裁剪状态取消后保存到数据库，避免下次打开仍有裁剪边界线。
11、	矢量数据导入模块增加基于经纬度度分秒格式的Geomap数据导入功能。
12、	等值线数据导入模块增加度分秒格式的Geomap数据导入功能。
13、	线图元剩余最后两个节点、面图元剩余最后三个节点时继续删除将提示无法删除。
------------------------------------------
20190322 wb
1 底层增加了页岩油小面元体积法的新方法
2 修改了小面元体积法公式和界面显示方法
3 增加分离了了gShale_oil he gshale_gas的版本
-------------------------------------------------------
20190329 pc
拷贝等值线色标相反问题；
三维连井剖面名称重复问题；
多选删除图层；
三维显示井轨迹井号；
剖面属性设置界面优化；
井轨迹地震剖面显示优化；
Ro相关问题修复；

-------------------------------------------------------
20190329李治昊
2019/3/25C 2019/3/29
王义刚：
1.井图层，分析化验数据统计，输出C-M图
2.概率分布图版，直方图设置，增加累积概率百分比模式（‘log-cdf’）
3.交会图版，增加矩阵直方图模式，对角线上的图用直方图显示，其余为交会图（未配合界面）
徐忠美：
4.线图层转等值线，插值方法默认为距离反平方

---------------------------------------------------------
20190329 景妍
1、	线图层、多边形图层移动拐点操作改为直接拖动拐点（不用双击）。
2、	编辑工具条增加样条插值参数设置。
3、	等值线IDW插值方法改进，增加样本点网格索引。
4、	地图代数界面布局优化。
5、	栅格数据导入时可修改图层名称。
6、	栅格图层数字化相关缺陷修改。
7、	栅格图层数字化增加图上删除功能。
8、	求交集后图层继承基准图层的属性值。
---------------------------------------------------------
20190329 wb
1 增加了体积法默认参数的设置
2 增加了对体积法特殊参数的判断
3 更换了等值线生成函数

---------------------------------------------------------
20190403 cj
1.选择其他校验时，“Calibration”下面的参数不可见；
2.热流tab页中字段修改为mW/m^2；
3.三维显示overlay中修改“Pressure：Lithostatic”；
4.Facies definition中Tab页中的TOC map和HI map增加空选项。
---------------------------------------------------------
20190404 pc
盆地模拟三维显示地质参数增加离散和连续两种颜色过渡模式；
盆地模拟三维树增加checkbox控制单层的显示与否；
盆地模拟三维显示增加地质参数的种类；
盆地模拟增加断点续传模式；
连井剖面滚轮道移动缺陷；
盆地模拟scheduler获取下个job缺陷；
盆地模拟三维显示默认选择第一个阶段；
盆地模拟界面文字修改；
block模式打勾也同步刷新三维图像；
在不同节点下显示contour或block自动只显示此节点下的数据类型；
layer节点去掉地质类型编辑；
圈闭优选缺陷；
井属性配置增加应用左右刻度到所有曲线；
泰森多边形界面调整；
三维连井剖面重复显示时增加提示；


-------------------------------------------------------
20190404李治昊
2019/4/1C 2019/4/5
王义刚：
1.井数据管理及应用，调整界面
2.分层数据导入，字段‘层位’改为‘分层名称’
3.测井解释数据统计，非法行标记为黄色，不再弹出提示
4.测井解释数据统计，直方图，不添加非法数据
5.测井解释数据统计，用单一控件切换分层
6.交会图版，自定义设置对数轴，解决某些情况死机的问题
7.井基本信息，增加“井组”字段

解国军：
8.井基本信息，直井的井底横纵坐标等于井口横纵坐标
9.井基本信息，重新计算井底海拔
10.井图层坐标转换，直接更新图层，不再新生成图层

-------------------------------------------
20190404 wb
1 增加了海外版本的新脚本文件（无须更新程序）
2 修改了海外版本的菜单名称等

---------------------------------------------------------
20190404 景妍
1、叠加分析增加交集取反和擦除功能。
2、新建工区范围设为0.
3、多边形裁剪等值线图另存后去掉裁剪边界线
4、栅格图层若为工区第一个图层，工区范围设置为其范围。
5、多边形relationto函数修正。
---------------------------------------------------------
20190411 pc
解决提交到储备库死机缺陷；
地质建模organizer树界面调整；
organizer树节点增加勾选框，分别勾选显示；
地质图层树节点拖动到顶部时，节点移动到顶部；
井曲线压缩存储；
anydb增加nextkey直接设置；
---------------------------------------------------------
20190412 景妍
1、	擦除：输出图层继承输入图层（被擦除图层）的属性值。
2、	交集取反：输出图层继承输入图层（基准图层）的属性值。
3、	相交：输出图层继承所有输入图层的属性值。
4、	联合：输出图层继承所有输入图层的属性值。
5、	“参数统计”改为“栅格统计”
6、	等值线裁剪边界填充错误情况修改

-------------------------------------------------------
20190412李治昊
2019/4/8C 2019/4/12
王义刚：
1.井数据管理，输入/输出井开发数据（4张表）
2.井数据管理，已加载数据过滤，增加开发数据（4张表）
3.井数据更新，列头改为中文
4.井数据查询更新界面，列序号宽度根据行数调整
5.井数据查询更新界面，增加井名查找功能，便于快速定位
----------------------------------------------------------
20190412 wb
1修改了SDE图层的栅格分析方法，增加了新的接口
2 修改了海外版的界面的一些变化。
3尝试了新的框架代码的应用（未完全提交）
4解决了字体大小导致界面显示不全的问题
---------------------------------------------------------
20190419 pc
增加层位断层线型颜色宽度属性配置表；
测井曲线按单根线存储；
地震剖面显示测井曲线顶底两端显示测井曲线名称；
剖面层位追踪从鼠标点向左右追踪；
盆地模拟厚度为0区域不显示参数；
地质框架树勾选图层不改变其他图层显示状态；

-------------------------------------------------------
20190419李治昊
2019/4/14C 2019/4/19
王义刚：
1.井数据管理，井组界面配合

---------------------------------------------------------
20190419 景妍
1、	复制图层到当前图层下方
2、	导入等值线数据的txt文件格式不限制文件后缀
3、	更换工具条图标
4、	修改完善前一视图后一视图功能
--------------------------------------------------------（）-
20190425 pc
Layer的showblock模式全红缺陷修复；
sgy文件路径重新指定功能；
layer增加重新配顶底面功能；
导las支持同一个深度有多行数据的格式；
地震剖面左右刻度轴一直在屏幕范围内；
测井刻度道刻度间隔自适应；
导入解释层位增加单位；
asdf快捷键切换剖面；
地震模块进度条剩余时间估计；
盆地模拟行列数过小则不模拟；
低频模型只勾选同一工区的井；
地震各个模块去掉apply按钮；
叠前道头扫描默认1000道；
---------------------------------------------------------
20190426 wb
1 更新了体积法的翻译文件（更新翻译文件）
2 更新了打分模板数据库（更新数据库脚本）
3 更新了体积法图版采样点的方法
4 增加了自动生成样本的方法
5 更新了油藏贵序列分区的资源量结果列表显示方法

-------------------------------------------------------
20190426李治昊
2019/4/22C 2019/4/26
王义刚：
1.等值线导入数据，不再限制样本数大于3
2.测井图层，勾选剖面线，不再聚焦到当前剖面线范围
3.测井曲线数据优化：测井曲线数据与测井图版属性分开存储
4.测井图层，导入自定义曲线数据，按las格式保存到数据库

---------------------------------------------------------
20190430 景妍
1、	等值线组合类及主要接口实现，界面设置简单菜单测试。
2、	页面模式自定义坐标缺失时提示
3、	修复页面模式下平移失效缺陷
4、	地图平移操作后更新mapport
-------------------------------------------------------
20190430李治昊
2019/4/29C 2019/5/3
王义刚：
1.测井曲线更新，新接口（CLogDataAccessor）读取测井曲线数据
2.测井曲线输出，新接口（CLogDataAccessor）读取测井曲线数据
-------------------------------------------------------
20190430wb
1.增加了卡方显示的判断
2.优化了小面元计算的流程
3 修改了油藏规模序列的显示结果方法
-------------------------------------------------------
20190508 pc
sourcerock，TOC提前算；
PetroGenStyle在facedefinition里面配置；
GetThermalCond传入Tm；
m_middle_temperature值搞对；
图层勾选激活卡住缺陷；

-------------------------------------------------------
20190510李治昊
王义刚：
1.测井曲线统计，新接口（CLogDataAccessor）读取测井曲线数据
2.测井曲线等值线，新接口（CLogDataAccessor）读取测井曲线数据
3.测井相，新接口（CLogDataAccessor）读取测井曲线数据
4.增加测井数据过滤功能

---------------------------------------------------------
20190510 景妍
1、等值线范围变化判断条件放宽至相差0.00001（地图范围变化后成图慢）
2、多边形图层分析工具箱增加相控建模工具

-------------------------------------------------------
20190510 wb
1 概率面板对话框中增加了新的概率面板
2 调整了maiframe加载的顺序

---------------------------------------------------------
20190517 景妍
1、	等值线图裁剪后使用裁剪边界线打断等值线
2、	等值线数据导入时默认网格数改为20，线平滑插值点数改为20
3、	等值线数据导入时若选择“直接设值”，自动计算网格数据的行列数并更新
4、	距离反平方插值默认参数调整
5、	相控建模界面
---------------------------------------------------------
20190517 wb
1、增加了新的打分模板
2、修改了概率分布的显示设置
-------------------------------------------------------
20190524 pc
跟进景妍GIS新功能：工区激活，工区全图显示，取消类别，无效图层自动检测，多选右键菜单增加复制、新建类别、打开、关闭、缩放至图层；

-------------------------------------------------------
20190524李治昊
王义刚：
1.岩石物理分析，新接口（CLogDataAccessor）读取测井曲线数据

-------------------------------------------------------
20190524 wb
1 重构打分模板模块（继续）

---------------------------------------------------------
20190524 景妍
1、分析工具箱弹出后固定位置
2、工区属性增加当前坐标系详细信息
3、地图工具条增加“上一视图”“下一视图”
4、地图工具条增加“转到XY位置”
5、地图右键菜单增加“居中”
6、“页面模式”改为“布局视图”
-------------------------------------------------------
20190528 pc
kida_class表增加两个字段projtype,coordtype;
矩阵求解log输出；
结果显示参数配置界面调整,增加几种数据显示；
三维树不显示剥蚀掉的层；
厚度为0的区域不显示数据；
双击不把其他层隐藏；
工区激活及全图显示调整；

-------------------------------------------------------
20190531李治昊
解国军：
1.等值线，增加‘散点图’模式，只显示样本点
2.等值线，半变差图，理论曲线，增加x=0时的点
3.等值线导入，设置默认的nugget，sill，range值

王义刚：
1.测井模块，增加‘曲线名称标准化’功能

徐忠美：
1.概率面板，美化统计值标注
2.概率面板，处理超出坐标范围的值

---------------------------------------------------------
20190531 景妍
1、	设置图层不可见时不能使用编辑工具
2、	相控建模，完成相多边形分别设置变差参数
3、	相控建模，选择已有等值线图层时可以设置属性
4、	地图右键菜单增加“缩放至所选要素”“平移至所选要素”“清除所选要素”
5、	持久化图层坐标系信息
6、	新建图层、导入数据、图层属性中列出坐标系详细信息
7、	增加“定义投影”工具
8、	坐标转换时，已知坐标系的图层自动读取且不允许修改
9、	为工区设置坐标系时，可以从工区内图层坐标系中直接选择


---------------------------------------------------------
20190531 wb
1、	增加了新的打分模板数据结构
2、	增加了新的打分模板panel
---------------------------------------------------------
20190605 pc
1.superlu输出log
2.图层树未激活时节点为灰色
3.激活工区持久化

---------------------------------------------------------
20190606 景妍
1、	图元拾取结果中的图元长度周长面积带单位
2、	地图上的长度周长面积测量结果带单位
3、	地图上的显示坐标带单位
4、	工区改变坐标系后更新地图单位
5、	切换激活工区后更新地图单位
6、	将地图右键“放大”“缩小”改为以当前鼠标右键点为中心
7、	激活工区后定位到工区范围
